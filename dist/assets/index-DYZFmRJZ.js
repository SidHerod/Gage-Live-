(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function G0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var md={exports:{}},io={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function PT(){if(ov)return io;ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return io.Fragment=e,io.jsx=i,io.jsxs=i,io}var uv;function UT(){return uv||(uv=1,md.exports=PT()),md.exports}var x=UT(),gd={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function kT(){if(cv)return be;cv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function A(O){return O===null||typeof O!="object"?null:(O=w&&O[w]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Q={};function K(O,te,oe){this.props=O,this.context=te,this.refs=Q,this.updater=oe||j}K.prototype.isReactComponent={},K.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function F(){}F.prototype=K.prototype;function J(O,te,oe){this.props=O,this.context=te,this.refs=Q,this.updater=oe||j}var ne=J.prototype=new F;ne.constructor=J,V(ne,K.prototype),ne.isPureReactComponent=!0;var ue=Array.isArray,ae={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function C(O,te,oe,re,ge,we){return oe=we.ref,{$$typeof:r,type:O,key:te,ref:oe!==void 0?oe:null,props:we}}function S(O,te){return C(O.type,te,void 0,void 0,void 0,O.props)}function R(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function D(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return te[oe]})}var P=/\/+/g;function k(O,te){return typeof O=="object"&&O!==null&&O.key!=null?D(""+O.key):te.toString(36)}function N(){}function Nt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function nt(O,te,oe,re,ge){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(we){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case r:case e:Ee=!0;break;case T:return Ee=O._init,nt(Ee(O._payload),te,oe,re,ge)}}if(Ee)return ge=ge(O),Ee=re===""?"."+k(O,0):re,ue(ge)?(oe="",Ee!=null&&(oe=Ee.replace(P,"$&/")+"/"),nt(ge,te,oe,"",function(zn){return zn})):ge!=null&&(R(ge)&&(ge=S(ge,oe+(ge.key==null||O&&O.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+Ee)),te.push(ge)),1;Ee=0;var Tt=re===""?".":re+":";if(ue(O))for(var Ke=0;Ke<O.length;Ke++)re=O[Ke],we=Tt+k(re,Ke),Ee+=nt(re,te,oe,we,ge);else if(Ke=A(O),typeof Ke=="function")for(O=Ke.call(O),Ke=0;!(re=O.next()).done;)re=re.value,we=Tt+k(re,Ke++),Ee+=nt(re,te,oe,we,ge);else if(we==="object"){if(typeof O.then=="function")return nt(Nt(O),te,oe,re,ge);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X(O,te,oe){if(O==null)return O;var re=[],ge=0;return nt(O,re,"","",function(we){return te.call(oe,we,ge++)}),re}function le(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var me=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ke(){}return be.Children={map:X,forEach:function(O,te,oe){X(O,function(){te.apply(this,arguments)},oe)},count:function(O){var te=0;return X(O,function(){te++}),te},toArray:function(O){return X(O,function(te){return te})||[]},only:function(O){if(!R(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},be.Component=K,be.Fragment=i,be.Profiler=o,be.PureComponent=J,be.StrictMode=a,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,be.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ae.H.useMemoCache(O)}},be.cache=function(O){return function(){return O.apply(null,arguments)}},be.cloneElement=function(O,te,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var re=V({},O.props),ge=O.key,we=void 0;if(te!=null)for(Ee in te.ref!==void 0&&(we=void 0),te.key!==void 0&&(ge=""+te.key),te)!de.call(te,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&te.ref===void 0||(re[Ee]=te[Ee]);var Ee=arguments.length-2;if(Ee===1)re.children=oe;else if(1<Ee){for(var Tt=Array(Ee),Ke=0;Ke<Ee;Ke++)Tt[Ke]=arguments[Ke+2];re.children=Tt}return C(O.type,ge,void 0,void 0,we,re)},be.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},be.createElement=function(O,te,oe){var re,ge={},we=null;if(te!=null)for(re in te.key!==void 0&&(we=""+te.key),te)de.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=te[re]);var Ee=arguments.length-2;if(Ee===1)ge.children=oe;else if(1<Ee){for(var Tt=Array(Ee),Ke=0;Ke<Ee;Ke++)Tt[Ke]=arguments[Ke+2];ge.children=Tt}if(O&&O.defaultProps)for(re in Ee=O.defaultProps,Ee)ge[re]===void 0&&(ge[re]=Ee[re]);return C(O,we,void 0,void 0,null,ge)},be.createRef=function(){return{current:null}},be.forwardRef=function(O){return{$$typeof:g,render:O}},be.isValidElement=R,be.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:le}},be.memo=function(O,te){return{$$typeof:y,type:O,compare:te===void 0?null:te}},be.startTransition=function(O){var te=ae.T,oe={};ae.T=oe;try{var re=O(),ge=ae.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ke,me)}catch(we){me(we)}finally{ae.T=te}},be.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},be.use=function(O){return ae.H.use(O)},be.useActionState=function(O,te,oe){return ae.H.useActionState(O,te,oe)},be.useCallback=function(O,te){return ae.H.useCallback(O,te)},be.useContext=function(O){return ae.H.useContext(O)},be.useDebugValue=function(){},be.useDeferredValue=function(O,te){return ae.H.useDeferredValue(O,te)},be.useEffect=function(O,te,oe){var re=ae.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(O,te)},be.useId=function(){return ae.H.useId()},be.useImperativeHandle=function(O,te,oe){return ae.H.useImperativeHandle(O,te,oe)},be.useInsertionEffect=function(O,te){return ae.H.useInsertionEffect(O,te)},be.useLayoutEffect=function(O,te){return ae.H.useLayoutEffect(O,te)},be.useMemo=function(O,te){return ae.H.useMemo(O,te)},be.useOptimistic=function(O,te){return ae.H.useOptimistic(O,te)},be.useReducer=function(O,te,oe){return ae.H.useReducer(O,te,oe)},be.useRef=function(O){return ae.H.useRef(O)},be.useState=function(O){return ae.H.useState(O)},be.useSyncExternalStore=function(O,te,oe){return ae.H.useSyncExternalStore(O,te,oe)},be.useTransition=function(){return ae.H.useTransition()},be.version="19.1.0",be}var hv;function rm(){return hv||(hv=1,gd.exports=kT()),gd.exports}var B=rm();const LT=G0(B);var pd={exports:{}},ro={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fv;function jT(){return fv||(fv=1,function(r){function e(X,le){var me=X.length;X.push(le);e:for(;0<me;){var ke=me-1>>>1,O=X[ke];if(0<o(O,le))X[ke]=le,X[me]=O,me=ke;else break e}}function i(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var le=X[0],me=X.pop();if(me!==le){X[0]=me;e:for(var ke=0,O=X.length,te=O>>>1;ke<te;){var oe=2*(ke+1)-1,re=X[oe],ge=oe+1,we=X[ge];if(0>o(re,me))ge<O&&0>o(we,re)?(X[ke]=we,X[ge]=me,ke=ge):(X[ke]=re,X[oe]=me,ke=oe);else if(ge<O&&0>o(we,me))X[ke]=we,X[ge]=me,ke=ge;else break e}}return le}function o(X,le){var me=X.sortIndex-le.sortIndex;return me!==0?me:X.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,w=null,A=3,j=!1,V=!1,Q=!1,K=!1,F=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ue(X){for(var le=i(y);le!==null;){if(le.callback===null)a(y);else if(le.startTime<=X)a(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=i(y)}}function ae(X){if(Q=!1,ue(X),!V)if(i(p)!==null)V=!0,de||(de=!0,k());else{var le=i(y);le!==null&&nt(ae,le.startTime-X)}}var de=!1,C=-1,S=5,R=-1;function D(){return K?!0:!(r.unstable_now()-R<S)}function P(){if(K=!1,de){var X=r.unstable_now();R=X;var le=!0;try{e:{V=!1,Q&&(Q=!1,J(C),C=-1),j=!0;var me=A;try{t:{for(ue(X),w=i(p);w!==null&&!(w.expirationTime>X&&D());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,A=w.priorityLevel;var O=ke(w.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){w.callback=O,ue(X),le=!0;break t}w===i(p)&&a(p),ue(X)}else a(p);w=i(p)}if(w!==null)le=!0;else{var te=i(y);te!==null&&nt(ae,te.startTime-X),le=!1}}break e}finally{w=null,A=me,j=!1}le=void 0}}finally{le?k():de=!1}}}var k;if(typeof ne=="function")k=function(){ne(P)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Nt=N.port2;N.port1.onmessage=P,k=function(){Nt.postMessage(null)}}else k=function(){F(P,0)};function nt(X,le){C=F(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(X){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var me=A;A=le;try{return X()}finally{A=me}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var me=A;A=X;try{return le()}finally{A=me}},r.unstable_scheduleCallback=function(X,le,me){var ke=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ke+me:ke):me=ke,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=me+O,X={id:T++,callback:le,priorityLevel:X,startTime:me,expirationTime:O,sortIndex:-1},me>ke?(X.sortIndex=me,e(y,X),i(p)===null&&X===i(y)&&(Q?(J(C),C=-1):Q=!0,nt(ae,me-ke))):(X.sortIndex=O,e(p,X),V||j||(V=!0,de||(de=!0,k()))),X},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(X){var le=A;return function(){var me=A;A=le;try{return X.apply(this,arguments)}finally{A=me}}}}(vd)),vd}var dv;function zT(){return dv||(dv=1,yd.exports=jT()),yd.exports}var _d={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function BT(){if(mv)return Ht;mv=1;var r=rm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ht.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,T)},Ht.flushSync=function(p){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,p)return p()}finally{d.T=y,a.p=T,a.d.f()}},Ht.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Ht.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ht.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:j}):T==="script"&&a.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ht.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Ht.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=g(T,y.crossOrigin);a.d.L(p,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ht.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Ht.requestFormReset=function(p){a.d.r(p)},Ht.unstable_batchedUpdates=function(p,y){return p(y)},Ht.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ht.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ht.version="19.1.0",Ht}var gv;function HT(){if(gv)return _d.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_d.exports=BT(),_d.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function GT(){if(pv)return ro;pv=1;var r=zT(),e=rm(),i=HT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===l)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var _=!1,E=h.child;E;){if(E===s){_=!0,s=h,l=f;break}if(E===l){_=!0,l=h,s=f;break}E=E.sibling}if(!_){for(E=f.child;E;){if(E===s){_=!0,s=f,l=h;break}if(E===l){_=!0,l=f,s=h;break}E=E.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Nt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case K:return"Profiler";case Q:return"StrictMode";case ae:return"Suspense";case de:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ue:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:Nt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Nt(t(n))}catch{}}return null}var nt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ke=[],O=-1;function te(t){return{current:t}}function oe(t){0>O||(t.current=ke[O],ke[O]=null,O--)}function re(t,n){O++,ke[O]=t.current,t.current=n}var ge=te(null),we=te(null),Ee=te(null),Tt=te(null);function Ke(t,n){switch(re(Ee,n),re(we,t),re(ge,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Uy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Uy(n),t=ky(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),re(ge,t)}function zn(){oe(ge),oe(we),oe(Ee)}function Qi(t){t.memoizedState!==null&&re(Tt,t);var n=ge.current,s=ky(n,t.type);n!==s&&(re(we,t),re(ge,s))}function ui(t){we.current===t&&(oe(ge),oe(we)),Tt.current===t&&(oe(Tt),Jl._currentValue=me)}var Ur=Object.prototype.hasOwnProperty,kr=r.unstable_scheduleCallback,Lr=r.unstable_cancelCallback,Xa=r.unstable_shouldYield,Bo=r.unstable_requestPaint,dn=r.unstable_now,dh=r.unstable_getCurrentPriorityLevel,$a=r.unstable_ImmediatePriority,Us=r.unstable_UserBlockingPriority,jr=r.unstable_NormalPriority,mh=r.unstable_LowPriority,ks=r.unstable_IdlePriority,Za=r.log,Ho=r.unstable_setDisableYieldValue,it=null,ze=null;function rn(t){if(typeof Za=="function"&&Ho(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(it,t)}catch{}}var zt=Math.clz32?Math.clz32:zr,Go=Math.log,gh=Math.LN2;function zr(t){return t>>>=0,t===0?32:31-(Go(t)/gh|0)|0}var Br=256,Hr=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ls(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Cn(l):(_&=E,_!==0?h=Cn(_):s||(s=E&~t,s!==0&&(h=Cn(s))))):(E=l&~f,E!==0?h=Cn(E):_!==0?h=Cn(_):s||(s=l&~t,s!==0&&(h=Cn(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Gr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ja(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wa(){var t=Br;return Br<<=1,(Br&4194048)===0&&(Br=256),t}function el(){var t=Hr;return Hr<<=1,(Hr&62914560)===0&&(Hr=4194304),t}function ci(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tl(t,n,s,l,h,f){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var $=31-zt(s),W=1<<$;E[$]=0,I[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var q=G[$];q!==null&&(q.lane&=-536870913)}s&=~W}l!==0&&Bn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~n))}function Bn(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-zt(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function nl(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-zt(s),h=1<<l;h&n|t[l]&n&&(t[l]|=n),s&=~h}}function Ki(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function js(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Xi(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:nv(t.type))}function qo(t,n){var s=le.p;try{return le.p=t,n()}finally{le.p=s}}var Ze=Math.random().toString(36).slice(2),pt="__reactFiber$"+Ze,ct="__reactProps$"+Ze,mn="__reactContainer$"+Ze,il="__reactEvents$"+Ze,ph="__reactListeners$"+Ze,$i="__reactHandles$"+Ze,Fo="__reactResources$"+Ze,qr="__reactMarker$"+Ze;function Zi(t){delete t[pt],delete t[ct],delete t[il],delete t[ph],delete t[$i]}function fi(t){var n=t[pt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[mn]||s[pt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=By(t);t!==null;){if(s=t[pt])return s;t=By(t)}return n}t=s,s=t.parentNode}return null}function Hn(t){if(t=t[pt]||t[mn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qt(t){var n=t[Fo];return n||(n=t[Fo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function lt(t){t[qr]=!0}var rl=new Set,zs={};function In(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(zs[t]=n,t=0;t<n.length;t++)rl.add(n[t])}var Yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qo={},Fr={};function Ko(t){return Ur.call(Fr,t)?!0:Ur.call(Qo,t)?!1:Yo.test(t)?Fr[t]=!0:(Qo[t]=!0,!1)}function Ji(t,n,s){if(Ko(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function qn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Dt(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Yr,Xo;function mi(t){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xo=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+t+Xo}var Bs=!1;function Hs(t,n){if(!t||Bs)return"";Bs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(q){var G=q}Reflect.construct(t,[],W)}else{try{W.call()}catch(q){G=q}t.call(W.prototype)}}else{try{throw Error()}catch(q){G=q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(q){if(q&&G&&typeof q.stack=="string")return[q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],E=f[1];if(_&&E){var I=_.split(`
`),H=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var $=`
`+I[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Bs=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?mi(s):""}function sl(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Hs(t.type,!1);case 11:return Hs(t.type.render,!1);case 1:return Hs(t.type,!0);case 31:return mi("Activity");default:return""}}function Gs(t){try{var n="";do n+=sl(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function Kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function al(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function yh(t){var n=al(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,f.call(this,_)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function qs(t){t._valueTracker||(t._valueTracker=yh(t))}function ll(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=al(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vh=/[\n"\\]/g;function ht(t){return t.replace(vh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,s,l,h,f,_,E){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Kt(n)):t.value!==""+Kt(n)&&(t.value=""+Kt(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Wi(t,_,Kt(n)):s!=null?Wi(t,_,Kt(s)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Kt(E):t.removeAttribute("name")}function Kr(t,n,s,l,h,f,_,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+Kt(s):"",n=n!=null?""+Kt(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Wi(t,n,s){n==="number"&&Qr(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function gi(t,n,s,l){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+Kt(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Ge(t,n,s){if(n!=null&&(n=""+Kt(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+Kt(s):""}function Xr(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(nt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Kt(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var $r=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||$r.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function ol(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&$o(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&$o(t,f,n[f])}function ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(t){return Eh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pi=null;function pn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,vi=null;function cl(t){var n=Hn(t);if(n&&(t=n.stateNode)){var s=t[ct]||null;e:switch(t=n.stateNode,n.type){case"input":if(sn(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ht(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var h=l[ct]||null;if(!h)throw Error(a(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&ll(l)}break e;case"textarea":Ge(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&gi(t,!!s.multiple,n,!1)}}}var Fn=!1;function Zo(t,n,s){if(Fn)return t(n,s);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(yi!==null||vi!==null)&&(qu(),yi&&(n=yi,t=vi,vi=yi=null,cl(n),t)))for(n=0;n<t.length;n++)cl(t[n])}}function Zr(t,n){var s=t.stateNode;if(s===null)return null;var l=s[ct]||null;if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Nn)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{yn=!1}var Yn=null,er=null,_i=null;function hl(){if(_i)return _i;var t,n=er,s=n.length,l,h="value"in Yn?Yn.value:Yn.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var _=s-t;for(l=1;l<=_&&n[s-l]===h[f-l];l++);return _i=h.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function fl(){return!1}function bt(t){function n(s,l,h,f,_){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:fl,this.isPropagationStopped=fl,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var je={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ys=bt(je),Wr=T({},je,{view:0,detail:0}),Jo=bt(Wr),Qs,Ks,Xn,es=T({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(Qs=t.screenX-Xn.screenX,Ks=t.screenY-Xn.screenY):Ks=Qs=0,Xn=t),Qs)},movementY:function(t){return"movementY"in t?t.movementY:Ks}}),vn=bt(es),Wo=T({},es,{dataTransfer:0}),Th=bt(Wo),ts=T({},Wr,{relatedTarget:0}),Xs=bt(ts),dl=T({},je,{animationName:0,elapsedTime:0,pseudoElement:0}),$s=bt(dl),eu=T({},je,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Zs=bt(eu),bh=T({},je,{data:0}),ml=bt(bh),ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=nu[t])?!!n[t]:!1}function is(){return gl}var iu=T({},Wr,{key:function(t){if(t.key){var n=ns[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Js=bt(iu),ru=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=bt(ru),Ei=T({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),su=bt(Ei),au=T({},je,{propertyName:0,elapsedTime:0,pseudoElement:0}),lu=bt(au),ou=T({},es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ws=bt(ou),Xt=T({},je,{newState:0,oldState:0}),uu=bt(Xt),cu=[9,13,27,32],$n=Nn&&"CompositionEvent"in window,u=null;Nn&&"documentMode"in document&&(u=document.documentMode);var m=Nn&&"TextEvent"in window&&!u,v=Nn&&(!$n||u&&8<u&&11>=u),b=" ",L=!1;function Y(t,n){switch(t){case"keyup":return cu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var De=!1;function yt(t,n){switch(t){case"compositionend":return se(n);case"keypress":return n.which!==32?null:(L=!0,b);case"textInput":return t=n.data,t===b&&L?null:t;default:return null}}function Oe(t,n){if(De)return t==="compositionend"||!$n&&Y(t,n)?(t=hl(),_i=er=Yn=null,De=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var At={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vt(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!At[t.type]:n==="textarea"}function Ti(t,n,s,l){yi?vi?vi.push(l):vi=[l]:yi=l,n=$u(n,"onChange"),0<n.length&&(s=new Ys("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var Ot=null,Zn=null;function yl(t){Dy(t,0)}function hu(t){var n=Gn(t);if(ll(n))return t}function Jm(t,n){if(t==="change")return n}var Wm=!1;if(Nn){var Ah;if(Nn){var Sh="oninput"in document;if(!Sh){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),Sh=typeof eg.oninput=="function"}Ah=Sh}else Ah=!1;Wm=Ah&&(!document.documentMode||9<document.documentMode)}function tg(){Ot&&(Ot.detachEvent("onpropertychange",ng),Zn=Ot=null)}function ng(t){if(t.propertyName==="value"&&hu(Zn)){var n=[];Ti(n,Zn,t,pn(t)),Zo(yl,n)}}function h1(t,n,s){t==="focusin"?(tg(),Ot=n,Zn=s,Ot.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function f1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(Zn)}function d1(t,n){if(t==="click")return hu(n)}function m1(t,n){if(t==="input"||t==="change")return hu(n)}function g1(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:g1;function vl(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ur.call(n,h)||!an(t[h],n[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,n){var s=ig(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ig(s)}}function sg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Qr(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Qr(t.document)}return n}function wh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var p1=Nn&&"documentMode"in document&&11>=document.documentMode,ea=null,Rh=null,_l=null,xh=!1;function lg(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xh||ea==null||ea!==Qr(l)||(l=ea,"selectionStart"in l&&wh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=$u(Rh,"onSelect"),0<l.length&&(n=new Ys("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=ea)))}function rs(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var ta={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionrun:rs("Transition","TransitionRun"),transitionstart:rs("Transition","TransitionStart"),transitioncancel:rs("Transition","TransitionCancel"),transitionend:rs("Transition","TransitionEnd")},Ch={},og={};Nn&&(og=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function ss(t){if(Ch[t])return Ch[t];if(!ta[t])return t;var n=ta[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in og)return Ch[t]=n[s];return t}var ug=ss("animationend"),cg=ss("animationiteration"),hg=ss("animationstart"),y1=ss("transitionrun"),v1=ss("transitionstart"),_1=ss("transitioncancel"),fg=ss("transitionend"),dg=new Map,Ih="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ih.push("scrollEnd");function Dn(t,n){dg.set(t,n),In(n,[t])}var mg=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var s=mg.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Gs(n)},mg.set(t,n),n)}return{value:t,source:n,stack:Gs(n)}}var En=[],na=0,Nh=0;function fu(){for(var t=na,n=Nh=na=0;n<t;){var s=En[n];En[n++]=null;var l=En[n];En[n++]=null;var h=En[n];En[n++]=null;var f=En[n];if(En[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}f!==0&&gg(s,h,f)}}function du(t,n,s,l){En[na++]=t,En[na++]=n,En[na++]=s,En[na++]=l,Nh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Dh(t,n,s,l){return du(t,n,s,l),mu(t)}function ia(t,n){return du(t,null,null,n),mu(t)}function gg(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-zt(s),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function mu(t){if(50<ql)throw ql=0,Lf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ra={};function E1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,n,s,l){return new E1(t,n,s,l)}function Oh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var s=t.alternate;return s===null?(s=ln(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function pg(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function gu(t,n,s,l,h,f){var _=0;if(l=t,typeof t=="function")Oh(t)&&(_=1);else if(typeof t=="string")_=bT(t,s,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=ln(31,s,n,h),t.elementType=R,t.lanes=f,t;case V:return as(s.children,h,f,n);case Q:_=8,h|=24;break;case K:return t=ln(12,s,n,h|2),t.elementType=K,t.lanes=f,t;case ae:return t=ln(13,s,n,h),t.elementType=ae,t.lanes=f,t;case de:return t=ln(19,s,n,h),t.elementType=de,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:case ne:_=10;break e;case J:_=9;break e;case ue:_=11;break e;case C:_=14;break e;case S:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=ln(_,s,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,s,l){return t=ln(7,t,l,n),t.lanes=s,t}function Mh(t,n,s){return t=ln(6,t,null,n),t.lanes=s,t}function Vh(t,n,s){return n=ln(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var sa=[],aa=0,pu=null,yu=0,Tn=[],bn=0,ls=null,Ai=1,Si="";function os(t,n){sa[aa++]=yu,sa[aa++]=pu,pu=t,yu=n}function yg(t,n,s){Tn[bn++]=Ai,Tn[bn++]=Si,Tn[bn++]=ls,ls=t;var l=Ai;t=Si;var h=32-zt(l)-1;l&=~(1<<h),s+=1;var f=32-zt(n)+h;if(30<f){var _=h-h%5;f=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ai=1<<32-zt(n)+h|s<<h|l,Si=f+t}else Ai=1<<f|s<<h|l,Si=t}function Ph(t){t.return!==null&&(os(t,1),yg(t,1,0))}function Uh(t){for(;t===pu;)pu=sa[--aa],sa[aa]=null,yu=sa[--aa],sa[aa]=null;for(;t===ls;)ls=Tn[--bn],Tn[bn]=null,Si=Tn[--bn],Tn[bn]=null,Ai=Tn[--bn],Tn[bn]=null}var $t=null,rt=null,Le=!1,us=null,Jn=!1,kh=Error(a(519));function cs(t){var n=Error(a(418,""));throw bl(_n(n,t)),kh}function vg(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[pt]=t,n[ct]=l,s){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Ie(Yl[s],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),Kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qs(n);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),Xr(n,l.value,l.defaultValue,l.children),qs(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Py(n.textContent,s)?(l.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),l.onScroll!=null&&Ie("scroll",n),l.onScrollEnd!=null&&Ie("scrollend",n),l.onClick!=null&&(n.onclick=Zu),n=!0):n=!1,n||cs(t)}function _g(t){for($t=t.return;$t;)switch($t.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:$t=$t.return}}function El(t){if(t!==$t)return!1;if(!Le)return _g(t),Le=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||ed(t.type,t.memoizedProps)),s=!s),s&&rt&&cs(t),_g(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){rt=Mn(t.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}rt=null}}else n===27?(n=rt,pr(t.type)?(t=rd,rd=null,rt=t):rt=n):rt=$t?Mn(t.stateNode.nextSibling):null;return!0}function Tl(){rt=$t=null,Le=!1}function Eg(){var t=us;return t!==null&&(en===null?en=t:en.push.apply(en,t),us=null),t}function bl(t){us===null?us=[t]:us.push(t)}var Lh=te(null),hs=null,wi=null;function tr(t,n,s){re(Lh,n._currentValue),n._currentValue=s}function Ri(t){t._currentValue=Lh.current,oe(Lh)}function jh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function zh(t,n,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var _=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),jh(f.return,s,t),l||(_=null);break e}f=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(a(341));_.lanes|=s,f=_.alternate,f!==null&&(f.lanes|=s),jh(_,s,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Al(t,n,s,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var E=h.type;an(h.pendingProps.value,_.value)||(t!==null?t.push(E):t=[E])}}else if(h===Tt.current){if(_=h.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}h=h.return}t!==null&&zh(n,t,s,l),n.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fs(t){hs=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Bt(t){return Tg(hs,t)}function _u(t,n){return hs===null&&fs(t),Tg(t,n)}function Tg(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},wi===null){if(t===null)throw Error(a(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return s}var T1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},b1=r.unstable_scheduleCallback,A1=r.unstable_NormalPriority,_t={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bh(){return{controller:new T1,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&b1(A1,function(){t.controller.abort()})}var wl=null,Hh=0,la=0,oa=null;function S1(t,n){if(wl===null){var s=wl=[];Hh=0,la=Ff(),oa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Hh++,n.then(bg,bg),n}function bg(){if(--Hh===0&&wl!==null){oa!==null&&(oa.status="fulfilled");var t=wl;wl=null,la=0,oa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function w1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Ag=X.S;X.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&S1(t,n),Ag!==null&&Ag(t,n)};var ds=te(null);function Gh(){var t=ds.current;return t!==null?t:Xe.pooledCache}function Eu(t,n){n===null?re(ds,ds.current):re(ds,n.pool)}function Sg(){var t=Gh();return t===null?null:{parent:_t._currentValue,pool:t}}var Rl=Error(a(460)),wg=Error(a(474)),Tu=Error(a(542)),qh={then:function(){}};function Rg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function bu(){}function xg(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(bu,bu),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ig(t),t;default:if(typeof n.status=="string")n.then(bu,bu);else{if(t=Xe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ig(t),t}throw xl=n,Rl}}var xl=null;function Cg(){if(xl===null)throw Error(a(459));var t=xl;return xl=null,t}function Ig(t){if(t===Rl||t===Tu)throw Error(a(483))}var nr=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ir(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function rr(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Be&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=mu(t),gg(t,null,s),n}return du(t,l,n,s),mu(t)}function Cl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,nl(t,s)}}function Qh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=_:f=f.next=_,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var Kh=!1;function Il(){if(Kh){var t=oa;if(t!==null)throw t}}function Nl(t,n,s,l){Kh=!1;var h=t.updateQueue;nr=!1;var f=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,H=I.next;I.next=null,_===null?f=H:_.next=H,_=I;var $=t.alternate;$!==null&&($=$.updateQueue,E=$.lastBaseUpdate,E!==_&&(E===null?$.firstBaseUpdate=H:E.next=H,$.lastBaseUpdate=I))}if(f!==null){var W=h.baseState;_=0,$=H=I=null,E=f;do{var G=E.lane&-536870913,q=G!==E.lane;if(q?(Me&G)===G:(l&G)===G){G!==0&&G===la&&(Kh=!0),$!==null&&($=$.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ve=t,pe=E;G=n;var Ye=s;switch(pe.tag){case 1:if(ve=pe.payload,typeof ve=="function"){W=ve.call(Ye,W,G);break e}W=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=pe.payload,G=typeof ve=="function"?ve.call(Ye,W,G):ve,G==null)break e;W=T({},W,G);break e;case 2:nr=!0}}G=E.callback,G!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[G]:q.push(G))}else q={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},$===null?(H=$=q,I=W):$=$.next=q,_|=G;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);$===null&&(I=W),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=$,f===null&&(h.shared.lanes=0),fr|=_,t.lanes=_,t.memoizedState=W}}function Ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Dg(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Ng(s[t],n)}var ua=te(null),Au=te(0);function Og(t,n){t=Mi,re(Au,t),re(ua,n),Mi=t|n.baseLanes}function Xh(){re(Au,Mi),re(ua,ua.current)}function $h(){Mi=Au.current,oe(ua),oe(Au)}var sr=0,Ae=null,qe=null,ft=null,Su=!1,ca=!1,ms=!1,wu=0,Dl=0,ha=null,R1=0;function ot(){throw Error(a(321))}function Zh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!an(t[s],n[s]))return!1;return!0}function Jh(t,n,s,l,h,f){return sr=f,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,X.H=t===null||t.memoizedState===null?gp:pp,ms=!1,f=s(l,h),ms=!1,ca&&(f=Vg(n,s,l,h)),Mg(t),f}function Mg(t){X.H=Du;var n=qe!==null&&qe.next!==null;if(sr=0,ft=qe=Ae=null,Su=!1,Dl=0,ha=null,n)throw Error(a(300));t===null||St||(t=t.dependencies,t!==null&&vu(t)&&(St=!0))}function Vg(t,n,s,l){Ae=t;var h=0;do{if(ca&&(ha=null),Dl=0,ca=!1,25<=h)throw Error(a(301));if(h+=1,ft=qe=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=M1,f=n(s,l)}while(ca);return f}function x1(){var t=X.H,n=t.useState()[0];return n=typeof n.then=="function"?Ol(n):n,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(Ae.flags|=1024),n}function Wh(){var t=wu!==0;return wu=0,t}function ef(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function tf(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}sr=0,ft=qe=Ae=null,ca=!1,Dl=wu=0,ha=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ae.memoizedState=ft=t:ft=ft.next=t,ft}function dt(){if(qe===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var n=ft===null?Ae.memoizedState:ft.next;if(n!==null)ft=n,qe=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ft===null?Ae.memoizedState=ft=t:ft=ft.next=t}return ft}function nf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ol(t){var n=Dl;return Dl+=1,ha===null&&(ha=[]),t=xg(ha,t,n),n=Ae,(ft===null?n.memoizedState:ft.next)===null&&(n=n.alternate,X.H=n===null||n.memoizedState===null?gp:pp),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ol(t);if(t.$$typeof===ne)return Bt(t)}throw Error(a(438,String(t)))}function rf(t){var n=null,s=Ae.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=nf(),Ae.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=D;return n.index++,s}function xi(t,n){return typeof n=="function"?n(t):n}function xu(t){var n=dt();return sf(n,qe,t)}function sf(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var _=h.next;h.next=f.next,f.next=_}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=_=null,I=null,H=n,$=!1;do{var W=H.lane&-536870913;if(W!==H.lane?(Me&W)===W:(sr&W)===W){var G=H.revertLane;if(G===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),W===la&&($=!0);else if((sr&G)===G){H=H.next,G===la&&($=!0);continue}else W={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=W,_=f):I=I.next=W,Ae.lanes|=G,fr|=G;W=H.action,ms&&s(f,W),f=H.hasEagerState?H.eagerState:s(f,W)}else G={lane:W,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(E=I=G,_=f):I=I.next=G,Ae.lanes|=W,fr|=W;H=H.next}while(H!==null&&H!==n);if(I===null?_=f:I.next=E,!an(f,t.memoizedState)&&(St=!0,$&&(s=oa,s!==null)))throw s;t.memoizedState=f,t.baseState=_,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function af(t){var n=dt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var _=h=h.next;do f=t(f,_.action),_=_.next;while(_!==h);an(f,n.memoizedState)||(St=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Pg(t,n,s){var l=Ae,h=dt(),f=Le;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var _=!an((qe||h).memoizedState,s);_&&(h.memoizedState=s,St=!0),h=h.queue;var E=Lg.bind(null,l,h,t);if(Ml(2048,8,E,[t]),h.getSnapshot!==n||_||ft!==null&&ft.memoizedState.tag&1){if(l.flags|=2048,fa(9,Cu(),kg.bind(null,l,h,s,n),null),Xe===null)throw Error(a(349));f||(sr&124)!==0||Ug(l,n,s)}return s}function Ug(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Ae.updateQueue,n===null?(n=nf(),Ae.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function kg(t,n,s,l){n.value=s,n.getSnapshot=l,jg(n)&&zg(t)}function Lg(t,n,s){return s(function(){jg(n)&&zg(t)})}function jg(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!an(t,s)}catch{return!0}}function zg(t){var n=ia(t,2);n!==null&&fn(n,t,2)}function lf(t){var n=Jt();if(typeof t=="function"){var s=t;if(t=s(),ms){rn(!0);try{s()}finally{rn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:t},n}function Bg(t,n,s,l){return t.baseState=s,sf(t,qe,typeof l=="function"?l:xi)}function C1(t,n,s,l,h){if(Nu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};X.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Hg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Hg(t,n){var s=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=X.T,_={};X.T=_;try{var E=s(h,l),I=X.S;I!==null&&I(_,E),Gg(t,n,E)}catch(H){of(t,n,H)}finally{X.T=f}}else try{f=s(h,l),Gg(t,n,f)}catch(H){of(t,n,H)}}function Gg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){qg(t,n,l)},function(l){return of(t,n,l)}):qg(t,n,s)}function qg(t,n,s){n.status="fulfilled",n.value=s,Fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Hg(t,s)))}function of(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Fg(n),n=n.next;while(n!==l)}t.action=null}function Fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Yg(t,n){return n}function Qg(t,n){if(Le){var s=Xe.formState;if(s!==null){e:{var l=Ae;if(Le){if(rt){t:{for(var h=rt,f=Jn;h.nodeType!==8;){if(!f){h=null;break t}if(h=Mn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){rt=Mn(h.nextSibling),l=h.data==="F!";break e}}cs(l)}l=!1}l&&(n=s[0])}}return s=Jt(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:n},s.queue=l,s=fp.bind(null,Ae,l),l.dispatch=s,l=lf(!1),f=df.bind(null,Ae,!1,l.queue),l=Jt(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,s=C1.bind(null,Ae,h,f,s),h.dispatch=s,l.memoizedState=t,[n,s,!1]}function Kg(t){var n=dt();return Xg(n,qe,t)}function Xg(t,n,s){if(n=sf(t,n,Yg)[0],t=xu(xi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ol(n)}catch(_){throw _===Rl?Tu:_}else l=n;n=dt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ae.flags|=2048,fa(9,Cu(),I1.bind(null,h,s),null)),[l,f,t]}function I1(t,n){t.action=n}function $g(t){var n=dt(),s=qe;if(s!==null)return Xg(n,s,t);dt(),n=n.memoizedState,s=dt();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function fa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=nf(),Ae.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Cu(){return{destroy:void 0,resource:void 0}}function Zg(){return dt().memoizedState}function Iu(t,n,s,l){var h=Jt();l=l===void 0?null:l,Ae.flags|=t,h.memoizedState=fa(1|n,Cu(),s,l)}function Ml(t,n,s,l){var h=dt();l=l===void 0?null:l;var f=h.memoizedState.inst;qe!==null&&l!==null&&Zh(l,qe.memoizedState.deps)?h.memoizedState=fa(n,f,s,l):(Ae.flags|=t,h.memoizedState=fa(1|n,f,s,l))}function Jg(t,n){Iu(8390656,8,t,n)}function Wg(t,n){Ml(2048,8,t,n)}function ep(t,n){return Ml(4,2,t,n)}function tp(t,n){return Ml(4,4,t,n)}function np(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function ip(t,n,s){s=s!=null?s.concat([t]):null,Ml(4,4,np.bind(null,n,t),s)}function uf(){}function rp(t,n){var s=dt();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Zh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function sp(t,n){var s=dt();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Zh(n,l[1]))return l[0];if(l=t(),ms){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,n],l}function cf(t,n,s){return s===void 0||(sr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=oy(),Ae.lanes|=t,fr|=t,s)}function ap(t,n,s,l){return an(s,n)?s:ua.current!==null?(t=cf(t,s,l),an(t,n)||(St=!0),t):(sr&42)===0?(St=!0,t.memoizedState=s):(t=oy(),Ae.lanes|=t,fr|=t,n)}function lp(t,n,s,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var _=X.T,E={};X.T=E,df(t,!1,n,s);try{var I=h(),H=X.S;if(H!==null&&H(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=w1(I,l);Vl(t,n,$,hn(t))}else Vl(t,n,l,hn(t))}catch(W){Vl(t,n,{then:function(){},status:"rejected",reason:W},hn())}finally{le.p=f,X.T=_}}function N1(){}function hf(t,n,s,l){if(t.tag!==5)throw Error(a(476));var h=op(t).queue;lp(t,h,n,me,s===null?N1:function(){return up(t),s(l)})}function op(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function up(t){var n=op(t).next.queue;Vl(t,n,{},hn())}function ff(){return Bt(Jl)}function cp(){return dt().memoizedState}function hp(){return dt().memoizedState}function D1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=hn();t=ir(s);var l=rr(n,t,s);l!==null&&(fn(l,n,s),Cl(l,n,s)),n={cache:Bh()},t.payload=n;return}n=n.return}}function O1(t,n,s){var l=hn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Nu(t)?dp(n,s):(s=Dh(t,n,s,l),s!==null&&(fn(s,t,l),mp(s,n,l)))}function fp(t,n,s){var l=hn();Vl(t,n,s,l)}function Vl(t,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Nu(t))dp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var _=n.lastRenderedState,E=f(_,s);if(h.hasEagerState=!0,h.eagerState=E,an(E,_))return du(t,n,h,0),Xe===null&&fu(),!1}catch{}finally{}if(s=Dh(t,n,h,l),s!==null)return fn(s,t,l),mp(s,n,l),!0}return!1}function df(t,n,s,l){if(l={lane:2,revertLane:Ff(),action:l,hasEagerState:!1,eagerState:null,next:null},Nu(t)){if(n)throw Error(a(479))}else n=Dh(t,s,l,2),n!==null&&fn(n,t,2)}function Nu(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function dp(t,n){ca=Su=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function mp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,nl(t,s)}}var Du={readContext:Bt,use:Ru,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},gp={readContext:Bt,use:Ru,useCallback:function(t,n){return Jt().memoizedState=[t,n===void 0?null:n],t},useContext:Bt,useEffect:Jg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Iu(4194308,4,np.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Iu(4194308,4,t,n)},useInsertionEffect:function(t,n){Iu(4,2,t,n)},useMemo:function(t,n){var s=Jt();n=n===void 0?null:n;var l=t();if(ms){rn(!0);try{t()}finally{rn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=Jt();if(s!==void 0){var h=s(n);if(ms){rn(!0);try{s(n)}finally{rn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=O1.bind(null,Ae,t),[l.memoizedState,t]},useRef:function(t){var n=Jt();return t={current:t},n.memoizedState=t},useState:function(t){t=lf(t);var n=t.queue,s=fp.bind(null,Ae,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:uf,useDeferredValue:function(t,n){var s=Jt();return cf(s,t,n)},useTransition:function(){var t=lf(!1);return t=lp.bind(null,Ae,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=Ae,h=Jt();if(Le){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Xe===null)throw Error(a(349));(Me&124)!==0||Ug(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Jg(Lg.bind(null,l,f,t),[t]),l.flags|=2048,fa(9,Cu(),kg.bind(null,l,f,s,n),null),s},useId:function(){var t=Jt(),n=Xe.identifierPrefix;if(Le){var s=Si,l=Ai;s=(l&~(1<<32-zt(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=wu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=R1++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ff,useFormState:Qg,useActionState:Qg,useOptimistic:function(t){var n=Jt();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=df.bind(null,Ae,!0,s),s.dispatch=n,[t,n]},useMemoCache:rf,useCacheRefresh:function(){return Jt().memoizedState=D1.bind(null,Ae)}},pp={readContext:Bt,use:Ru,useCallback:rp,useContext:Bt,useEffect:Wg,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:xu,useRef:Zg,useState:function(){return xu(xi)},useDebugValue:uf,useDeferredValue:function(t,n){var s=dt();return ap(s,qe.memoizedState,t,n)},useTransition:function(){var t=xu(xi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Pg,useId:cp,useHostTransitionStatus:ff,useFormState:Kg,useActionState:Kg,useOptimistic:function(t,n){var s=dt();return Bg(s,qe,t,n)},useMemoCache:rf,useCacheRefresh:hp},M1={readContext:Bt,use:Ru,useCallback:rp,useContext:Bt,useEffect:Wg,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:af,useRef:Zg,useState:function(){return af(xi)},useDebugValue:uf,useDeferredValue:function(t,n){var s=dt();return qe===null?cf(s,t,n):ap(s,qe.memoizedState,t,n)},useTransition:function(){var t=af(xi)[0],n=dt().memoizedState;return[typeof t=="boolean"?t:Ol(t),n]},useSyncExternalStore:Pg,useId:cp,useHostTransitionStatus:ff,useFormState:$g,useActionState:$g,useOptimistic:function(t,n){var s=dt();return qe!==null?Bg(s,qe,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:rf,useCacheRefresh:hp},da=null,Pl=0;function Ou(t){var n=Pl;return Pl+=1,da===null&&(da=[]),xg(da,t,n)}function Ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Mu(t,n){throw n.$$typeof===w?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function yp(t){var n=t._init;return n(t._payload)}function vp(t){function n(U,M){if(t){var z=U.deletions;z===null?(U.deletions=[M],U.flags|=16):z.push(M)}}function s(U,M){if(!t)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=bi(U,M),U.index=0,U.sibling=null,U}function f(U,M,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<M?(U.flags|=67108866,M):z):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,z,Z){return M===null||M.tag!==6?(M=Mh(z,U.mode,Z),M.return=U,M):(M=h(M,z),M.return=U,M)}function I(U,M,z,Z){var ce=z.type;return ce===V?$(U,M,z.props.children,Z,z.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&yp(ce)===M.type)?(M=h(M,z.props),Ul(M,z),M.return=U,M):(M=gu(z.type,z.key,z.props,null,U.mode,Z),Ul(M,z),M.return=U,M)}function H(U,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Vh(z,U.mode,Z),M.return=U,M):(M=h(M,z.children||[]),M.return=U,M)}function $(U,M,z,Z,ce){return M===null||M.tag!==7?(M=as(z,U.mode,Z,ce),M.return=U,M):(M=h(M,z),M.return=U,M)}function W(U,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Mh(""+M,U.mode,z),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return z=gu(M.type,M.key,M.props,null,U.mode,z),Ul(z,M),z.return=U,z;case j:return M=Vh(M,U.mode,z),M.return=U,M;case S:var Z=M._init;return M=Z(M._payload),W(U,M,z)}if(nt(M)||k(M))return M=as(M,U.mode,z,null),M.return=U,M;if(typeof M.then=="function")return W(U,Ou(M),z);if(M.$$typeof===ne)return W(U,_u(U,M),z);Mu(U,M)}return null}function G(U,M,z,Z){var ce=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ce!==null?null:E(U,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case A:return z.key===ce?I(U,M,z,Z):null;case j:return z.key===ce?H(U,M,z,Z):null;case S:return ce=z._init,z=ce(z._payload),G(U,M,z,Z)}if(nt(z)||k(z))return ce!==null?null:$(U,M,z,Z,null);if(typeof z.then=="function")return G(U,M,Ou(z),Z);if(z.$$typeof===ne)return G(U,M,_u(U,z),Z);Mu(U,z)}return null}function q(U,M,z,Z,ce){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,E(M,U,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return U=U.get(Z.key===null?z:Z.key)||null,I(M,U,Z,ce);case j:return U=U.get(Z.key===null?z:Z.key)||null,H(M,U,Z,ce);case S:var Re=Z._init;return Z=Re(Z._payload),q(U,M,z,Z,ce)}if(nt(Z)||k(Z))return U=U.get(z)||null,$(M,U,Z,ce,null);if(typeof Z.then=="function")return q(U,M,z,Ou(Z),ce);if(Z.$$typeof===ne)return q(U,M,z,_u(M,Z),ce);Mu(M,Z)}return null}function ve(U,M,z,Z){for(var ce=null,Re=null,fe=M,ye=M=0,Rt=null;fe!==null&&ye<z.length;ye++){fe.index>ye?(Rt=fe,fe=null):Rt=fe.sibling;var Ue=G(U,fe,z[ye],Z);if(Ue===null){fe===null&&(fe=Rt);break}t&&fe&&Ue.alternate===null&&n(U,fe),M=f(Ue,M,ye),Re===null?ce=Ue:Re.sibling=Ue,Re=Ue,fe=Rt}if(ye===z.length)return s(U,fe),Le&&os(U,ye),ce;if(fe===null){for(;ye<z.length;ye++)fe=W(U,z[ye],Z),fe!==null&&(M=f(fe,M,ye),Re===null?ce=fe:Re.sibling=fe,Re=fe);return Le&&os(U,ye),ce}for(fe=l(fe);ye<z.length;ye++)Rt=q(fe,U,ye,z[ye],Z),Rt!==null&&(t&&Rt.alternate!==null&&fe.delete(Rt.key===null?ye:Rt.key),M=f(Rt,M,ye),Re===null?ce=Rt:Re.sibling=Rt,Re=Rt);return t&&fe.forEach(function(Tr){return n(U,Tr)}),Le&&os(U,ye),ce}function pe(U,M,z,Z){if(z==null)throw Error(a(151));for(var ce=null,Re=null,fe=M,ye=M=0,Rt=null,Ue=z.next();fe!==null&&!Ue.done;ye++,Ue=z.next()){fe.index>ye?(Rt=fe,fe=null):Rt=fe.sibling;var Tr=G(U,fe,Ue.value,Z);if(Tr===null){fe===null&&(fe=Rt);break}t&&fe&&Tr.alternate===null&&n(U,fe),M=f(Tr,M,ye),Re===null?ce=Tr:Re.sibling=Tr,Re=Tr,fe=Rt}if(Ue.done)return s(U,fe),Le&&os(U,ye),ce;if(fe===null){for(;!Ue.done;ye++,Ue=z.next())Ue=W(U,Ue.value,Z),Ue!==null&&(M=f(Ue,M,ye),Re===null?ce=Ue:Re.sibling=Ue,Re=Ue);return Le&&os(U,ye),ce}for(fe=l(fe);!Ue.done;ye++,Ue=z.next())Ue=q(fe,U,ye,Ue.value,Z),Ue!==null&&(t&&Ue.alternate!==null&&fe.delete(Ue.key===null?ye:Ue.key),M=f(Ue,M,ye),Re===null?ce=Ue:Re.sibling=Ue,Re=Ue);return t&&fe.forEach(function(VT){return n(U,VT)}),Le&&os(U,ye),ce}function Ye(U,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case A:e:{for(var ce=z.key;M!==null;){if(M.key===ce){if(ce=z.type,ce===V){if(M.tag===7){s(U,M.sibling),Z=h(M,z.props.children),Z.return=U,U=Z;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&yp(ce)===M.type){s(U,M.sibling),Z=h(M,z.props),Ul(Z,z),Z.return=U,U=Z;break e}s(U,M);break}else n(U,M);M=M.sibling}z.type===V?(Z=as(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=gu(z.type,z.key,z.props,null,U.mode,Z),Ul(Z,z),Z.return=U,U=Z)}return _(U);case j:e:{for(ce=z.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(U,M.sibling),Z=h(M,z.children||[]),Z.return=U,U=Z;break e}else{s(U,M);break}else n(U,M);M=M.sibling}Z=Vh(z,U.mode,Z),Z.return=U,U=Z}return _(U);case S:return ce=z._init,z=ce(z._payload),Ye(U,M,z,Z)}if(nt(z))return ve(U,M,z,Z);if(k(z)){if(ce=k(z),typeof ce!="function")throw Error(a(150));return z=ce.call(z),pe(U,M,z,Z)}if(typeof z.then=="function")return Ye(U,M,Ou(z),Z);if(z.$$typeof===ne)return Ye(U,M,_u(U,z),Z);Mu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(U,M.sibling),Z=h(M,z),Z.return=U,U=Z):(s(U,M),Z=Mh(z,U.mode,Z),Z.return=U,U=Z),_(U)):s(U,M)}return function(U,M,z,Z){try{Pl=0;var ce=Ye(U,M,z,Z);return da=null,ce}catch(fe){if(fe===Rl||fe===Tu)throw fe;var Re=ln(29,fe,null,U.mode);return Re.lanes=Z,Re.return=U,Re}finally{}}}var ma=vp(!0),_p=vp(!1),An=te(null),Wn=null;function ar(t){var n=t.alternate;re(Et,Et.current&1),re(An,t),Wn===null&&(n===null||ua.current!==null||n.memoizedState!==null)&&(Wn=t)}function Ep(t){if(t.tag===22){if(re(Et,Et.current),re(An,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else lr()}function lr(){re(Et,Et.current),re(An,An.current)}function Ci(t){oe(An),Wn===t&&(Wn=null),oe(Et)}var Et=te(0);function Vu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||id(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function mf(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var gf={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=hn(),h=ir(l);h.payload=n,s!=null&&(h.callback=s),n=rr(t,h,l),n!==null&&(fn(n,t,l),Cl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=hn(),h=ir(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=rr(t,h,l),n!==null&&(fn(n,t,l),Cl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=hn(),l=ir(s);l.tag=2,n!=null&&(l.callback=n),n=rr(t,l,s),n!==null&&(fn(n,t,s),Cl(n,t,s))}};function Tp(t,n,s,l,h,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):n.prototype&&n.prototype.isPureReactComponent?!vl(s,l)||!vl(h,f):!0}function bp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&gf.enqueueReplaceState(n,n.state,null)}function gs(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ap(t){Pu(t)}function Sp(t){console.error(t)}function wp(t){Pu(t)}function Uu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pf(t,n,s){return s=ir(s),s.tag=3,s.payload={element:null},s.callback=function(){Uu(t,n)},s}function xp(t){return t=ir(t),t.tag=3,t}function Cp(t,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Rp(n,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Rp(n,s,l),typeof h!="function"&&(dr===null?dr=new Set([this]):dr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function V1(t,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Al(n,s,h,!0),s=An.current,s!==null){switch(s.tag){case 13:return Wn===null?zf():s.alternate===null&&st===0&&(st=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===qh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Hf(t,l,h)),!1;case 22:return s.flags|=65536,l===qh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Hf(t,l,h)),!1}throw Error(a(435,s.tag))}return Hf(t,l,h),zf(),!1}if(Le)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==kh&&(t=Error(a(422),{cause:l}),bl(_n(t,s)))):(l!==kh&&(n=Error(a(423),{cause:l}),bl(_n(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=_n(l,s),h=pf(t.stateNode,l,h),Qh(t,h),st!==4&&(st=2)),!1;var f=Error(a(520),{cause:l});if(f=_n(f,s),Gl===null?Gl=[f]:Gl.push(f),st!==4&&(st=2),n===null)return!0;l=_n(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=pf(s.stateNode,l,t),Qh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(dr===null||!dr.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=xp(h),Cp(h,t,s,l),Qh(s,h),!1}s=s.return}while(s!==null);return!1}var Ip=Error(a(461)),St=!1;function Mt(t,n,s,l){n.child=t===null?_p(n,null,s,l):ma(n,t.child,s,l)}function Np(t,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var _={};for(var E in l)E!=="ref"&&(_[E]=l[E])}else _=l;return fs(n),l=Jh(t,n,s,_,f,h),E=Wh(),t!==null&&!St?(ef(t,n,h),Ii(t,n,h)):(Le&&E&&Ph(n),n.flags|=1,Mt(t,n,l,h),n.child)}function Dp(t,n,s,l,h){if(t===null){var f=s.type;return typeof f=="function"&&!Oh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Op(t,n,f,l,h)):(t=gu(s.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Sf(t,h)){var _=f.memoizedProps;if(s=s.compare,s=s!==null?s:vl,s(_,l)&&t.ref===n.ref)return Ii(t,n,h)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Op(t,n,s,l,h){if(t!==null){var f=t.memoizedProps;if(vl(f,l)&&t.ref===n.ref)if(St=!1,n.pendingProps=l=f,Sf(t,h))(t.flags&131072)!==0&&(St=!0);else return n.lanes=t.lanes,Ii(t,n,h)}return yf(t,n,s,l,h)}function Mp(t,n,s){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Vp(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(n,f!==null?f.cachePool:null),f!==null?Og(n,f):Xh(),Ep(n);else return n.lanes=n.childLanes=536870912,Vp(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Eu(n,f.cachePool),Og(n,f),lr(),n.memoizedState=null):(t!==null&&Eu(n,null),Xh(),lr());return Mt(t,n,h,s),n.child}function Vp(t,n,s,l){var h=Gh();return h=h===null?null:{parent:_t._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},t!==null&&Eu(n,null),Xh(),Ep(n),t!==null&&Al(t,n,l,!0),null}function ku(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function yf(t,n,s,l,h){return fs(n),s=Jh(t,n,s,l,void 0,h),l=Wh(),t!==null&&!St?(ef(t,n,h),Ii(t,n,h)):(Le&&l&&Ph(n),n.flags|=1,Mt(t,n,s,h),n.child)}function Pp(t,n,s,l,h,f){return fs(n),n.updateQueue=null,s=Vg(n,l,s,h),Mg(t),l=Wh(),t!==null&&!St?(ef(t,n,f),Ii(t,n,f)):(Le&&l&&Ph(n),n.flags|=1,Mt(t,n,s,f),n.child)}function Up(t,n,s,l,h){if(fs(n),n.stateNode===null){var f=ra,_=s.contextType;typeof _=="object"&&_!==null&&(f=Bt(_)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Fh(n),_=s.contextType,f.context=typeof _=="object"&&_!==null?Bt(_):ra,f.state=n.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(mf(n,s,_,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&gf.enqueueReplaceState(f,f.state,null),Nl(n,l,f,h),Il(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,I=gs(s,E);f.props=I;var H=f.context,$=s.contextType;_=ra,typeof $=="object"&&$!==null&&(_=Bt($));var W=s.getDerivedStateFromProps;$=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||H!==_)&&bp(n,f,l,_),nr=!1;var G=n.memoizedState;f.state=G,Nl(n,l,f,h),Il(),H=n.memoizedState,E||G!==H||nr?(typeof W=="function"&&(mf(n,s,W,l),H=n.memoizedState),(I=nr||Tp(n,s,I,l,G,H,_))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=_,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Yh(t,n),_=n.memoizedProps,$=gs(s,_),f.props=$,W=n.pendingProps,G=f.context,H=s.contextType,I=ra,typeof H=="object"&&H!==null&&(I=Bt(H)),E=s.getDerivedStateFromProps,(H=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==W||G!==I)&&bp(n,f,l,I),nr=!1,G=n.memoizedState,f.state=G,Nl(n,l,f,h),Il();var q=n.memoizedState;_!==W||G!==q||nr||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof E=="function"&&(mf(n,s,E,l),q=n.memoizedState),($=nr||Tp(n,s,$,l,G,q,I)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=$):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ku(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ma(n,t.child,null,h),n.child=ma(n,null,s,h)):Mt(t,n,s,h),n.memoizedState=f.state,t=n.child):t=Ii(t,n,h),t}function kp(t,n,s,l){return Tl(),n.flags|=256,Mt(t,n,s,l),n.child}var vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _f(t){return{baseLanes:t,cachePool:Sg()}}function Ef(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Sn),t}function Lp(t,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Le){if(h?ar(n):lr(),Le){var E=rt,I;if(I=E){e:{for(I=E,E=Jn;I.nodeType!==8;){if(!E){E=null;break e}if(I=Mn(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(n.memoizedState={dehydrated:E,treeContext:ls!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},I=ln(18,null,null,0),I.stateNode=E,I.return=n,n.child=I,$t=n,rt=null,I=!0):I=!1}I||cs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return id(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,h?(lr(),h=n.mode,E=Lu({mode:"hidden",children:E},h),l=as(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,h=n.child,h.memoizedState=_f(s),h.childLanes=Ef(t,_,s),n.memoizedState=vf,l):(ar(n),Tf(n,E))}if(I=t.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=bf(t,n,s)):n.memoizedState!==null?(lr(),n.child=t.child,n.flags|=128,n=null):(lr(),h=l.fallback,E=n.mode,l=Lu({mode:"visible",children:l.children},E),h=as(h,E,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ma(n,t.child,null,s),l=n.child,l.memoizedState=_f(s),l.childLanes=Ef(t,_,s),n.memoizedState=vf,n=h);else if(ar(n),id(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(a(419)),l.stack="",l.digest=_,bl({value:l,source:null,stack:null}),n=bf(t,n,s)}else if(St||Al(t,n,s,!1),_=(s&t.childLanes)!==0,St||_){if(_=Xe,_!==null&&(l=s&-s,l=(l&42)!==0?1:Ki(l),l=(l&(_.suspendedLanes|s))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ia(t,l),fn(_,t,l),Ip;E.data==="$?"||zf(),n=bf(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=I.treeContext,rt=Mn(E.nextSibling),$t=n,Le=!0,us=null,Jn=!1,t!==null&&(Tn[bn++]=Ai,Tn[bn++]=Si,Tn[bn++]=ls,Ai=t.id,Si=t.overflow,ls=n),n=Tf(n,l.children),n.flags|=4096);return n}return h?(lr(),h=l.fallback,E=n.mode,I=t.child,H=I.sibling,l=bi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=bi(H,h):(h=as(h,E,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,E=t.child.memoizedState,E===null?E=_f(s):(I=E.cachePool,I!==null?(H=_t._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=Sg(),E={baseLanes:E.baseLanes|s,cachePool:I}),h.memoizedState=E,h.childLanes=Ef(t,_,s),n.memoizedState=vf,l):(ar(n),s=t.child,t=s.sibling,s=bi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=s,n.memoizedState=null,s)}function Tf(t,n){return n=Lu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Lu(t,n){return t=ln(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bf(t,n,s){return ma(n,t.child,null,s),t=Tf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function jp(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),jh(t.return,n,s)}function Af(t,n,s,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=h)}function zp(t,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(Mt(t,n,l.children,s),l=Et.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jp(t,s,n);else if(t.tag===19)jp(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Et,l),h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Vu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Af(n,!1,h,s,f);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Af(n,!0,s,null,f);break;case"together":Af(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(Al(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=bi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=bi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Sf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function P1(t,n,s){switch(n.tag){case 3:Ke(n,n.stateNode.containerInfo),tr(n,_t,t.memoizedState.cache),Tl();break;case 27:case 5:Qi(n);break;case 4:Ke(n,n.stateNode.containerInfo);break;case 10:tr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ar(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Lp(t,n,s):(ar(n),t=Ii(t,n,s),t!==null?t.sibling:null);ar(n);break;case 19:var h=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Al(t,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return zp(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(Et,Et.current),l)break;return null;case 22:case 23:return n.lanes=0,Mp(t,n,s);case 24:tr(n,_t,t.memoizedState.cache)}return Ii(t,n,s)}function Bp(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)St=!0;else{if(!Sf(t,s)&&(n.flags&128)===0)return St=!1,P1(t,n,s);St=(t.flags&131072)!==0}else St=!1,Le&&(n.flags&1048576)!==0&&yg(n,yu,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Oh(l)?(t=gs(l,t),n.tag=1,n=Up(null,n,l,t,s)):(n.tag=0,n=yf(null,n,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===ue){n.tag=11,n=Np(null,n,l,t,s);break e}else if(h===C){n.tag=14,n=Dp(null,n,l,t,s);break e}}throw n=Nt(l)||l,Error(a(306,n,""))}}return n;case 0:return yf(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=gs(l,n.pendingProps),Up(t,n,l,h,s);case 3:e:{if(Ke(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Yh(t,n),Nl(n,l,null,s);var _=n.memoizedState;if(l=_.cache,tr(n,_t,l),l!==f.cache&&zh(n,[_t],s,!0),Il(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=kp(t,n,l,s);break e}else if(l!==h){h=_n(Error(a(424)),n),bl(h),n=kp(t,n,l,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=Mn(t.firstChild),$t=n,Le=!0,us=null,Jn=!0,s=_p(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Tl(),l===h){n=Ii(t,n,s);break e}Mt(t,n,l,s)}n=n.child}return n;case 26:return ku(t,n),t===null?(s=Fy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Le||(s=n.type,t=n.pendingProps,l=Ju(Ee.current).createElement(s),l[pt]=n,l[ct]=t,Pt(l,s,t),lt(l),n.stateNode=l):n.memoizedState=Fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Qi(n),t===null&&Le&&(l=n.stateNode=Hy(n.type,n.pendingProps,Ee.current),$t=n,Jn=!0,h=rt,pr(n.type)?(rd=h,rt=Mn(l.firstChild)):rt=h),Mt(t,n,n.pendingProps.children,s),ku(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Le&&((h=l=rt)&&(l=uT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,$t=n,rt=Mn(l.firstChild),Jn=!1,h=!0):h=!1),h||cs(n)),Qi(n),h=n.type,f=n.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,ed(h,f)?l=null:_!==null&&ed(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Jh(t,n,x1,null,null,s),Jl._currentValue=h),ku(t,n),Mt(t,n,l,s),n.child;case 6:return t===null&&Le&&((t=s=rt)&&(s=cT(s,n.pendingProps,Jn),s!==null?(n.stateNode=s,$t=n,rt=null,t=!0):t=!1),t||cs(n)),null;case 13:return Lp(t,n,s);case 4:return Ke(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ma(n,null,l,s):Mt(t,n,l,s),n.child;case 11:return Np(t,n,n.type,n.pendingProps,s);case 7:return Mt(t,n,n.pendingProps,s),n.child;case 8:return Mt(t,n,n.pendingProps.children,s),n.child;case 12:return Mt(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,tr(n,n.type,l.value),Mt(t,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,fs(n),h=Bt(h),l=l(h),n.flags|=1,Mt(t,n,l,s),n.child;case 14:return Dp(t,n,n.type,n.pendingProps,s);case 15:return Op(t,n,n.type,n.pendingProps,s);case 19:return zp(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=Lu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=bi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Mp(t,n,s);case 24:return fs(n),l=Bt(_t),t===null?(h=Gh(),h===null&&(h=Xe,f=Bh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Fh(n),tr(n,_t,h)):((t.lanes&s)!==0&&(Yh(t,n),Nl(n,null,null,s),Il()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),tr(n,_t,l)):(l=f.cache,tr(n,_t,l),l!==h.cache&&zh(n,[_t],s,!0))),Mt(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ni(t){t.flags|=4}function Hp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$y(n)){if(n=An.current,n!==null&&((Me&4194048)===Me?Wn!==null:(Me&62914560)!==Me&&(Me&536870912)===0||n!==Wn))throw xl=qh,wg;t.flags|=8192}}function ju(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?el():536870912,t.lanes|=n,va|=n)}function kl(t,n){if(!Le)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function tt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function U1(t,n,s){var l=n.pendingProps;switch(Uh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(n),null;case 1:return tt(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ri(_t),zn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(El(n)?Ni(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Eg())),tt(n),null;case 26:return s=n.memoizedState,t===null?(Ni(n),s!==null?(tt(n),Hp(n,s)):(tt(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Ni(n),tt(n),Hp(n,s)):(tt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ni(n),tt(n),n.flags&=-16777217),null;case 27:ui(n),s=Ee.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}t=ge.current,El(n)?vg(n):(t=Hy(h,l,s),n.stateNode=t,Ni(n))}return tt(n),null;case 5:if(ui(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return tt(n),null}if(t=ge.current,El(n))vg(n);else{switch(h=Ju(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[pt]=n,t[ct]=l;e:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;e:switch(Pt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ni(n)}}return tt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ni(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=Ee.current,El(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,h=$t,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[pt]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Py(t.nodeValue,s)),t||cs(n)}else t=Ju(t).createTextNode(l),t[pt]=n,n.stateNode=t}return tt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=El(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[pt]=n}else Tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;tt(n),h=!1}else h=Eg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),ju(n,n.updateQueue),tt(n),null;case 4:return zn(),t===null&&Xf(n.stateNode.containerInfo),tt(n),null;case 10:return Ri(n.type),tt(n),null;case 19:if(oe(Et),h=n.memoizedState,h===null)return tt(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)kl(h,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Vu(t),f!==null){for(n.flags|=128,kl(h,!1),t=f.updateQueue,n.updateQueue=t,ju(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)pg(s,t),s=s.sibling;return re(Et,Et.current&1|2),n.child}t=t.sibling}h.tail!==null&&dn()>Hu&&(n.flags|=128,l=!0,kl(h,!1),n.lanes=4194304)}else{if(!l)if(t=Vu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,ju(n,t),kl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Le)return tt(n),null}else 2*dn()-h.renderingStartTime>Hu&&s!==536870912&&(n.flags|=128,l=!0,kl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=dn(),n.sibling=null,t=Et.current,re(Et,l?t&1|2:t&1),n):(tt(n),null);case 22:case 23:return Ci(n),$h(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(tt(n),n.subtreeFlags&6&&(n.flags|=8192)):tt(n),s=n.updateQueue,s!==null&&ju(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&oe(ds),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ri(_t),tt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function k1(t,n){switch(Uh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ri(_t),zn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return oe(Et),null;case 4:return zn(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ci(n),$h(),t!==null&&oe(ds),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ri(_t),null;case 25:return null;default:return null}}function Gp(t,n){switch(Uh(n),n.tag){case 3:Ri(_t),zn();break;case 26:case 27:case 5:ui(n);break;case 4:zn();break;case 13:Ci(n);break;case 19:oe(Et);break;case 10:Ri(n.type);break;case 22:case 23:Ci(n),$h(),t!==null&&oe(ds);break;case 24:Ri(_t)}}function Ll(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var f=s.create,_=s.inst;l=f(),_.destroy=l}s=s.next}while(s!==h)}}catch(E){Qe(n,n.return,E)}}function or(t,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var _=l.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=n;var I=s,H=E;try{H()}catch($){Qe(h,I,$)}}}l=l.next}while(l!==f)}}catch($){Qe(n,n.return,$)}}function qp(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Dg(n,s)}catch(l){Qe(t,t.return,l)}}}function Fp(t,n,s){s.props=gs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Qe(t,n,l)}}function jl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(h){Qe(t,n,h)}}function ei(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Qe(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qe(t,n,h)}else s.current=null}function Yp(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Qe(t,t.return,h)}}function wf(t,n,s){try{var l=t.stateNode;rT(l,t.type,s,n),l[ct]=n}catch(h){Qe(t,t.return,h)}}function Qp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&pr(t.type)||t.tag===4}function Rf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xf(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Zu));else if(l!==4&&(l===27&&pr(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(xf(t,n,s),t=t.sibling;t!==null;)xf(t,n,s),t=t.sibling}function zu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&pr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(zu(t,n,s),t=t.sibling;t!==null;)zu(t,n,s),t=t.sibling}function Kp(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Pt(n,l,s),n[pt]=t,n[ct]=s}catch(f){Qe(t,t.return,f)}}var Di=!1,ut=!1,Cf=!1,Xp=typeof WeakSet=="function"?WeakSet:Set,wt=null;function L1(t,n){if(t=t.containerInfo,Jf=rc,t=ag(t),wh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var _=0,E=-1,I=-1,H=0,$=0,W=t,G=null;t:for(;;){for(var q;W!==s||h!==0&&W.nodeType!==3||(E=_+h),W!==f||l!==0&&W.nodeType!==3||(I=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(q=W.firstChild)!==null;)G=W,W=q;for(;;){if(W===t)break t;if(G===s&&++H===h&&(E=_),G===f&&++$===l&&(I=_),(q=W.nextSibling)!==null)break;W=G,G=W.parentNode}W=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Wf={focusedElem:t,selectionRange:s},rc=!1,wt=n;wt!==null;)if(n=wt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,wt=t;else for(;wt!==null;){switch(n=wt,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ve=gs(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(ve,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Qe(s,s.return,pe)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)nd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,wt=t;break}wt=n.return}}function $p(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ur(t,s),l&4&&Ll(5,s);break;case 1:if(ur(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(_){Qe(s,s.return,_)}else{var h=gs(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Qe(s,s.return,_)}}l&64&&qp(s),l&512&&jl(s,s.return);break;case 3:if(ur(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Dg(t,n)}catch(_){Qe(s,s.return,_)}}break;case 27:n===null&&l&4&&Kp(s);case 26:case 5:ur(t,s),n===null&&l&4&&Yp(s),l&512&&jl(s,s.return);break;case 12:ur(t,s);break;case 13:ur(t,s),l&4&&Wp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Q1.bind(null,s),hT(t,s))));break;case 22:if(l=s.memoizedState!==null||Di,!l){n=n!==null&&n.memoizedState!==null||ut,h=Di;var f=ut;Di=l,(ut=n)&&!f?cr(t,s,(s.subtreeFlags&8772)!==0):ur(t,s),Di=h,ut=f}break;case 30:break;default:ur(t,s)}}function Zp(t){var n=t.alternate;n!==null&&(t.alternate=null,Zp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Je=null,Wt=!1;function Oi(t,n,s){for(s=s.child;s!==null;)Jp(t,n,s),s=s.sibling}function Jp(t,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(it,s)}catch{}switch(s.tag){case 26:ut||ei(s,n),Oi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ut||ei(s,n);var l=Je,h=Wt;pr(s.type)&&(Je=s.stateNode,Wt=!1),Oi(t,n,s),Kl(s.stateNode),Je=l,Wt=h;break;case 5:ut||ei(s,n);case 6:if(l=Je,h=Wt,Je=null,Oi(t,n,s),Je=l,Wt=h,Je!==null)if(Wt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(s.stateNode)}catch(f){Qe(s,n,f)}else try{Je.removeChild(s.stateNode)}catch(f){Qe(s,n,f)}break;case 18:Je!==null&&(Wt?(t=Je,zy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),no(t)):zy(Je,s.stateNode));break;case 4:l=Je,h=Wt,Je=s.stateNode.containerInfo,Wt=!0,Oi(t,n,s),Je=l,Wt=h;break;case 0:case 11:case 14:case 15:ut||or(2,s,n),ut||or(4,s,n),Oi(t,n,s);break;case 1:ut||(ei(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Fp(s,n,l)),Oi(t,n,s);break;case 21:Oi(t,n,s);break;case 22:ut=(l=ut)||s.memoizedState!==null,Oi(t,n,s),ut=l;break;default:Oi(t,n,s)}}function Wp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(s){Qe(n,n.return,s)}}function j1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xp),n;default:throw Error(a(435,t.tag))}}function If(t,n){var s=j1(t);n.forEach(function(l){var h=K1.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function on(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=t,_=n,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(pr(E.type)){Je=E.stateNode,Wt=!1;break e}break;case 5:Je=E.stateNode,Wt=!1;break e;case 3:case 4:Je=E.stateNode.containerInfo,Wt=!0;break e}E=E.return}if(Je===null)throw Error(a(160));Jp(f,_,h),Je=null,Wt=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)ey(n,t),n=n.sibling}var On=null;function ey(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(n,t),un(t),l&4&&(or(3,t,t.return),Ll(3,t),or(5,t,t.return));break;case 1:on(n,t),un(t),l&512&&(ut||s===null||ei(s,s.return)),l&64&&Di&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=On;if(on(n,t),un(t),l&512&&(ut||s===null||ei(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[qr]||f[pt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Pt(f,l,s),f[pt]=t,lt(f),l=f;break e;case"link":var _=Ky("link","href",h).get(l+(s.href||""));if(_){for(var E=0;E<_.length;E++)if(f=_[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(E,1);break t}}f=h.createElement(l),Pt(f,l,s),h.head.appendChild(f);break;case"meta":if(_=Ky("meta","content",h).get(l+(s.content||""))){for(E=0;E<_.length;E++)if(f=_[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(E,1);break t}}f=h.createElement(l),Pt(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[pt]=t,lt(f),l=f}t.stateNode=l}else Xy(h,t.type,t.stateNode);else t.stateNode=Qy(h,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Xy(h,t.type,t.stateNode):Qy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wf(t,t.memoizedProps,s.memoizedProps)}break;case 27:on(n,t),un(t),l&512&&(ut||s===null||ei(s,s.return)),s!==null&&l&4&&wf(t,t.memoizedProps,s.memoizedProps);break;case 5:if(on(n,t),un(t),l&512&&(ut||s===null||ei(s,s.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(q){Qe(t,t.return,q)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wf(t,h,s!==null?s.memoizedProps:h)),l&1024&&(Cf=!0);break;case 6:if(on(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(q){Qe(t,t.return,q)}}break;case 3:if(tc=null,h=On,On=Wu(n.containerInfo),on(n,t),On=h,un(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{no(n.containerInfo)}catch(q){Qe(t,t.return,q)}Cf&&(Cf=!1,ty(t));break;case 4:l=On,On=Wu(t.stateNode.containerInfo),on(n,t),un(t),On=l;break;case 12:on(n,t),un(t);break;case 13:on(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Pf=dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,If(t,l)));break;case 22:h=t.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,H=Di,$=ut;if(Di=H||h,ut=$||I,on(n,t),ut=$,Di=H,un(t),l&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Di||ut||ps(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=I.stateNode;var W=I.memoizedProps.style,G=W!=null&&W.hasOwnProperty("display")?W.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(q){Qe(I,I.return,q)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(q){Qe(I,I.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,If(t,s))));break;case 19:on(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,If(t,l)));break;case 30:break;case 21:break;default:on(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Qp(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Rf(t);zu(t,f,h);break;case 5:var _=s.stateNode;s.flags&32&&(gn(_,""),s.flags&=-33);var E=Rf(t);zu(t,E,_);break;case 3:case 4:var I=s.stateNode.containerInfo,H=Rf(t);xf(t,H,I);break;default:throw Error(a(161))}}catch($){Qe(t,t.return,$)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function ty(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;ty(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ur(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$p(t,n.alternate,n),n=n.sibling}function ps(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:or(4,n,n.return),ps(n);break;case 1:ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Fp(n,n.return,s),ps(n);break;case 27:Kl(n.stateNode);case 26:case 5:ei(n,n.return),ps(n);break;case 22:n.memoizedState===null&&ps(n);break;case 30:ps(n);break;default:ps(n)}t=t.sibling}}function cr(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,_=f.flags;switch(f.tag){case 0:case 11:case 15:cr(h,f,s),Ll(4,f);break;case 1:if(cr(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Qe(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Ng(I[h],E)}catch(H){Qe(l,l.return,H)}}s&&_&64&&qp(f),jl(f,f.return);break;case 27:Kp(f);case 26:case 5:cr(h,f,s),s&&l===null&&_&4&&Yp(f),jl(f,f.return);break;case 12:cr(h,f,s);break;case 13:cr(h,f,s),s&&_&4&&Wp(h,f);break;case 22:f.memoizedState===null&&cr(h,f,s),jl(f,f.return);break;case 30:break;default:cr(h,f,s)}n=n.sibling}}function Nf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Sl(s))}function Df(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t))}function ti(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ny(t,n,s,l),n=n.sibling}function ny(t,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ti(t,n,s,l),h&2048&&Ll(9,n);break;case 1:ti(t,n,s,l);break;case 3:ti(t,n,s,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Sl(t)));break;case 12:if(h&2048){ti(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,_=f.id,E=f.onPostCommit;typeof E=="function"&&E(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Qe(n,n.return,I)}}else ti(t,n,s,l);break;case 13:ti(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,_=n.alternate,n.memoizedState!==null?f._visibility&2?ti(t,n,s,l):zl(t,n):f._visibility&2?ti(t,n,s,l):(f._visibility|=2,ga(t,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&Nf(_,n);break;case 24:ti(t,n,s,l),h&2048&&Df(n.alternate,n);break;default:ti(t,n,s,l)}}function ga(t,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,_=n,E=s,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ga(f,_,E,I,h),Ll(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?ga(f,_,E,I,h):zl(f,_):($._visibility|=2,ga(f,_,E,I,h)),h&&H&2048&&Nf(_.alternate,_);break;case 24:ga(f,_,E,I,h),h&&H&2048&&Df(_.alternate,_);break;default:ga(f,_,E,I,h)}n=n.sibling}}function zl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,h=l.flags;switch(l.tag){case 22:zl(s,l),h&2048&&Nf(l.alternate,l);break;case 24:zl(s,l),h&2048&&Df(l.alternate,l);break;default:zl(s,l)}n=n.sibling}}var Bl=8192;function pa(t){if(t.subtreeFlags&Bl)for(t=t.child;t!==null;)iy(t),t=t.sibling}function iy(t){switch(t.tag){case 26:pa(t),t.flags&Bl&&t.memoizedState!==null&&ST(On,t.memoizedState,t.memoizedProps);break;case 5:pa(t);break;case 3:case 4:var n=On;On=Wu(t.stateNode.containerInfo),pa(t),On=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Bl,Bl=16777216,pa(t),Bl=n):pa(t));break;default:pa(t)}}function ry(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Hl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];wt=l,ay(l,t)}ry(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sy(t),t=t.sibling}function sy(t){switch(t.tag){case 0:case 11:case 15:Hl(t),t.flags&2048&&or(9,t,t.return);break;case 3:Hl(t);break;case 12:Hl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Bu(t)):Hl(t);break;default:Hl(t)}}function Bu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];wt=l,ay(l,t)}ry(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:or(8,n,n.return),Bu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Bu(n));break;default:Bu(n)}t=t.sibling}}function ay(t,n){for(;wt!==null;){var s=wt;switch(s.tag){case 0:case 11:case 15:or(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,wt=l;else e:for(s=t;wt!==null;){l=wt;var h=l.sibling,f=l.return;if(Zp(l),l===s){wt=null;break e}if(h!==null){h.return=f,wt=h;break e}wt=f}}}var z1={getCacheForType:function(t){var n=Bt(_t),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},B1=typeof WeakMap=="function"?WeakMap:Map,Be=0,Xe=null,Ce=null,Me=0,He=0,cn=null,hr=!1,ya=!1,Of=!1,Mi=0,st=0,fr=0,ys=0,Mf=0,Sn=0,va=0,Gl=null,en=null,Vf=!1,Pf=0,Hu=1/0,Gu=null,dr=null,Vt=0,mr=null,_a=null,Ea=0,Uf=0,kf=null,ly=null,ql=0,Lf=null;function hn(){if((Be&2)!==0&&Me!==0)return Me&-Me;if(X.T!==null){var t=la;return t!==0?t:Ff()}return Xi()}function oy(){Sn===0&&(Sn=(Me&536870912)===0||Le?Wa():536870912);var t=An.current;return t!==null&&(t.flags|=32),Sn}function fn(t,n,s){(t===Xe&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(Ta(t,0),gr(t,Me,Sn,!1)),hi(t,s),((Be&2)===0||t!==Xe)&&(t===Xe&&((Be&2)===0&&(ys|=s),st===4&&gr(t,Me,Sn,!1)),ni(t))}function uy(t,n,s){if((Be&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Gr(t,n),h=l?q1(t,n):Bf(t,n,!0),f=l;do{if(h===0){ya&&!l&&gr(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!H1(s)){h=Bf(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;e:{var E=t;h=Gl;var I=E.current.memoizedState.isDehydrated;if(I&&(Ta(E,_).flags|=256),_=Bf(E,_,!1),_!==2){if(Of&&!I){E.errorRecoveryDisabledLanes|=f,ys|=f,h=4;break e}f=en,en=h,f!==null&&(en===null?en=f:en.push.apply(en,f))}h=_}if(f=!1,h!==2)continue}}if(h===1){Ta(t,0),gr(t,n,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:gr(l,n,Sn,!hr);break e;case 2:en=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Pf+300-dn(),10<h)){if(gr(l,n,Sn,!hr),Ls(l,0,!0)!==0)break e;l.timeoutHandle=Ly(cy.bind(null,l,s,en,Gu,Vf,n,Sn,ys,va,hr,f,2,-0,0),h);break e}cy(l,s,en,Gu,Vf,n,Sn,ys,va,hr,f,0,-0,0)}}break}while(!0);ni(t)}function cy(t,n,s,l,h,f,_,E,I,H,$,W,G,q){if(t.timeoutHandle=-1,W=n.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(Zl={stylesheets:null,count:0,unsuspend:AT},iy(n),W=wT(),W!==null)){t.cancelPendingCommit=W(yy.bind(null,t,n,f,s,l,h,_,E,I,$,1,G,q)),gr(t,f,_,!H);return}yy(t,n,f,s,l,h,_,E,I)}function H1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!an(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function gr(t,n,s,l){n&=~Mf,n&=~ys,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-zt(h),_=1<<f;l[f]=-1,h&=~_}s!==0&&Bn(t,s,n)}function qu(){return(Be&6)===0?(Fl(0),!1):!0}function jf(){if(Ce!==null){if(He===0)var t=Ce.return;else t=Ce,wi=hs=null,tf(t),da=null,Pl=0,t=Ce;for(;t!==null;)Gp(t.alternate,t),t=t.return;Ce=null}}function Ta(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,aT(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),jf(),Xe=t,Ce=s=bi(t.current,null),Me=n,He=0,cn=null,hr=!1,ya=Gr(t,n),Of=!1,va=Sn=Mf=ys=fr=st=0,en=Gl=null,Vf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-zt(l),f=1<<h;n|=t[h],l&=~f}return Mi=n,fu(),s}function hy(t,n){Ae=null,X.H=Du,n===Rl||n===Tu?(n=Cg(),He=3):n===wg?(n=Cg(),He=4):He=n===Ip?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Ce===null&&(st=1,Uu(t,_n(n,t.current)))}function fy(){var t=X.H;return X.H=Du,t===null?Du:t}function dy(){var t=X.A;return X.A=z1,t}function zf(){st=4,hr||(Me&4194048)!==Me&&An.current!==null||(ya=!0),(fr&134217727)===0&&(ys&134217727)===0||Xe===null||gr(Xe,Me,Sn,!1)}function Bf(t,n,s){var l=Be;Be|=2;var h=fy(),f=dy();(Xe!==t||Me!==n)&&(Gu=null,Ta(t,n)),n=!1;var _=st;e:do try{if(He!==0&&Ce!==null){var E=Ce,I=cn;switch(He){case 8:jf(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var H=He;if(He=0,cn=null,ba(t,E,I,H),s&&ya){_=0;break e}break;default:H=He,He=0,cn=null,ba(t,E,I,H)}}G1(),_=st;break}catch($){hy(t,$)}while(!0);return n&&t.shellSuspendCounter++,wi=hs=null,Be=l,X.H=h,X.A=f,Ce===null&&(Xe=null,Me=0,fu()),_}function G1(){for(;Ce!==null;)my(Ce)}function q1(t,n){var s=Be;Be|=2;var l=fy(),h=dy();Xe!==t||Me!==n?(Gu=null,Hu=dn()+500,Ta(t,n)):ya=Gr(t,n);e:do try{if(He!==0&&Ce!==null){n=Ce;var f=cn;t:switch(He){case 1:He=0,cn=null,ba(t,n,f,1);break;case 2:case 9:if(Rg(f)){He=0,cn=null,gy(n);break}n=function(){He!==2&&He!==9||Xe!==t||(He=7),ni(t)},f.then(n,n);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Rg(f)?(He=0,cn=null,gy(n)):(He=0,cn=null,ba(t,n,f,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var E=Ce;if(!_||$y(_)){He=0,cn=null;var I=E.sibling;if(I!==null)Ce=I;else{var H=E.return;H!==null?(Ce=H,Fu(H)):Ce=null}break t}}He=0,cn=null,ba(t,n,f,5);break;case 6:He=0,cn=null,ba(t,n,f,6);break;case 8:jf(),st=6;break e;default:throw Error(a(462))}}F1();break}catch($){hy(t,$)}while(!0);return wi=hs=null,X.H=l,X.A=h,Be=s,Ce!==null?0:(Xe=null,Me=0,fu(),st)}function F1(){for(;Ce!==null&&!Xa();)my(Ce)}function my(t){var n=Bp(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?Fu(t):Ce=n}function gy(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Pp(s,n,n.pendingProps,n.type,void 0,Me);break;case 11:n=Pp(s,n,n.pendingProps,n.type.render,n.ref,Me);break;case 5:tf(n);default:Gp(s,n),n=Ce=pg(n,Mi),n=Bp(s,n,Mi)}t.memoizedProps=t.pendingProps,n===null?Fu(t):Ce=n}function ba(t,n,s,l){wi=hs=null,tf(n),da=null,Pl=0;var h=n.return;try{if(V1(t,h,n,s,Me)){st=1,Uu(t,_n(s,t.current)),Ce=null;return}}catch(f){if(h!==null)throw Ce=h,f;st=1,Uu(t,_n(s,t.current)),Ce=null;return}n.flags&32768?(Le||l===1?t=!0:ya||(Me&536870912)!==0?t=!1:(hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),py(n,t)):Fu(n)}function Fu(t){var n=t;do{if((n.flags&32768)!==0){py(n,hr);return}t=n.return;var s=U1(n.alternate,n,Mi);if(s!==null){Ce=s;return}if(n=n.sibling,n!==null){Ce=n;return}Ce=n=t}while(n!==null);st===0&&(st=5)}function py(t,n){do{var s=k1(t.alternate,t);if(s!==null){s.flags&=32767,Ce=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=s}while(t!==null);st=6,Ce=null}function yy(t,n,s,l,h,f,_,E,I){t.cancelPendingCommit=null;do Yu();while(Vt!==0);if((Be&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Nh,tl(t,s,f,_,E,I),t===Xe&&(Ce=Xe=null,Me=0),_a=n,mr=t,Ea=s,Uf=f,kf=h,ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,X1(jr,function(){return by(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,_=Be,Be|=4;try{L1(t,n,s)}finally{Be=_,le.p=h,X.T=l}}Vt=1,vy(),_y(),Ey()}}function vy(){if(Vt===1){Vt=0;var t=mr,n=_a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=X.T,X.T=null;var l=le.p;le.p=2;var h=Be;Be|=4;try{ey(n,t);var f=Wf,_=ag(t.containerInfo),E=f.focusedElem,I=f.selectionRange;if(_!==E&&E&&E.ownerDocument&&sg(E.ownerDocument.documentElement,E)){if(I!==null&&wh(E)){var H=I.start,$=I.end;if($===void 0&&($=H),"selectionStart"in E)E.selectionStart=H,E.selectionEnd=Math.min($,E.value.length);else{var W=E.ownerDocument||document,G=W&&W.defaultView||window;if(G.getSelection){var q=G.getSelection(),ve=E.textContent.length,pe=Math.min(I.start,ve),Ye=I.end===void 0?pe:Math.min(I.end,ve);!q.extend&&pe>Ye&&(_=Ye,Ye=pe,pe=_);var U=rg(E,pe),M=rg(E,Ye);if(U&&M&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var z=W.createRange();z.setStart(U.node,U.offset),q.removeAllRanges(),pe>Ye?(q.addRange(z),q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),q.addRange(z))}}}}for(W=[],q=E;q=q.parentNode;)q.nodeType===1&&W.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<W.length;E++){var Z=W[E];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}rc=!!Jf,Wf=Jf=null}finally{Be=h,le.p=l,X.T=s}}t.current=n,Vt=2}}function _y(){if(Vt===2){Vt=0;var t=mr,n=_a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=X.T,X.T=null;var l=le.p;le.p=2;var h=Be;Be|=4;try{$p(t,n.alternate,n)}finally{Be=h,le.p=l,X.T=s}}Vt=3}}function Ey(){if(Vt===4||Vt===3){Vt=0,Bo();var t=mr,n=_a,s=Ea,l=ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,_a=mr=null,Ty(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(dr=null),js(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(it,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=X.T,h=le.p,le.p=2,X.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var E=l[_];f(E.value,{componentStack:E.stack})}}finally{X.T=n,le.p=h}}(Ea&3)!==0&&Yu(),ni(t),h=t.pendingLanes,(s&4194090)!==0&&(h&42)!==0?t===Lf?ql++:(ql=0,Lf=t):ql=0,Fl(0)}}function Ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Sl(n)))}function Yu(t){return vy(),_y(),Ey(),by()}function by(){if(Vt!==5)return!1;var t=mr,n=Uf;Uf=0;var s=js(Ea),l=X.T,h=le.p;try{le.p=32>s?32:s,X.T=null,s=kf,kf=null;var f=mr,_=Ea;if(Vt=0,_a=mr=null,Ea=0,(Be&6)!==0)throw Error(a(331));var E=Be;if(Be|=4,sy(f.current),ny(f,f.current,_,s),Be=E,Fl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(it,f)}catch{}return!0}finally{le.p=h,X.T=l,Ty(t,n)}}function Ay(t,n,s){n=_n(s,n),n=pf(t.stateNode,n,2),t=rr(t,n,2),t!==null&&(hi(t,2),ni(t))}function Qe(t,n,s){if(t.tag===3)Ay(t,t,s);else for(;n!==null;){if(n.tag===3){Ay(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(dr===null||!dr.has(l))){t=_n(s,t),s=xp(2),l=rr(n,s,2),l!==null&&(Cp(s,l,n,t),hi(l,2),ni(l));break}}n=n.return}}function Hf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new B1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Of=!0,h.add(s),t=Y1.bind(null,t,n,s),n.then(t,t))}function Y1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Xe===t&&(Me&s)===s&&(st===4||st===3&&(Me&62914560)===Me&&300>dn()-Pf?(Be&2)===0&&Ta(t,0):Mf|=s,va===Me&&(va=0)),ni(t)}function Sy(t,n){n===0&&(n=el()),t=ia(t,n),t!==null&&(hi(t,n),ni(t))}function Q1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Sy(t,s)}function K1(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Sy(t,s)}function X1(t,n){return kr(t,n)}var Qu=null,Aa=null,Gf=!1,Ku=!1,qf=!1,vs=0;function ni(t){t!==Aa&&t.next===null&&(Aa===null?Qu=Aa=t:Aa=Aa.next=t),Ku=!0,Gf||(Gf=!0,Z1())}function Fl(t,n){if(!qf&&Ku){qf=!0;do for(var s=!1,l=Qu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var _=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=h&~(_&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Cy(l,f))}else f=Me,f=Ls(l,l===Xe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Gr(l,f)||(s=!0,Cy(l,f));l=l.next}while(s);qf=!1}}function $1(){wy()}function wy(){Ku=Gf=!1;var t=0;vs!==0&&(sT()&&(t=vs),vs=0);for(var n=dn(),s=null,l=Qu;l!==null;){var h=l.next,f=Ry(l,n);f===0?(l.next=null,s===null?Qu=h:s.next=h,h===null&&(Aa=s)):(s=l,(t!==0||(f&3)!==0)&&(Ku=!0)),l=h}Fl(t)}function Ry(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-zt(f),E=1<<_,I=h[_];I===-1?((E&s)===0||(E&l)!==0)&&(h[_]=Ja(E,n)):I<=n&&(t.expiredLanes|=E),f&=~E}if(n=Xe,s=Me,s=Ls(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(He===2||He===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Gr(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Lr(l),js(s)){case 2:case 8:s=Us;break;case 32:s=jr;break;case 268435456:s=ks;break;default:s=jr}return l=xy.bind(null,t),s=kr(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function xy(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Yu()&&t.callbackNode!==s)return null;var l=Me;return l=Ls(t,t===Xe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(uy(t,l,n),Ry(t,dn()),t.callbackNode!=null&&t.callbackNode===s?xy.bind(null,t):null)}function Cy(t,n){if(Yu())return null;uy(t,n,!0)}function Z1(){lT(function(){(Be&6)!==0?kr($a,$1):wy()})}function Ff(){return vs===0&&(vs=Wa()),vs}function Iy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fs(""+t)}function Ny(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function J1(t,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Iy((h[ct]||null).action),_=l.submitter;_&&(n=(n=_[ct]||null)?Iy(n.formAction):_.getAttribute("formAction"),n!==null&&(f=n,_=null));var E=new Ys("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(vs!==0){var I=_?Ny(h,_):new FormData(h);hf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=_?Ny(h,_):new FormData(h),hf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var Yf=0;Yf<Ih.length;Yf++){var Qf=Ih[Yf],W1=Qf.toLowerCase(),eT=Qf[0].toUpperCase()+Qf.slice(1);Dn(W1,"on"+eT)}Dn(ug,"onAnimationEnd"),Dn(cg,"onAnimationIteration"),Dn(hg,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(y1,"onTransitionRun"),Dn(v1,"onTransitionStart"),Dn(_1,"onTransitionCancel"),Dn(fg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),In("onBeforeInput",["compositionend","keypress","textInput","paste"]),In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function Dy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var _=l.length-1;0<=_;_--){var E=l[_],I=E.instance,H=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=H;try{f(h)}catch($){Pu($)}h.currentTarget=null,f=I}else for(_=0;_<l.length;_++){if(E=l[_],I=E.instance,H=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=H;try{f(h)}catch($){Pu($)}h.currentTarget=null,f=I}}}}function Ie(t,n){var s=n[il];s===void 0&&(s=n[il]=new Set);var l=t+"__bubble";s.has(l)||(Oy(n,t,2,!1),s.add(l))}function Kf(t,n,s){var l=0;n&&(l|=4),Oy(s,t,l,n)}var Xu="_reactListening"+Math.random().toString(36).slice(2);function Xf(t){if(!t[Xu]){t[Xu]=!0,rl.forEach(function(s){s!=="selectionchange"&&(tT.has(s)||Kf(s,!1,t),Kf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Xu]||(n[Xu]=!0,Kf("selectionchange",!1,n))}}function Oy(t,n,s,l){switch(nv(n)){case 2:var h=CT;break;case 8:h=IT;break;default:h=ud}s=h.bind(null,n,s,t),h=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function $f(t,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var E=l.stateNode.containerInfo;if(E===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;E!==null;){if(_=fi(E),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=f=_;continue e}E=E.parentNode}}l=l.return}Zo(function(){var H=f,$=pn(s),W=[];e:{var G=dg.get(t);if(G!==void 0){var q=Ys,ve=t;switch(t){case"keypress":if(Qn(s)===0)break e;case"keydown":case"keyup":q=Js;break;case"focusin":ve="focus",q=Xs;break;case"focusout":ve="blur",q=Xs;break;case"beforeblur":case"afterblur":q=Xs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Th;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=su;break;case ug:case cg:case hg:q=$s;break;case fg:q=lu;break;case"scroll":case"scrollend":q=Jo;break;case"wheel":q=Ws;break;case"copy":case"cut":case"paste":q=Zs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=pl;break;case"toggle":case"beforetoggle":q=uu}var pe=(n&4)!==0,Ye=!pe&&(t==="scroll"||t==="scrollend"),U=pe?G!==null?G+"Capture":null:G;pe=[];for(var M=H,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Zr(M,U),Z!=null&&pe.push(Ql(M,Z,z))),Ye)break;M=M.return}0<pe.length&&(G=new q(G,ve,null,s,$),W.push({event:G,listeners:pe}))}}if((n&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",G&&s!==pi&&(ve=s.relatedTarget||s.fromElement)&&(fi(ve)||ve[mn]))break e;if((q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,q?(ve=s.relatedTarget||s.toElement,q=H,ve=ve?fi(ve):null,ve!==null&&(Ye=c(ve),pe=ve.tag,ve!==Ye||pe!==5&&pe!==27&&pe!==6)&&(ve=null)):(q=null,ve=H),q!==ve)){if(pe=vn,Z="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(pe=pl,Z="onPointerLeave",U="onPointerEnter",M="pointer"),Ye=q==null?G:Gn(q),z=ve==null?G:Gn(ve),G=new pe(Z,M+"leave",q,s,$),G.target=Ye,G.relatedTarget=z,Z=null,fi($)===H&&(pe=new pe(U,M+"enter",ve,s,$),pe.target=z,pe.relatedTarget=Ye,Z=pe),Ye=Z,q&&ve)t:{for(pe=q,U=ve,M=0,z=pe;z;z=Sa(z))M++;for(z=0,Z=U;Z;Z=Sa(Z))z++;for(;0<M-z;)pe=Sa(pe),M--;for(;0<z-M;)U=Sa(U),z--;for(;M--;){if(pe===U||U!==null&&pe===U.alternate)break t;pe=Sa(pe),U=Sa(U)}pe=null}else pe=null;q!==null&&My(W,G,q,pe,!1),ve!==null&&Ye!==null&&My(W,Ye,ve,pe,!0)}}e:{if(G=H?Gn(H):window,q=G.nodeName&&G.nodeName.toLowerCase(),q==="select"||q==="input"&&G.type==="file")var ce=Jm;else if(vt(G))if(Wm)ce=m1;else{ce=f1;var Re=h1}else q=G.nodeName,!q||q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&ul(H.elementType)&&(ce=Jm):ce=d1;if(ce&&(ce=ce(t,H))){Ti(W,ce,s,$);break e}Re&&Re(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Wi(G,"number",G.value)}switch(Re=H?Gn(H):window,t){case"focusin":(vt(Re)||Re.contentEditable==="true")&&(ea=Re,Rh=H,_l=null);break;case"focusout":_l=Rh=ea=null;break;case"mousedown":xh=!0;break;case"contextmenu":case"mouseup":case"dragend":xh=!1,lg(W,s,$);break;case"selectionchange":if(p1)break;case"keydown":case"keyup":lg(W,s,$)}var fe;if($n)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else De?Y(t,s)&&(ye="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(ye="onCompositionStart");ye&&(v&&s.locale!=="ko"&&(De||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&De&&(fe=hl()):(Yn=$,er="value"in Yn?Yn.value:Yn.textContent,De=!0)),Re=$u(H,ye),0<Re.length&&(ye=new ml(ye,t,null,s,$),W.push({event:ye,listeners:Re}),fe?ye.data=fe:(fe=se(s),fe!==null&&(ye.data=fe)))),(fe=m?yt(t,s):Oe(t,s))&&(ye=$u(H,"onBeforeInput"),0<ye.length&&(Re=new ml("onBeforeInput","beforeinput",null,s,$),W.push({event:Re,listeners:ye}),Re.data=fe)),J1(W,t,H,s,$)}Dy(W,n)})}function Ql(t,n,s){return{instance:t,listener:n,currentTarget:s}}function $u(t,n){for(var s=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zr(t,s),h!=null&&l.unshift(Ql(t,h,f)),h=Zr(t,n),h!=null&&l.push(Ql(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function My(t,n,s,l,h){for(var f=n._reactName,_=[];s!==null&&s!==l;){var E=s,I=E.alternate,H=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||H===null||(I=H,h?(H=Zr(s,f),H!=null&&_.unshift(Ql(s,H,I))):h||(H=Zr(s,f),H!=null&&_.push(Ql(s,H,I)))),s=s.return}_.length!==0&&t.push({event:n,listeners:_})}var nT=/\r\n?/g,iT=/\u0000|\uFFFD/g;function Vy(t){return(typeof t=="string"?t:""+t).replace(nT,`
`).replace(iT,"")}function Py(t,n){return n=Vy(n),Vy(t)===n}function Zu(){}function Fe(t,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,s,l);break;case"style":ol(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fs(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Fe(t,n,"name",h.name,h,null),Fe(t,n,"formEncType",h.formEncType,h,null),Fe(t,n,"formMethod",h.formMethod,h,null),Fe(t,n,"formTarget",h.formTarget,h,null)):(Fe(t,n,"encType",h.encType,h,null),Fe(t,n,"method",h.method,h,null),Fe(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Fs(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Zu);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Fs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),Ji(t,"popover",l);break;case"xlinkActuate":Dt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Dt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Dt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Dt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Dt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Dt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Dt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ji(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=_h.get(s)||s,Ji(t,s,l))}}function Zf(t,n,s,l,h,f){switch(s){case"style":ol(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ie("scroll",t);break;case"onScrollEnd":l!=null&&Ie("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[ct]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Ji(t,s,l)}}}function Pt(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var _=s[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Fe(t,n,f,_,s,null)}}h&&Fe(t,n,"srcSet",s.srcSet,s,null),l&&Fe(t,n,"src",s.src,s,null);return;case"input":Ie("invalid",t);var E=f=_=h=null,I=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":H=$;break;case"value":f=$;break;case"defaultValue":E=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,n));break;default:Fe(t,n,l,$,s,null)}}Kr(t,f,E,I,H,_,h,!1),qs(t);return;case"select":Ie("invalid",t),l=_=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":_=E;break;case"multiple":l=E;default:Fe(t,n,h,E,s,null)}n=f,s=_,t.multiple=!!l,n!=null?gi(t,!!l,n,!1):s!=null&&gi(t,!!l,s,!0);return;case"textarea":Ie("invalid",t),f=h=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(E=s[_],E!=null))switch(_){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Fe(t,n,_,E,s,null)}Xr(t,l,h,f),qs(t);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Fe(t,n,I,l,s,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(l=0;l<Yl.length;l++)Ie(Yl[l],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Fe(t,n,H,l,s,null)}return;default:if(ul(n)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Zf(t,n,$,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Fe(t,n,E,l,s,null))}function rT(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,_=null,E=null,I=null,H=null,$=null;for(q in s){var W=s[q];if(s.hasOwnProperty(q)&&W!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=W;default:l.hasOwnProperty(q)||Fe(t,n,q,null,l,W)}}for(var G in l){var q=l[G];if(W=s[G],l.hasOwnProperty(G)&&(q!=null||W!=null))switch(G){case"type":f=q;break;case"name":h=q;break;case"checked":H=q;break;case"defaultChecked":$=q;break;case"value":_=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==W&&Fe(t,n,G,q,l,W)}}sn(t,_,E,I,H,$,f,h);return;case"select":q=_=E=G=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Fe(t,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":G=f;break;case"defaultValue":E=f;break;case"multiple":_=f;default:f!==I&&Fe(t,n,h,f,l,I)}n=E,s=_,l=q,G!=null?gi(t,!!s,G,!1):!!l!=!!s&&(n!=null?gi(t,!!s,n,!0):gi(t,!!s,s?[]:"",!1));return;case"textarea":q=G=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Fe(t,n,E,null,l,h)}for(_ in l)if(h=l[_],f=s[_],l.hasOwnProperty(_)&&(h!=null||f!=null))switch(_){case"value":G=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Fe(t,n,_,h,l,f)}Ge(t,G,q);return;case"option":for(var ve in s)if(G=s[ve],s.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve))switch(ve){case"selected":t.selected=!1;break;default:Fe(t,n,ve,null,l,G)}for(I in l)if(G=l[I],q=s[I],l.hasOwnProperty(I)&&G!==q&&(G!=null||q!=null))switch(I){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Fe(t,n,I,G,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in s)G=s[pe],s.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe)&&Fe(t,n,pe,null,l,G);for(H in l)if(G=l[H],q=s[H],l.hasOwnProperty(H)&&G!==q&&(G!=null||q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Fe(t,n,H,G,l,q)}return;default:if(ul(n)){for(var Ye in s)G=s[Ye],s.hasOwnProperty(Ye)&&G!==void 0&&!l.hasOwnProperty(Ye)&&Zf(t,n,Ye,void 0,l,G);for($ in l)G=l[$],q=s[$],!l.hasOwnProperty($)||G===q||G===void 0&&q===void 0||Zf(t,n,$,G,l,q);return}}for(var U in s)G=s[U],s.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&Fe(t,n,U,null,l,G);for(W in l)G=l[W],q=s[W],!l.hasOwnProperty(W)||G===q||G==null&&q==null||Fe(t,n,W,G,l,q)}var Jf=null,Wf=null;function Ju(t){return t.nodeType===9?t:t.ownerDocument}function Uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ky(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ed(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var td=null;function sT(){var t=window.event;return t&&t.type==="popstate"?t===td?!1:(td=t,!0):(td=null,!1)}var Ly=typeof setTimeout=="function"?setTimeout:void 0,aT=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,lT=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(t){return jy.resolve(null).then(t).catch(oT)}:Ly;function oT(t){setTimeout(function(){throw t})}function pr(t){return t==="head"}function zy(t,n){var s=n,l=0,h=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var _=t.ownerDocument;if(s&1&&Kl(_.documentElement),s&2&&Kl(_.body),s&4)for(s=_.head,Kl(s),_=s.firstChild;_;){var E=_.nextSibling,I=_.nodeName;_[qr]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&_.rel.toLowerCase()==="stylesheet"||s.removeChild(_),_=E}}if(h===0){t.removeChild(f),no(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);no(n)}function nd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":nd(s),Zi(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function uT(t,n,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function cT(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Mn(t.nextSibling),t===null))return null;return t}function id(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function hT(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var rd=null;function By(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Hy(t,n,s){switch(n=Ju(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Zi(t)}var wn=new Map,Gy=new Set;function Wu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=le.d;le.d={f:fT,r:dT,D:mT,C:gT,L:pT,m:yT,X:_T,S:vT,M:ET};function fT(){var t=Vi.f(),n=qu();return t||n}function dT(t){var n=Hn(t);n!==null&&n.tag===5&&n.type==="form"?up(n):Vi.r(t)}var wa=typeof document>"u"?null:document;function qy(t,n,s){var l=wa;if(l&&typeof n=="string"&&n){var h=ht(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),Gy.has(h)||(Gy.add(h),t={rel:t,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Pt(n,"link",t),lt(n),l.head.appendChild(n)))}}function mT(t){Vi.D(t),qy("dns-prefetch",t,null)}function gT(t,n){Vi.C(t,n),qy("preconnect",t,n)}function pT(t,n,s){Vi.L(t,n,s);var l=wa;if(l&&t&&n){var h='link[rel="preload"][as="'+ht(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ht(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ht(s.imageSizes)+'"]')):h+='[href="'+ht(t)+'"]';var f=h;switch(n){case"style":f=Ra(t);break;case"script":f=xa(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),wn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Xl(f))||n==="script"&&l.querySelector($l(f))||(n=l.createElement("link"),Pt(n,"link",t),lt(n),l.head.appendChild(n)))}}function yT(t,n){Vi.m(t,n);var s=wa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+ht(l)+'"][href="'+ht(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector($l(f)))return}l=s.createElement("link"),Pt(l,"link",t),lt(l),s.head.appendChild(l)}}}function vT(t,n,s){Vi.S(t,n,s);var l=wa;if(l&&t){var h=Qt(l).hoistableStyles,f=Ra(t);n=n||"default";var _=h.get(f);if(!_){var E={loading:0,preload:null};if(_=l.querySelector(Xl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=wn.get(f))&&sd(t,s);var I=_=l.createElement("link");lt(I),Pt(I,"link",t),I._p=new Promise(function(H,$){I.onload=H,I.onerror=$}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ec(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(f,_)}}}function _T(t,n){Vi.X(t,n);var s=wa;if(s&&t){var l=Qt(s).hoistableScripts,h=xa(t),f=l.get(h);f||(f=s.querySelector($l(h)),f||(t=T({src:t,async:!0},n),(n=wn.get(h))&&ad(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ET(t,n){Vi.M(t,n);var s=wa;if(s&&t){var l=Qt(s).hoistableScripts,h=xa(t),f=l.get(h);f||(f=s.querySelector($l(h)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(h))&&ad(t,n),f=s.createElement("script"),lt(f),Pt(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Fy(t,n,s,l){var h=(h=Ee.current)?Wu(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ra(s.href),s=Qt(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ra(s.href);var f=Qt(h).hoistableStyles,_=f.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=h.querySelector(Xl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(t,s),f||TT(h,t,s,_.state))),n&&l===null)throw Error(a(528,""));return _}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=Qt(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ra(t){return'href="'+ht(t)+'"'}function Xl(t){return'link[rel="stylesheet"]['+t+"]"}function Yy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function TT(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pt(n,"link",s),lt(n),t.head.appendChild(n))}function xa(t){return'[src="'+ht(t)+'"]'}function $l(t){return"script[async]"+t}function Qy(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ht(s.href)+'"]');if(l)return n.instance=l,lt(l),l;var h=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),lt(l),Pt(l,"style",h),ec(l,s.precedence,t),n.instance=l;case"stylesheet":h=Ra(s.href);var f=t.querySelector(Xl(h));if(f)return n.state.loading|=4,n.instance=f,lt(f),f;l=Yy(s),(h=wn.get(h))&&sd(l,h),f=(t.ownerDocument||t).createElement("link"),lt(f);var _=f;return _._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Pt(f,"link",l),n.state.loading|=4,ec(f,s.precedence,t),n.instance=f;case"script":return f=xa(s.src),(h=t.querySelector($l(f)))?(n.instance=h,lt(h),h):(l=s,(h=wn.get(f))&&(l=T({},s),ad(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),lt(h),Pt(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ec(l,s.precedence,t));return n.instance}function ec(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,_=0;_<l.length;_++){var E=l[_];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var tc=null;function Ky(t,n,s){if(tc===null){var l=new Map,h=tc=new Map;h.set(s,l)}else h=tc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[qr]||f[pt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(n)||"";_=t+_;var E=l.get(_);E?E.push(f):l.set(_,[f])}}return l}function Xy(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function bT(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $y(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Zl=null;function AT(){}function ST(t,n,s){if(Zl===null)throw Error(a(475));var l=Zl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ra(s.href),f=t.querySelector(Xl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nc.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,lt(f);return}f=t.ownerDocument||t,s=Yy(s),(h=wn.get(h))&&sd(s,h),f=f.createElement("link"),lt(f);var _=f;_._p=new Promise(function(E,I){_.onload=E,_.onerror=I}),Pt(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=nc.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function wT(){if(Zl===null)throw Error(a(475));var t=Zl;return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function nc(){if(this.count--,this.count===0){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ic=null;function ld(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ic=new Map,n.forEach(RT,t),ic=null,nc.call(t))}function RT(t,n){if(!(n.state.loading&4)){var s=ic.get(t);if(s)var l=s.get(null);else{s=new Map,ic.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var _=h[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),f=s.get(_)||l,f===l&&s.set(null,h),s.set(_,h),this.count++,l=nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Jl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function xT(t,n,s,l,h,f,_,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Zy(t,n,s,l,h,f,_,E,I,H,$,W){return t=new xT(t,n,s,_,E,I,H,W),n=1,f===!0&&(n|=24),f=ln(3,null,null,n),t.current=f,f.stateNode=t,n=Bh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Fh(f),t}function Jy(t){return t?(t=ra,t):ra}function Wy(t,n,s,l,h,f){h=Jy(h),l.context===null?l.context=h:l.pendingContext=h,l=ir(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=rr(t,l,n),s!==null&&(fn(s,t,n),Cl(s,t,n))}function ev(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function od(t,n){ev(t,n),(t=t.alternate)&&ev(t,n)}function tv(t){if(t.tag===13){var n=ia(t,67108864);n!==null&&fn(n,t,67108864),od(t,67108864)}}var rc=!0;function CT(t,n,s,l){var h=X.T;X.T=null;var f=le.p;try{le.p=2,ud(t,n,s,l)}finally{le.p=f,X.T=h}}function IT(t,n,s,l){var h=X.T;X.T=null;var f=le.p;try{le.p=8,ud(t,n,s,l)}finally{le.p=f,X.T=h}}function ud(t,n,s,l){if(rc){var h=cd(l);if(h===null)$f(t,n,l,sc,s),iv(t,l);else if(DT(h,t,n,s,l))l.stopPropagation();else if(iv(t,l),n&4&&-1<NT.indexOf(t)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=Cn(f.pendingLanes);if(_!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var I=1<<31-zt(_);E.entanglements[1]|=I,_&=~I}ni(f),(Be&6)===0&&(Hu=dn()+500,Fl(0))}}break;case 13:E=ia(f,2),E!==null&&fn(E,f,2),qu(),od(f,2)}if(f=cd(l),f===null&&$f(t,n,l,sc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else $f(t,n,l,null,s)}}function cd(t){return t=pn(t),hd(t)}var sc=null;function hd(t){if(sc=null,t=fi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return sc=t,null}function nv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case $a:return 2;case Us:return 8;case jr:case mh:return 32;case ks:return 268435456;default:return 32}default:return 32}}var fd=!1,yr=null,vr=null,_r=null,Wl=new Map,eo=new Map,Er=[],NT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iv(t,n){switch(t){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(t,n,s,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&tv(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function DT(t,n,s,l,h){switch(n){case"focusin":return yr=to(yr,t,n,s,l,h),!0;case"dragenter":return vr=to(vr,t,n,s,l,h),!0;case"mouseover":return _r=to(_r,t,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Wl.set(f,to(Wl.get(f)||null,t,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,eo.set(f,to(eo.get(f)||null,t,n,s,l,h)),!0}return!1}function rv(t){var n=fi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,qo(t.priority,function(){if(s.tag===13){var l=hn();l=Ki(l);var h=ia(s,l);h!==null&&fn(h,s,l),od(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ac(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=cd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);pi=l,s.target.dispatchEvent(l),pi=null}else return n=Hn(s),n!==null&&tv(n),t.blockedOn=s,!1;n.shift()}return!0}function sv(t,n,s){ac(t)&&s.delete(n)}function OT(){fd=!1,yr!==null&&ac(yr)&&(yr=null),vr!==null&&ac(vr)&&(vr=null),_r!==null&&ac(_r)&&(_r=null),Wl.forEach(sv),eo.forEach(sv)}function lc(t,n){t.blockedOn===n&&(t.blockedOn=null,fd||(fd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,OT)))}var oc=null;function av(t){oc!==t&&(oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===t&&(oc=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(hd(l||s)===null)continue;break}var f=Hn(s);f!==null&&(t.splice(n,3),n-=3,hf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function no(t){function n(I){return lc(I,t)}yr!==null&&lc(yr,t),vr!==null&&lc(vr,t),_r!==null&&lc(_r,t),Wl.forEach(n),eo.forEach(n);for(var s=0;s<Er.length;s++){var l=Er[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Er.length&&(s=Er[0],s.blockedOn===null);)rv(s),s.blockedOn===null&&Er.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],_=h[ct]||null;if(typeof f=="function")_||av(s);else if(_){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,_=f[ct]||null)E=_.formAction;else if(hd(h)!==null)continue}else E=_.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),av(s)}}}function dd(t){this._internalRoot=t}uc.prototype.render=dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=hn();Wy(s,l,t,n,null,null)},uc.prototype.unmount=dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wy(t.current,2,null,t,null,null),qu(),n[mn]=null}};function uc(t){this._internalRoot=t}uc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Xi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Er.length&&n!==0&&n<Er[s].priority;s++);Er.splice(s,0,t),s===0&&rv(t)}};var lv=e.version;if(lv!=="19.1.0")throw Error(a(527,lv,"19.1.0"));le.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cc.isDisabled&&cc.supportsFiber)try{it=cc.inject(MT),ze=cc}catch{}}return ro.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",h=Ap,f=Sp,_=wp,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Zy(t,1,!1,null,null,s,l,h,f,_,E,null),t[mn]=n.current,Xf(t),new dd(n)},ro.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,h="",f=Ap,_=Sp,E=wp,I=null,H=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(I=s.unstable_transitionCallbacks),s.formState!==void 0&&(H=s.formState)),n=Zy(t,1,!0,n,s??null,l,h,f,_,E,I,H),n.context=Jy(null),s=n.current,l=hn(),l=Ki(l),h=ir(l),h.callback=null,rr(s,h,l),s=l,n.current.lanes=s,hi(n,s),ni(n),t[mn]=n.current,Xf(t),new uc(n)},ro.version="19.1.0",ro}var yv;function qT(){if(yv)return pd.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pd.exports=GT(),pd.exports}var FT=qT();const YT=G0(FT);var so={},vv;function QT(){if(vv)return so;vv=1,Object.defineProperty(so,"__esModule",{value:!0}),so.parse=d,so.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function d(A,j){const V=new c,Q=A.length;if(Q<2)return V;const K=(j==null?void 0:j.decode)||T;let F=0;do{const J=A.indexOf("=",F);if(J===-1)break;const ne=A.indexOf(";",F),ue=ne===-1?Q:ne;if(J>ue){F=A.lastIndexOf(";",J-1)+1;continue}const ae=g(A,F,J),de=p(A,J,ae),C=A.slice(ae,de);if(V[C]===void 0){let S=g(A,J+1,ue),R=p(A,ue,S);const D=K(A.slice(S,R));V[C]=D}F=ue+1}while(F<Q);return V}function g(A,j,V){do{const Q=A.charCodeAt(j);if(Q!==32&&Q!==9)return j}while(++j<V);return V}function p(A,j,V){for(;j>V;){const Q=A.charCodeAt(--j);if(Q!==32&&Q!==9)return j+1}return V}function y(A,j,V){const Q=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(A))throw new TypeError(`argument name is invalid: ${A}`);const K=Q(j);if(!e.test(K))throw new TypeError(`argument val is invalid: ${j}`);let F=A+"="+K;if(!V)return F;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);F+="; Max-Age="+V.maxAge}if(V.domain){if(!i.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);F+="; Domain="+V.domain}if(V.path){if(!a.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);F+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);F+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(F+="; HttpOnly"),V.secure&&(F+="; Secure"),V.partitioned&&(F+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return F}function T(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return so}QT();var _v="popstate";function KT(r={}){function e(o,c){let{pathname:d="/",search:g="",hash:p=""}=Os(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Pd("",{pathname:d,search:g,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let d=o.document.querySelector("base"),g="";if(d&&d.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof c=="string"?c:yo(c))}function a(o,c){xn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return $T(e,i,a,r)}function et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XT(){return Math.random().toString(36).substring(2,10)}function Ev(r,e){return{usr:r.state,key:r.key,idx:e}}function Pd(r,e,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Os(e):e,state:i,key:e&&e.key||a||XT()}}function yo({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Os(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function $T(r,e,i,a={}){let{window:o=document.defaultView,v5Compat:c=!1}=a,d=o.history,g="POP",p=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function w(){g="POP";let K=T(),F=K==null?null:K-y;y=K,p&&p({action:g,location:Q.location,delta:F})}function A(K,F){g="PUSH";let J=Pd(Q.location,K,F);i&&i(J,K),y=T()+1;let ne=Ev(J,y),ue=Q.createHref(J);try{d.pushState(ne,"",ue)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(ue)}c&&p&&p({action:g,location:Q.location,delta:1})}function j(K,F){g="REPLACE";let J=Pd(Q.location,K,F);i&&i(J,K),y=T();let ne=Ev(J,y),ue=Q.createHref(J);d.replaceState(ne,"",ue),c&&p&&p({action:g,location:Q.location,delta:0})}function V(K){return ZT(K)}let Q={get action(){return g},get location(){return r(o,d)},listen(K){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_v,w),p=K,()=>{o.removeEventListener(_v,w),p=null}},createHref(K){return e(o,K)},createURL:V,encodeLocation(K){let F=V(K);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:j,go(K){return d.go(K)}};return Q}function ZT(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),et(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:yo(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function q0(r,e,i="/"){return JT(r,e,i,!1)}function JT(r,e,i,a){let o=typeof e=="string"?Os(e):e,c=Bi(o.pathname||"/",i);if(c==null)return null;let d=F0(r);WT(d);let g=null;for(let p=0;g==null&&p<d.length;++p){let y=cb(c);g=ob(d[p],y,a)}return g}function F0(r,e=[],i=[],a=""){let o=(c,d,g)=>{let p={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(et(p.relativePath.startsWith(a),`Absolute route path "${p.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(a.length));let y=Li([a,p.relativePath]),T=i.concat(p);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),F0(c.children,e,T,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:ab(y,c.index),routesMeta:T})};return r.forEach((c,d)=>{var g;if(c.path===""||!((g=c.path)!=null&&g.includes("?")))o(c,d);else for(let p of Y0(c.path))o(c,d,p)}),e}function Y0(r){let e=r.split("/");if(e.length===0)return[];let[i,...a]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(a.length===0)return o?[c,""]:[c];let d=Y0(a.join("/")),g=[];return g.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&g.push(...d),g.map(p=>r.startsWith("/")&&p===""?"/":p)}function WT(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:lb(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var eb=/^:[\w-]+$/,tb=3,nb=2,ib=1,rb=10,sb=-2,Tv=r=>r==="*";function ab(r,e){let i=r.split("/"),a=i.length;return i.some(Tv)&&(a+=sb),e&&(a+=nb),i.filter(o=>!Tv(o)).reduce((o,c)=>o+(eb.test(c)?tb:c===""?ib:rb),a)}function lb(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function ob(r,e,i=!1){let{routesMeta:a}=r,o={},c="/",d=[];for(let g=0;g<a.length;++g){let p=a[g],y=g===a.length-1,T=c==="/"?e:e.slice(c.length)||"/",w=Cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),A=p.route;if(!w&&y&&i&&!a[a.length-1].route.index&&(w=Cc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:Li([c,w.pathname]),pathnameBase:mb(Li([c,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(c=Li([c,w.pathnameBase]))}return d}function Cc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=ub(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:a.reduce((y,{paramName:T,isOptional:w},A)=>{if(T==="*"){let V=g[A]||"";d=c.slice(0,c.length-V.length).replace(/(.)\/+$/,"$1")}const j=g[A];return w&&!j?y[T]=void 0:y[T]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function ub(r,e=!1,i=!0){xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,g,p)=>(a.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function cb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function hb(r,e="/"){let{pathname:i,search:a="",hash:o=""}=typeof r=="string"?Os(r):r;return{pathname:i?i.startsWith("/")?i:fb(i,e):e,search:gb(a),hash:pb(o)}}function fb(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ed(r,e,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function db(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function sm(r){let e=db(r);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function am(r,e,i,a=!1){let o;typeof r=="string"?o=Os(r):(o={...r},et(!o.pathname||!o.pathname.includes("?"),Ed("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Ed("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Ed("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,g;if(d==null)g=i;else{let w=e.length-1;if(!a&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}g=w>=0?e[w]:"/"}let p=hb(o,g),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),mb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Q0=["POST","PUT","PATCH","DELETE"];new Set(Q0);var vb=["GET",...Q0];new Set(vb);var Ga=B.createContext(null);Ga.displayName="DataRouter";var Xc=B.createContext(null);Xc.displayName="DataRouterState";var K0=B.createContext({isTransitioning:!1});K0.displayName="ViewTransition";var _b=B.createContext(new Map);_b.displayName="Fetchers";var Eb=B.createContext(null);Eb.displayName="Await";var jn=B.createContext(null);jn.displayName="Navigation";var xo=B.createContext(null);xo.displayName="Location";var oi=B.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var lm=B.createContext(null);lm.displayName="RouteError";function Tb(r,{relative:e}={}){et(qa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=B.useContext(jn),{hash:o,pathname:c,search:d}=Co(r,{relative:e}),g=c;return i!=="/"&&(g=c==="/"?i:Li([i,c])),a.createHref({pathname:g,search:d,hash:o})}function qa(){return B.useContext(xo)!=null}function Fi(){return et(qa(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(xo).location}var X0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $0(r){B.useContext(jn).static||B.useLayoutEffect(r)}function Pr(){let{isDataRoute:r}=B.useContext(oi);return r?Vb():bb()}function bb(){et(qa(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Ga),{basename:e,navigator:i}=B.useContext(jn),{matches:a}=B.useContext(oi),{pathname:o}=Fi(),c=JSON.stringify(sm(a)),d=B.useRef(!1);return $0(()=>{d.current=!0}),B.useCallback((p,y={})=>{if(xn(d.current,X0),!d.current)return;if(typeof p=="number"){i.go(p);return}let T=am(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Li([e,T.pathname])),(y.replace?i.replace:i.push)(T,y.state,y)},[e,i,c,o,r])}B.createContext(null);function Co(r,{relative:e}={}){let{matches:i}=B.useContext(oi),{pathname:a}=Fi(),o=JSON.stringify(sm(i));return B.useMemo(()=>am(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function Ab(r,e){return Z0(r,e)}function Z0(r,e,i,a){var F;et(qa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(jn),{matches:c}=B.useContext(oi),d=c[c.length-1],g=d?d.params:{},p=d?d.pathname:"/",y=d?d.pathnameBase:"/",T=d&&d.route;{let J=T&&T.path||"";J0(p,!T||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=Fi(),A;if(e){let J=typeof e=="string"?Os(e):e;et(y==="/"||((F=J.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${J.pathname}" was given in the \`location\` prop.`),A=J}else A=w;let j=A.pathname||"/",V=j;if(y!=="/"){let J=y.replace(/^\//,"").split("/");V="/"+j.replace(/^\//,"").split("/").slice(J.length).join("/")}let Q=q0(r,{pathname:V});xn(T||Q!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),xn(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=Cb(Q&&Q.map(J=>Object.assign({},J,{params:Object.assign({},g,J.params),pathname:Li([y,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?y:Li([y,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),c,i,a);return e&&K?B.createElement(xo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},K):K}function Sb(){let r=Mb(),e=yb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),i?B.createElement("pre",{style:o},i):null,d)}var wb=B.createElement(Sb,null),Rb=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(oi.Provider,{value:this.props.routeContext},B.createElement(lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xb({routeContext:r,match:e,children:i}){let a=B.useContext(Ga);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(oi.Provider,{value:r},i)}function Cb(r,e=[],i=null,a=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,g=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:T,errors:w}=i,A=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){d=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let w,A=!1,j=null,V=null;i&&(w=c&&y.route.id?c[y.route.id]:void 0,j=y.route.errorElement||wb,d&&(g<0&&T===0?(J0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,V=null):g===T&&(A=!0,V=y.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,T+1)),K=()=>{let F;return w?F=j:A?F=V:y.route.Component?F=B.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=p,B.createElement(xb,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:i!=null},children:F})};return i&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?B.createElement(Rb,{location:i.location,revalidation:i.revalidation,component:j,error:w,children:K(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):K()},null)}function om(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(r){let e=B.useContext(Ga);return et(e,om(r)),e}function Nb(r){let e=B.useContext(Xc);return et(e,om(r)),e}function Db(r){let e=B.useContext(oi);return et(e,om(r)),e}function um(r){let e=Db(r),i=e.matches[e.matches.length-1];return et(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function Ob(){return um("useRouteId")}function Mb(){var a;let r=B.useContext(lm),e=Nb("useRouteError"),i=um("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[i]}function Vb(){let{router:r}=Ib("useNavigate"),e=um("useNavigate"),i=B.useRef(!1);return $0(()=>{i.current=!0}),B.useCallback(async(o,c={})=>{xn(i.current,X0),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var bv={};function J0(r,e,i){!e&&!bv[r]&&(bv[r]=!0,xn(!1,i))}B.memo(Pb);function Pb({routes:r,future:e,state:i}){return Z0(r,void 0,i,e)}function Ca({to:r,replace:e,state:i,relative:a}){et(qa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=B.useContext(jn);xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=B.useContext(oi),{pathname:d}=Fi(),g=Pr(),p=am(r,sm(c),d,a==="path"),y=JSON.stringify(p);return B.useEffect(()=>{g(JSON.parse(y),{replace:e,state:i,relative:a})},[g,y,a,e,i]),null}function Ar(r){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ub({basename:r="/",children:e=null,location:i,navigationType:a="POP",navigator:o,static:c=!1}){et(!qa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),g=B.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=Os(i));let{pathname:p="/",search:y="",hash:T="",state:w=null,key:A="default"}=i,j=B.useMemo(()=>{let V=Bi(p,d);return V==null?null:{location:{pathname:V,search:y,hash:T,state:w,key:A},navigationType:a}},[d,p,y,T,w,A,a]);return xn(j!=null,`<Router basename="${d}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:B.createElement(jn.Provider,{value:g},B.createElement(xo.Provider,{children:e,value:j}))}function kb({children:r,location:e}){return Ab(Ud(r),e)}function Ud(r,e=[]){let i=[];return B.Children.forEach(r,(a,o)=>{if(!B.isValidElement(a))return;let c=[...e,o];if(a.type===B.Fragment){i.push.apply(i,Ud(a.props.children,c));return}et(a.type===Ar,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Ud(a.props.children,c)),i.push(d)}),i}var vc="get",_c="application/x-www-form-urlencoded";function $c(r){return r!=null&&typeof r.tagName=="string"}function Lb(r){return $c(r)&&r.tagName.toLowerCase()==="button"}function jb(r){return $c(r)&&r.tagName.toLowerCase()==="form"}function zb(r){return $c(r)&&r.tagName.toLowerCase()==="input"}function Bb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Hb(r,e){return r.button===0&&(!e||e==="_self")&&!Bb(r)}var hc=null;function Gb(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var qb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Td(r){return r!=null&&!qb.has(r)?(xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_c}"`),null):r}function Fb(r,e){let i,a,o,c,d;if(jb(r)){let g=r.getAttribute("action");a=g?Bi(g,e):null,i=r.getAttribute("method")||vc,o=Td(r.getAttribute("enctype"))||_c,c=new FormData(r)}else if(Lb(r)||zb(r)&&(r.type==="submit"||r.type==="image")){let g=r.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||g.getAttribute("action");if(a=p?Bi(p,e):null,i=r.getAttribute("formmethod")||g.getAttribute("method")||vc,o=Td(r.getAttribute("formenctype"))||Td(g.getAttribute("enctype"))||_c,c=new FormData(g,r),!Gb()){let{name:y,type:T,value:w}=r;if(T==="image"){let A=y?`${y}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else y&&c.append(y,w)}}else{if($c(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=vc,a=null,o=_c,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:c,body:d}}function cm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Yb(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Kb(r,e,i){let a=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await Yb(c,i);return d.links?d.links():[]}return[]}));return Jb(a.flat(1).filter(Qb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Av(r,e,i,a,o,c){let d=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,g=(p,y)=>{var T;return i[y].pathname!==p.pathname||((T=i[y].route.path)==null?void 0:T.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>d(p,y)||g(p,y)):c==="data"?e.filter((p,y)=>{var w;let T=a.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(d(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=i[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Xb(r,e,{includeHydrateFallback:i}={}){return $b(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function $b(r){return[...new Set(r)]}function Zb(r){let e={},i=Object.keys(r).sort();for(let a of i)e[a]=r[a];return e}function Jb(r,e){let i=new Set;return new Set(e),r.reduce((a,o)=>{let c=JSON.stringify(Zb(o));return i.has(c)||(i.add(c),a.push({key:c,link:o})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wb=new Set([100,101,204,205]);function eA(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&Bi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function W0(){let r=B.useContext(Ga);return cm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function tA(){let r=B.useContext(Xc);return cm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var hm=B.createContext(void 0);hm.displayName="FrameworkContext";function e_(){let r=B.useContext(hm);return cm(r,"You must render this element inside a <HydratedRouter> element"),r}function nA(r,e){let i=B.useContext(hm),[a,o]=B.useState(!1),[c,d]=B.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:w}=e,A=B.useRef(null);B.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let Q=F=>{F.forEach(J=>{d(J.isIntersecting)})},K=new IntersectionObserver(Q,{threshold:.5});return A.current&&K.observe(A.current),()=>{K.disconnect()}}},[r]),B.useEffect(()=>{if(a){let Q=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(Q)}}},[a]);let j=()=>{o(!0)},V=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,A,{}]:[c,A,{onFocus:ao(g,j),onBlur:ao(p,V),onMouseEnter:ao(y,j),onMouseLeave:ao(T,V),onTouchStart:ao(w,j)}]:[!1,A,{}]}function ao(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function iA({page:r,...e}){let{router:i}=W0(),a=B.useMemo(()=>q0(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?B.createElement(sA,{page:r,matches:a,...e}):null}function rA(r){let{manifest:e,routeModules:i}=e_(),[a,o]=B.useState([]);return B.useEffect(()=>{let c=!1;return Kb(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),a}function sA({page:r,matches:e,...i}){let a=Fi(),{manifest:o,routeModules:c}=e_(),{basename:d}=W0(),{loaderData:g,matches:p}=tA(),y=B.useMemo(()=>Av(r,e,p,o,a,"data"),[r,e,p,o,a]),T=B.useMemo(()=>Av(r,e,p,o,a,"assets"),[r,e,p,o,a]),w=B.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let V=new Set,Q=!1;if(e.forEach(F=>{var ne;let J=o.routes[F.route.id];!J||!J.hasLoader||(!y.some(ue=>ue.route.id===F.route.id)&&F.route.id in g&&((ne=c[F.route.id])!=null&&ne.shouldRevalidate)||J.hasClientLoader?Q=!0:V.add(F.route.id))}),V.size===0)return[];let K=eA(r,d);return Q&&V.size>0&&K.searchParams.set("_routes",e.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[K.pathname+K.search]},[d,g,a,o,y,e,r,c]),A=B.useMemo(()=>Xb(T,o),[T,o]),j=rA(T);return B.createElement(B.Fragment,null,w.map(V=>B.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...i})),A.map(V=>B.createElement("link",{key:V,rel:"modulepreload",href:V,...i})),j.map(({key:V,link:Q})=>B.createElement("link",{key:V,...Q})))}function aA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var t_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t_&&(window.__reactRouterVersion="7.6.1")}catch{}function lA({basename:r,children:e,window:i}){let a=B.useRef();a.current==null&&(a.current=KT({window:i,v5Compat:!0}));let o=a.current,[c,d]=B.useState({action:o.action,location:o.location}),g=B.useCallback(p=>{B.startTransition(()=>d(p))},[d]);return B.useLayoutEffect(()=>o.listen(g),[o,g]),B.createElement(Ub,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var n_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i_=B.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:o,reloadDocument:c,replace:d,state:g,target:p,to:y,preventScrollReset:T,viewTransition:w,...A},j){let{basename:V}=B.useContext(jn),Q=typeof y=="string"&&n_.test(y),K,F=!1;if(typeof y=="string"&&Q&&(K=y,t_))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),P=Bi(D.pathname,V);D.origin===R.origin&&P!=null?y=P+D.search+D.hash:F=!0}catch{xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Tb(y,{relative:o}),[ne,ue,ae]=nA(a,A),de=hA(y,{replace:d,state:g,target:p,preventScrollReset:T,relative:o,viewTransition:w});function C(R){e&&e(R),R.defaultPrevented||de(R)}let S=B.createElement("a",{...A,...ae,href:K||J,onClick:F||c?e:C,ref:aA(j,ue),target:p,"data-discover":!Q&&i==="render"?"true":void 0});return ne&&!Q?B.createElement(B.Fragment,null,S,B.createElement(iA,{page:J})):S});i_.displayName="Link";var oA=B.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:o=!1,style:c,to:d,viewTransition:g,children:p,...y},T){let w=Co(d,{relative:y.relative}),A=Fi(),j=B.useContext(Xc),{navigator:V,basename:Q}=B.useContext(jn),K=j!=null&&pA(w)&&g===!0,F=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,J=A.pathname,ne=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;i||(J=J.toLowerCase(),ne=ne?ne.toLowerCase():null,F=F.toLowerCase()),ne&&Q&&(ne=Bi(ne,Q)||ne);const ue=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ae=J===F||!o&&J.startsWith(F)&&J.charAt(ue)==="/",de=ne!=null&&(ne===F||!o&&ne.startsWith(F)&&ne.charAt(F.length)==="/"),C={isActive:ae,isPending:de,isTransitioning:K},S=ae?e:void 0,R;typeof a=="function"?R=a(C):R=[a,ae?"active":null,de?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(C):c;return B.createElement(i_,{...y,"aria-current":S,className:R,ref:T,style:D,to:d,viewTransition:g},typeof p=="function"?p(C):p)});oA.displayName="NavLink";var uA=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:o,state:c,method:d=vc,action:g,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:w,...A},j)=>{let V=mA(),Q=gA(g,{relative:y}),K=d.toLowerCase()==="get"?"get":"post",F=typeof g=="string"&&n_.test(g),J=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let ue=ne.nativeEvent.submitter,ae=(ue==null?void 0:ue.getAttribute("formmethod"))||d;V(ue||ne.currentTarget,{fetcherKey:e,method:ae,navigate:i,replace:o,state:c,relative:y,preventScrollReset:T,viewTransition:w})};return B.createElement("form",{ref:j,method:K,action:Q,onSubmit:a?p:J,...A,"data-discover":!F&&r==="render"?"true":void 0})});uA.displayName="Form";function cA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r_(r){let e=B.useContext(Ga);return et(e,cA(r)),e}function hA(r,{target:e,replace:i,state:a,preventScrollReset:o,relative:c,viewTransition:d}={}){let g=Pr(),p=Fi(),y=Co(r,{relative:c});return B.useCallback(T=>{if(Hb(T,e)){T.preventDefault();let w=i!==void 0?i:yo(p)===yo(y);g(r,{replace:w,state:a,preventScrollReset:o,relative:c,viewTransition:d})}},[p,g,y,i,a,e,r,o,c,d])}var fA=0,dA=()=>`__${String(++fA)}__`;function mA(){let{router:r}=r_("useSubmit"),{basename:e}=B.useContext(jn),i=Ob();return B.useCallback(async(a,o={})=>{let{action:c,method:d,encType:g,formData:p,body:y}=Fb(a,e);if(o.navigate===!1){let T=o.fetcherKey||dA();await r.fetch(T,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||d,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function gA(r,{relative:e}={}){let{basename:i}=B.useContext(jn),a=B.useContext(oi);et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),c={...Co(r||".",{relative:e})},d=Fi();if(r==null){c.search=d.search;let g=new URLSearchParams(c.search),p=g.getAll("index");if(p.some(T=>T==="")){g.delete("index"),p.filter(w=>w).forEach(w=>g.append("index",w));let T=g.toString();c.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Li([i,c.pathname])),yo(c)}function pA(r,e={}){let i=B.useContext(K0);et(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=r_("useViewTransitionState"),o=Co(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=Bi(i.currentLocation.pathname,a)||i.currentLocation.pathname,d=Bi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Cc(o.pathname,d)!=null||Cc(o.pathname,c)!=null}[...Wb];const yA=()=>{};var Sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},vA=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},a_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=c>>2,w=(c&3)<<4|g>>4;let A=(g&15)<<2|y>>6,j=y&63;p||(j=64,d||(A=64)),a.push(i[T],i[w],i[A],i[j])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):vA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new _A;const A=c<<2|g>>4;if(a.push(A),y!==64){const j=g<<4&240|y>>2;if(a.push(j),w!==64){const V=y<<6&192|w;a.push(V)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class _A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EA=function(r){const e=s_(r);return a_.encodeByteArray(e,!0)},Ic=function(r){return EA(r).replace(/\./g,"")},l_=function(r){try{return a_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=()=>TA().__FIREBASE_DEFAULTS__,AA=()=>{if(typeof process>"u"||typeof Sv>"u")return;const r=Sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&l_(r[1]);return e&&JSON.parse(e)},Zc=()=>{try{return yA()||bA()||AA()||SA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o_=r=>{var e,i;return(i=(e=Zc())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},wA=r=>{const e=o_(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},u_=()=>{var r;return(r=Zc())===null||r===void 0?void 0:r.config},c_=r=>{var e;return(e=Zc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(r){return r.endsWith(".cloudworkstations.dev")}async function h_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ic(JSON.stringify(i)),Ic(JSON.stringify(d)),""].join(".")}const uo={};function CA(){const r={prod:[],emulator:[]};for(const e of Object.keys(uo))uo[e]?r.emulator.push(e):r.prod.push(e);return r}function IA(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let wv=!1;function f_(r,e){if(typeof window>"u"||typeof document>"u"||!Io(window.location.host)||uo[r]===e||uo[r]||wv)return;uo[r]=e;function i(A){return`__firebase__banner__${A}`}const a="__firebase__banner",c=CA().prod.length>0;function d(){const A=document.getElementById(a);A&&A.remove()}function g(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,j){A.setAttribute("width","24"),A.setAttribute("id",j),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{wv=!0,d()},A}function T(A,j){A.setAttribute("id",j),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=IA(a),j=i("text"),V=document.getElementById(j)||document.createElement("span"),Q=i("learnmore"),K=document.getElementById(Q)||document.createElement("a"),F=i("preprendIcon"),J=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ne=A.element;g(ne),T(K,Q);const ue=y();p(J,F),ne.append(J,V,K,ue),document.body.appendChild(ne)}c?(V.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function DA(){var r;const e=(r=Zc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function VA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PA(){const r=Yt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UA(){return!DA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kA(){try{return typeof indexedDB=="object"}catch{return!1}}function LA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="FirebaseError";class Yi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=jA,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,No.prototype.create)}}class No{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?zA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Yi(o,g,a)}}function zA(r,e){return r.replace(BA,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const BA=/\{\$([^}]+)}/g;function HA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Nr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=e[o];if(Rv(c)&&Rv(d)){if(!Nr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function GA(r,e){const i=new qA(r,e);return i.subscribe.bind(i)}class qA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");FA(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=bd),o.error===void 0&&(o.error=bd),o.complete===void 0&&(o.complete=bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function FA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function bd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class Rs{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new RA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KA(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:QA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QA(r){return r===Es?void 0:r}function KA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new YA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ne||(Ne={}));const $A={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},ZA=Ne.INFO,JA={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},WA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=JA[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fm{constructor(e){this.name=e,this._logLevel=ZA,this._logHandler=WA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$A[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const eS=(r,e)=>e.some(i=>r instanceof i);let xv,Cv;function tS(){return xv||(xv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nS(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d_=new WeakMap,kd=new WeakMap,m_=new WeakMap,Ad=new WeakMap,dm=new WeakMap;function iS(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(xr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d_.set(i,r)}).catch(()=>{}),dm.set(e,r),e}function rS(r){if(kd.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});kd.set(r,e)}let Ld={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return kd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||m_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function sS(r){Ld=r(Ld)}function aS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Sd(this),e,...i);return m_.set(a,e.sort?e.sort():[e]),xr(a)}:nS().includes(r)?function(...e){return r.apply(Sd(this),e),xr(d_.get(this))}:function(...e){return xr(r.apply(Sd(this),e))}}function lS(r){return typeof r=="function"?aS(r):(r instanceof IDBTransaction&&rS(r),eS(r,tS())?new Proxy(r,Ld):r)}function xr(r){if(r instanceof IDBRequest)return iS(r);if(Ad.has(r))return Ad.get(r);const e=lS(r);return e!==r&&(Ad.set(r,e),dm.set(e,r)),e}const Sd=r=>dm.get(r);function oS(r,e,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=xr(d);return a&&d.addEventListener("upgradeneeded",p=>{a(xr(d.result),p.oldVersion,p.newVersion,xr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const uS=["get","getKey","getAll","getAllKeys","count"],cS=["put","add","delete","clear"],wd=new Map;function Iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wd.get(e))return wd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=cS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||uS.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return wd.set(e,c),c}sS(r=>({...r,get:(e,i,a)=>Iv(e,i)||r.get(e,i,a),has:(e,i)=>!!Iv(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(fS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function fS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jd="@firebase/app",Nv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new fm("@firebase/app"),dS="@firebase/app-compat",mS="@firebase/analytics-compat",gS="@firebase/analytics",pS="@firebase/app-check-compat",yS="@firebase/app-check",vS="@firebase/auth",_S="@firebase/auth-compat",ES="@firebase/database",TS="@firebase/data-connect",bS="@firebase/database-compat",AS="@firebase/functions",SS="@firebase/functions-compat",wS="@firebase/installations",RS="@firebase/installations-compat",xS="@firebase/messaging",CS="@firebase/messaging-compat",IS="@firebase/performance",NS="@firebase/performance-compat",DS="@firebase/remote-config",OS="@firebase/remote-config-compat",MS="@firebase/storage",VS="@firebase/storage-compat",PS="@firebase/firestore",US="@firebase/ai",kS="@firebase/firestore-compat",LS="firebase",jS="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="[DEFAULT]",zS={[jd]:"fire-core",[dS]:"fire-core-compat",[gS]:"fire-analytics",[mS]:"fire-analytics-compat",[yS]:"fire-app-check",[pS]:"fire-app-check-compat",[vS]:"fire-auth",[_S]:"fire-auth-compat",[ES]:"fire-rtdb",[TS]:"fire-data-connect",[bS]:"fire-rtdb-compat",[AS]:"fire-fn",[SS]:"fire-fn-compat",[wS]:"fire-iid",[RS]:"fire-iid-compat",[xS]:"fire-fcm",[CS]:"fire-fcm-compat",[IS]:"fire-perf",[NS]:"fire-perf-compat",[DS]:"fire-rc",[OS]:"fire-rc-compat",[MS]:"fire-gcs",[VS]:"fire-gcs-compat",[PS]:"fire-fst",[kS]:"fire-fst-compat",[US]:"fire-vertex","fire-js":"fire-js",[LS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,BS=new Map,Bd=new Map;function Dv(r,e){try{r.container.addComponent(e)}catch(i){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function Pa(r){const e=r.name;if(Bd.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,r);for(const i of Nc.values())Dv(i,r);for(const i of BS.values())Dv(i,r);return!0}function mm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new No("app","Firebase",HS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=jS;function g_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:zd,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw Cr.create("bad-app-name",{appName:String(o)});if(i||(i=u_()),!i)throw Cr.create("no-options");const c=Nc.get(o);if(c){if(Nr(i,c.options)&&Nr(a,c.config))return c;throw Cr.create("duplicate-app",{appName:o})}const d=new XA(o);for(const p of Bd.values())d.addComponent(p);const g=new GS(i,a,d);return Nc.set(o,g),g}function p_(r=zd){const e=Nc.get(r);if(!e&&r===zd&&u_())return g_();if(!e)throw Cr.create("no-app",{appName:r});return e}function Ir(r,e,i){var a;let o=(a=zS[r])!==null&&a!==void 0?a:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(g.join(" "));return}Pa(new Rs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebase-heartbeat-database",FS=1,vo="firebase-heartbeat-store";let Rd=null;function y_(){return Rd||(Rd=oS(qS,FS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Cr.create("idb-open",{originalErrorMessage:r.message})})),Rd}async function YS(r){try{const i=(await y_()).transaction(vo),a=await i.objectStore(vo).get(v_(r));return await i.done,a}catch(e){if(e instanceof Yi)Hi.warn(e.message);else{const i=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(i.message)}}}async function Ov(r,e){try{const a=(await y_()).transaction(vo,"readwrite");await a.objectStore(vo).put(e,v_(r)),await a.done}catch(i){if(i instanceof Yi)Hi.warn(i.message);else{const a=Cr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hi.warn(a.message)}}}function v_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=1024,KS=30;class XS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ZS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>KS){const d=JS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Hi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Mv(),{heartbeatsToSend:a,unsentEntries:o}=$S(this._heartbeatsCache.heartbeats),c=Ic(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hi.warn(i),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function $S(r,e=QS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Vv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Vv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ZS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kA()?LA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await YS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Vv(r){return Ic(JSON.stringify({version:2,heartbeats:r})).length}function JS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(r){Pa(new Rs("platform-logger",e=>new hS(e),"PRIVATE")),Pa(new Rs("heartbeat",e=>new XS(e),"PRIVATE")),Ir(jd,Nv,r),Ir(jd,Nv,"esm2017"),Ir("fire-js","")}WS("");var ew="firebase",tw="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir(ew,tw,"app");function gm(r,e){var i={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(i[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(i[a[o]]=r[a[o]]);return i}function __(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nw=__,E_=new No("auth","Firebase",__());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new fm("@firebase/auth");function iw(r,...e){Dc.logLevel<=Ne.WARN&&Dc.warn(`Auth (${Fa}): ${r}`,...e)}function Ec(r,...e){Dc.logLevel<=Ne.ERROR&&Dc.error(`Auth (${Fa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r,...e){throw ym(r,...e)}function Ln(r,...e){return ym(r,...e)}function pm(r,e,i){const a=Object.assign(Object.assign({},nw()),{[e]:i});return new No("auth","Firebase",a).create(e,{appName:r.name})}function As(r){return pm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(r,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&si(r,"argument-error"),pm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ym(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return E_.create(r,...e)}function _e(r,e,...i){if(!r)throw ym(e,...i)}function Ui(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ec(e),new Error(e)}function Gi(r,e){r||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function sw(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sw()||MA()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,i){this.shortDelay=e,this.longDelay=i,Gi(i>e,"Short delay should be less than long delay!"),this.isMobile=NA()||VA()}get(){return aw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(r,e){Gi(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cw=new Oo(3e4,6e4);function _m(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ya(r,e,i,a,o={}){return b_(r,o,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const g=Do(Object.assign({key:r.config.apiKey},d)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},c);return OA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Io(r.emulatorConfig.host)&&(y.credentials="include"),T_.fetch()(await A_(r,r.config.apiHost,i,g),y)})}async function b_(r,e,i){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},ow),e);try{const o=new fw(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw fc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fc(r,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw fc(r,"email-already-in-use",d);if(p==="USER_DISABLED")throw fc(r,"user-disabled",d);const T=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw pm(r,T,y);si(r,T)}}catch(o){if(o instanceof Yi)throw o;si(r,"network-request-failed",{message:String(o)})}}async function hw(r,e,i,a,o={}){const c=await Ya(r,e,i,a,o);return"mfaPendingCredential"in c&&si(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function A_(r,e,i,a){const o=`${e}${i}?${a}`,c=r,d=c.config.emulator?vm(r.config,o):`${r.config.apiScheme}://${o}`;return uw.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ln(this.auth,"network-request-failed")),cw.get())})}}function fc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ln(r,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(r,e){return Ya(r,"POST","/v1/accounts:delete",e)}async function Oc(r,e){return Ya(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mw(r,e=!1){const i=Zt(r),a=await i.getIdToken(e),o=Em(a);_e(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:co(xd(o.auth_time)),issuedAtTime:co(xd(o.iat)),expirationTime:co(xd(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function xd(r){return Number(r)*1e3}function Em(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=l_(i);return o?JSON.parse(o):(Ec("Failed to decode base64 JWT payload"),null)}catch(o){return Ec("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Uv(r){const e=Em(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Yi&&gw(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function gw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=co(this.lastLoginAt),this.creationTime=co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mc(r){var e;const i=r.auth,a=await r.getIdToken(),o=await _o(r,Oc(i,{idToken:a}));_e(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?S_(c.providerUserInfo):[],g=vw(r.providerData,d),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?y:!1,w={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new Gd(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,w)}async function yw(r){const e=Zt(r);await Mc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vw(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function S_(r){return r.map(e=>{var{providerId:i}=e,a=gm(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _w(r,e){const i=await b_(r,{},async()=>{const a=Do({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await A_(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",T_.fetch()(d,{method:"POST",headers:g,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Ew(r,e){return Ya(r,"POST","/v2/accounts:revokeToken",_m(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const i=Uv(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await _w(e,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Da;return a&&(_e(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),o&&(_e(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(_e(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Da,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,c=gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Gd(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const i=await _o(this,this.stsTokenManager.getToken(this.auth,e));return _e(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return mw(this,e)}reload(){return yw(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Un(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Mc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(As(this.auth));const e=await this.getIdToken();return await _o(this,dw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,c,d,g,p,y,T;const w=(a=i.displayName)!==null&&a!==void 0?a:void 0,A=(o=i.email)!==null&&o!==void 0?o:void 0,j=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,V=(d=i.photoURL)!==null&&d!==void 0?d:void 0,Q=(g=i.tenantId)!==null&&g!==void 0?g:void 0,K=(p=i._redirectEventId)!==null&&p!==void 0?p:void 0,F=(y=i.createdAt)!==null&&y!==void 0?y:void 0,J=(T=i.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ne,emailVerified:ue,isAnonymous:ae,providerData:de,stsTokenManager:C}=i;_e(ne&&C,e,"internal-error");const S=Da.fromJSON(this.name,C);_e(typeof ne=="string",e,"internal-error"),br(w,e.name),br(A,e.name),_e(typeof ue=="boolean",e,"internal-error"),_e(typeof ae=="boolean",e,"internal-error"),br(j,e.name),br(V,e.name),br(Q,e.name),br(K,e.name),br(F,e.name),br(J,e.name);const R=new Un({uid:ne,auth:e,email:A,emailVerified:ue,displayName:w,isAnonymous:ae,photoURL:V,phoneNumber:j,tenantId:Q,stsTokenManager:S,createdAt:F,lastLoginAt:J});return de&&Array.isArray(de)&&(R.providerData=de.map(D=>Object.assign({},D))),K&&(R._redirectEventId=K),R}static async _fromIdTokenResponse(e,i,a=!1){const o=new Da;o.updateFromServerResponse(i);const c=new Un({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Mc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];_e(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?S_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),g=new Da;g.updateFromIdToken(a);const p=new Un({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Gd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function ki(r){Gi(r instanceof Function,"Expected a class definition");let e=kv.get(r);return e?(Gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,kv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}w_.type="NONE";const Lv=w_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(r,e,i){return`firebase:${r}:${e}:${i}`}class Oa{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Tc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Tc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Oc(this.auth,{idToken:e}).catch(()=>{});return i?Un._fromGetAccountInfoResponse(this.auth,i,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Oa(ki(Lv),e,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ki(Lv);const d=Tc(a,e.config.apiKey,e.name);let g=null;for(const y of i)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const A=await Oc(e,{idToken:T}).catch(()=>{});if(!A)break;w=await Un._fromGetAccountInfoResponse(e,A,T)}else w=Un._fromJSON(e,T);y!==c&&(g=w),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new Oa(c,e,a):(c=p[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Oa(c,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D_(e))return"Blackberry";if(O_(e))return"Webos";if(x_(e))return"Safari";if((e.includes("chrome/")||C_(e))&&!e.includes("edge/"))return"Chrome";if(N_(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function R_(r=Yt()){return/firefox\//i.test(r)}function x_(r=Yt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function C_(r=Yt()){return/crios\//i.test(r)}function I_(r=Yt()){return/iemobile/i.test(r)}function N_(r=Yt()){return/android/i.test(r)}function D_(r=Yt()){return/blackberry/i.test(r)}function O_(r=Yt()){return/webos/i.test(r)}function Tm(r=Yt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Tw(r=Yt()){var e;return Tm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bw(){return PA()&&document.documentMode===10}function M_(r=Yt()){return Tm(r)||N_(r)||O_(r)||D_(r)||/windows phone/i.test(r)||I_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(r,e=[]){let i;switch(r){case"Browser":i=jv(Yt());break;case"Worker":i=`${jv(Yt())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Fa}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,g)=>{try{const p=e(c);d(p)}catch(p){g(p)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(r,e={}){return Ya(r,"GET","/v2/passwordPolicy",_m(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=6;class Rw{constructor(e){var i,a,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:ww,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,c,d,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(i=p.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new Aw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ki(i)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await Oa.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Oc(this,{idToken:e}),a=await Un._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Pn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===g)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Mc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(As(this));const i=e?Zt(e):null;return i&&_e(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Sw(this),i=new Rw(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new No("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Ew(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ki(e)||this._popupRedirectResolver;_e(i,this,"argument-error"),this.redirectPersistenceManager=await Oa.create(this,[ki(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,o);return()=>{d=!0,p()}}else{const p=e.addObserver(i);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&iw(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Jc(r){return Zt(r)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=GA(i=>this.observer=i)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Cw(r){bm=r}function Iw(r){return bm.loadJS(r)}function Nw(){return bm.gapiScript}function Dw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e){const i=mm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Nr(c,e??{}))return o;si(o,"already-initialized")}return i.initialize({options:e})}function Mw(r,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function Vw(r,e,i){const a=Jc(r);_e(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,c=P_(e),{host:d,port:g}=Pw(e),p=g===null?"":`:${g}`,y={url:`${c}//${d}${p}/`},T=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_e(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_e(Nr(y,a.config.emulator)&&Nr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Io(d)?(h_(`${c}//${d}${p}`),f_("Auth",!0)):Uw()}function P_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Pw(r){const e=P_(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:Bv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:Bv(d)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Uw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,i){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(r,e){return hw(r,"POST","/v1/accounts:signInWithIdp",_m(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="http://localhost";class xs extends U_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):si("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=i,c=gm(i,["providerId","signInMethod"]);if(!a||!o)return null;const d=new xs(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return Ma(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ma(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ma(e,i)}buildRequest(){const e={requestUri:kw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Do(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends Am{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Mo{constructor(){super("facebook.com")}static credential(e){return xs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Mo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return xs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Pi.credential(i,a)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Mo{constructor(){super("github.com")}static credential(e){return xs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.GITHUB_SIGN_IN_METHOD="github.com";wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Mo{constructor(){super("twitter.com")}static credential(e,i){return xs._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return Rr.credential(i,a)}catch{return null}}}Rr.TWITTER_SIGN_IN_METHOD="twitter.com";Rr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,o=!1){const c=await Un._fromIdTokenResponse(e,a,o),d=Hv(a);return new Ua({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const o=Hv(a);return new Ua({user:e,providerId:o,_tokenResponse:a,operationType:i})}}function Hv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Yi{constructor(e,i,a,o){var c;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,o){return new Vc(e,i,a,o)}}function k_(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Vc._fromErrorAndOperation(r,c,e,a):c})}async function Lw(r,e,i=!1){const a=await _o(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ua._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(r,e,i=!1){const{auth:a}=r;if(Pn(a.app))return Promise.reject(As(a));const o="reauthenticate";try{const c=await _o(r,k_(a,o,e,r),i);_e(c.idToken,a,"internal-error");const d=Em(c.idToken);_e(d,a,"internal-error");const{sub:g}=d;return _e(r.uid===g,a,"user-mismatch"),Ua._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&si(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(r,e,i=!1){if(Pn(r.app))return Promise.reject(As(r));const a="signIn",o=await k_(r,a,e),c=await Ua._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function Bw(r,e,i,a){return Zt(r).onIdTokenChanged(e,i,a)}function Hw(r,e,i){return Zt(r).beforeAuthStateChanged(e,i)}function Gw(r,e,i,a){return Zt(r).onAuthStateChanged(e,i,a)}function qw(r){return Zt(r).signOut()}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=1e3,Yw=10;class j_ extends L_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&e(i,o,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,g,p)=>{this.notifyListeners(d,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);bw()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Yw):o()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},Fw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}j_.type="LOCAL";const Qw=j_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends L_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}z_.type="SESSION";const B_=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(o=>o.isListeningto(e));if(i)return i;const a=new Wc(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),p=await Kw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,p)=>{const y=Sm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(A.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function $w(r){ri().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function Zw(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jw(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Ww(){return H_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="firebaseLocalStorageDb",e2=1,Uc="firebaseLocalStorage",q_="fbase_key";class Vo{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function eh(r,e){return r.transaction([Uc],e?"readwrite":"readonly").objectStore(Uc)}function t2(){const r=indexedDB.deleteDatabase(G_);return new Vo(r).toPromise()}function qd(){const r=indexedDB.open(G_,e2);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Uc,{keyPath:q_})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Uc)?e(a):(a.close(),await t2(),e(await qd()))})})}async function Gv(r,e,i){const a=eh(r,!0).put({[q_]:e,value:i});return new Vo(a).toPromise()}async function n2(r,e){const i=eh(r,!1).get(e),a=await new Vo(i).toPromise();return a===void 0?null:a.value}function qv(r,e){const i=eh(r,!0).delete(e);return new Vo(i).toPromise()}const i2=800,r2=3;class F_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>r2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wc._getInstance(Ww()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await Zw(),!this.activeServiceWorker)return;this.sender=new Xw(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qd();return await Gv(e,Pc,"1"),await qv(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Gv(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>n2(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>qv(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=eh(o,!1).getAll();return new Vo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}F_.type="LOCAL";const s2=F_;new Oo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r,e){return e?ki(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends U_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ma(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ma(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ma(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function a2(r){return zw(r.auth,new wm(r),r.bypassAuthState)}function l2(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),jw(i,new wm(r),r.bypassAuthState)}async function o2(r){const{auth:e,user:i}=r;return _e(i,e,"internal-error"),Lw(i,new wm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e,i,a,o,c=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return o2;case"reauthViaPopup":case"reauthViaRedirect":return l2;default:si(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Oo(2e3,1e4);async function c2(r,e,i){if(Pn(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const a=Jc(r);rw(r,e,Am);const o=Y_(a,i);return new Ts(a,"signInViaPopup",e,o).executeNotNull()}class Ts extends Q_{constructor(e,i,a,o,c){super(e,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=Sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u2.get())};e()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="pendingRedirect",bc=new Map;class f2 extends Q_{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=bc.get(this.auth._key());if(!e){try{const a=await d2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}bc.set(this.auth._key(),e)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function d2(r,e){const i=p2(e),a=g2(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function m2(r,e){bc.set(r._key(),e)}function g2(r){return ki(r._redirectPersistence)}function p2(r){return Tc(h2,r.config.apiKey,r.name)}async function y2(r,e,i=!1){if(Pn(r.app))return Promise.reject(As(r));const a=Jc(r),o=Y_(a,e),d=await new f2(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=10*60*1e3;class _2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!K_(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(Ln(this.auth,o))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(e))}saveEventToCache(e){this.cachedEventUids.add(Fv(e)),this.lastProcessedEventTime=Date.now()}}function Fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function K_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return K_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(r,e={}){return Ya(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,A2=/^https?/;async function S2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await T2(r);for(const i of e)try{if(w2(i))return}catch{}si(r,"unauthorized-domain")}function w2(r){const e=Hd(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!A2.test(i))return!1;if(b2.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Oo(3e4,6e4);function Yv(){const r=ri().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function x2(r){return new Promise((e,i)=>{var a,o,c;function d(){Yv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yv(),i(Ln(r,"network-request-failed"))},timeout:R2.get()})}if(!((o=(a=ri().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=ri().gapi)===null||c===void 0)&&c.load)d();else{const g=Dw("iframefcb");return ri()[g]=()=>{gapi.load?d():i(Ln(r,"network-request-failed"))},Iw(`${Nw()}?onload=${g}`).catch(p=>i(p))}}).catch(e=>{throw Ac=null,e})}let Ac=null;function C2(r){return Ac=Ac||x2(r),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new Oo(5e3,15e3),N2="__/auth/iframe",D2="emulator/auth/iframe",O2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},M2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V2(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?vm(e,D2):`https://${r.config.authDomain}/${N2}`,a={apiKey:e.apiKey,appName:r.name,v:Fa},o=M2.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Do(a).slice(1)}`}async function P2(r){const e=await C2(r),i=ri().gapi;return _e(i,r,"internal-error"),e.open({where:document.body,url:V2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O2,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ln(r,"network-request-failed"),g=ri().setTimeout(()=>{c(d)},I2.get());function p(){ri().clearTimeout(g),o(a)}a.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k2=500,L2=600,j2="_blank",z2="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function B2(r,e,i,a=k2,o=L2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const p=Object.assign(Object.assign({},U2),{width:a.toString(),height:o.toString(),top:c,left:d}),y=Yt().toLowerCase();i&&(g=C_(y)?j2:i),R_(y)&&(e=e||z2,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[j,V])=>`${A}${j}=${V},`,"");if(Tw(y)&&g!=="_self")return H2(e||"",g),new Qv(null);const w=window.open(e||"",g,T);_e(w,r,"popup-blocked");try{w.focus()}catch{}return new Qv(w)}function H2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="__/auth/handler",q2="emulator/auth/handler",F2=encodeURIComponent("fac");async function Kv(r,e,i,a,o,c){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:Fa,eventId:o};if(e instanceof Am){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",HA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof Mo){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${F2}=${encodeURIComponent(p)}`:"";return`${Y2(r)}?${Do(g).slice(1)}${y}`}function Y2({config:r}){return r.emulator?vm(r,q2):`https://${r.authDomain}/${G2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="webStorageSupport";class Q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B_,this._completeRedirectFn=y2,this._overrideRedirectResult=m2}async _openPopup(e,i,a,o){var c;Gi((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Kv(e,i,a,Hd(),o);return B2(e,d,Sm())}async _openRedirect(e,i,a,o){await this._originValidation(e);const c=await Kv(e,i,a,Hd(),o);return $w(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Gi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await P2(e),a=new _2(e);return i.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Cd,{type:Cd},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Cd];d!==void 0&&i(!!d),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=S2(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return M_()||x_()||Tm()}}const K2=Q2;var Xv="@firebase/auth",$v="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Z2(r){Pa(new Rs("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_e(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V_(r)},y=new xw(a,o,c,p);return Mw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Pa(new Rs("auth-internal",e=>{const i=Jc(e.getProvider("auth").getImmediate());return(a=>new X2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(Xv,$v,$2(r)),Ir(Xv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=5*60,W2=c_("authIdTokenMaxAge")||J2;let Zv=null;const eR=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>W2)return;const o=i==null?void 0:i.token;Zv!==o&&(Zv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tR(r=p_()){const e=mm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=Ow(r,{popupRedirectResolver:K2,persistence:[s2,Qw,B_]}),a=c_("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=eR(c.toString());Hw(i,d,()=>d(i.currentUser)),Bw(i,g=>d(g))}}const o=o_("auth");return o&&Vw(i,`http://${o}`),i}function nR(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Cw({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const c=Ln("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",nR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Z2("Browser");var Jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rm;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function R(){}R.prototype=S.prototype,C.D=S.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(D,P,k){for(var N=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)N[Nt-2]=arguments[Nt];return S.prototype[P].apply(D,N)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,S,R){R||(R=0);var D=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)D[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)D[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=C.g[0],R=C.g[1],P=C.g[2];var k=C.g[3],N=S+(k^R&(P^k))+D[0]+3614090360&4294967295;S=R+(N<<7&4294967295|N>>>25),N=k+(P^S&(R^P))+D[1]+3905402710&4294967295,k=S+(N<<12&4294967295|N>>>20),N=P+(R^k&(S^R))+D[2]+606105819&4294967295,P=k+(N<<17&4294967295|N>>>15),N=R+(S^P&(k^S))+D[3]+3250441966&4294967295,R=P+(N<<22&4294967295|N>>>10),N=S+(k^R&(P^k))+D[4]+4118548399&4294967295,S=R+(N<<7&4294967295|N>>>25),N=k+(P^S&(R^P))+D[5]+1200080426&4294967295,k=S+(N<<12&4294967295|N>>>20),N=P+(R^k&(S^R))+D[6]+2821735955&4294967295,P=k+(N<<17&4294967295|N>>>15),N=R+(S^P&(k^S))+D[7]+4249261313&4294967295,R=P+(N<<22&4294967295|N>>>10),N=S+(k^R&(P^k))+D[8]+1770035416&4294967295,S=R+(N<<7&4294967295|N>>>25),N=k+(P^S&(R^P))+D[9]+2336552879&4294967295,k=S+(N<<12&4294967295|N>>>20),N=P+(R^k&(S^R))+D[10]+4294925233&4294967295,P=k+(N<<17&4294967295|N>>>15),N=R+(S^P&(k^S))+D[11]+2304563134&4294967295,R=P+(N<<22&4294967295|N>>>10),N=S+(k^R&(P^k))+D[12]+1804603682&4294967295,S=R+(N<<7&4294967295|N>>>25),N=k+(P^S&(R^P))+D[13]+4254626195&4294967295,k=S+(N<<12&4294967295|N>>>20),N=P+(R^k&(S^R))+D[14]+2792965006&4294967295,P=k+(N<<17&4294967295|N>>>15),N=R+(S^P&(k^S))+D[15]+1236535329&4294967295,R=P+(N<<22&4294967295|N>>>10),N=S+(P^k&(R^P))+D[1]+4129170786&4294967295,S=R+(N<<5&4294967295|N>>>27),N=k+(R^P&(S^R))+D[6]+3225465664&4294967295,k=S+(N<<9&4294967295|N>>>23),N=P+(S^R&(k^S))+D[11]+643717713&4294967295,P=k+(N<<14&4294967295|N>>>18),N=R+(k^S&(P^k))+D[0]+3921069994&4294967295,R=P+(N<<20&4294967295|N>>>12),N=S+(P^k&(R^P))+D[5]+3593408605&4294967295,S=R+(N<<5&4294967295|N>>>27),N=k+(R^P&(S^R))+D[10]+38016083&4294967295,k=S+(N<<9&4294967295|N>>>23),N=P+(S^R&(k^S))+D[15]+3634488961&4294967295,P=k+(N<<14&4294967295|N>>>18),N=R+(k^S&(P^k))+D[4]+3889429448&4294967295,R=P+(N<<20&4294967295|N>>>12),N=S+(P^k&(R^P))+D[9]+568446438&4294967295,S=R+(N<<5&4294967295|N>>>27),N=k+(R^P&(S^R))+D[14]+3275163606&4294967295,k=S+(N<<9&4294967295|N>>>23),N=P+(S^R&(k^S))+D[3]+4107603335&4294967295,P=k+(N<<14&4294967295|N>>>18),N=R+(k^S&(P^k))+D[8]+1163531501&4294967295,R=P+(N<<20&4294967295|N>>>12),N=S+(P^k&(R^P))+D[13]+2850285829&4294967295,S=R+(N<<5&4294967295|N>>>27),N=k+(R^P&(S^R))+D[2]+4243563512&4294967295,k=S+(N<<9&4294967295|N>>>23),N=P+(S^R&(k^S))+D[7]+1735328473&4294967295,P=k+(N<<14&4294967295|N>>>18),N=R+(k^S&(P^k))+D[12]+2368359562&4294967295,R=P+(N<<20&4294967295|N>>>12),N=S+(R^P^k)+D[5]+4294588738&4294967295,S=R+(N<<4&4294967295|N>>>28),N=k+(S^R^P)+D[8]+2272392833&4294967295,k=S+(N<<11&4294967295|N>>>21),N=P+(k^S^R)+D[11]+1839030562&4294967295,P=k+(N<<16&4294967295|N>>>16),N=R+(P^k^S)+D[14]+4259657740&4294967295,R=P+(N<<23&4294967295|N>>>9),N=S+(R^P^k)+D[1]+2763975236&4294967295,S=R+(N<<4&4294967295|N>>>28),N=k+(S^R^P)+D[4]+1272893353&4294967295,k=S+(N<<11&4294967295|N>>>21),N=P+(k^S^R)+D[7]+4139469664&4294967295,P=k+(N<<16&4294967295|N>>>16),N=R+(P^k^S)+D[10]+3200236656&4294967295,R=P+(N<<23&4294967295|N>>>9),N=S+(R^P^k)+D[13]+681279174&4294967295,S=R+(N<<4&4294967295|N>>>28),N=k+(S^R^P)+D[0]+3936430074&4294967295,k=S+(N<<11&4294967295|N>>>21),N=P+(k^S^R)+D[3]+3572445317&4294967295,P=k+(N<<16&4294967295|N>>>16),N=R+(P^k^S)+D[6]+76029189&4294967295,R=P+(N<<23&4294967295|N>>>9),N=S+(R^P^k)+D[9]+3654602809&4294967295,S=R+(N<<4&4294967295|N>>>28),N=k+(S^R^P)+D[12]+3873151461&4294967295,k=S+(N<<11&4294967295|N>>>21),N=P+(k^S^R)+D[15]+530742520&4294967295,P=k+(N<<16&4294967295|N>>>16),N=R+(P^k^S)+D[2]+3299628645&4294967295,R=P+(N<<23&4294967295|N>>>9),N=S+(P^(R|~k))+D[0]+4096336452&4294967295,S=R+(N<<6&4294967295|N>>>26),N=k+(R^(S|~P))+D[7]+1126891415&4294967295,k=S+(N<<10&4294967295|N>>>22),N=P+(S^(k|~R))+D[14]+2878612391&4294967295,P=k+(N<<15&4294967295|N>>>17),N=R+(k^(P|~S))+D[5]+4237533241&4294967295,R=P+(N<<21&4294967295|N>>>11),N=S+(P^(R|~k))+D[12]+1700485571&4294967295,S=R+(N<<6&4294967295|N>>>26),N=k+(R^(S|~P))+D[3]+2399980690&4294967295,k=S+(N<<10&4294967295|N>>>22),N=P+(S^(k|~R))+D[10]+4293915773&4294967295,P=k+(N<<15&4294967295|N>>>17),N=R+(k^(P|~S))+D[1]+2240044497&4294967295,R=P+(N<<21&4294967295|N>>>11),N=S+(P^(R|~k))+D[8]+1873313359&4294967295,S=R+(N<<6&4294967295|N>>>26),N=k+(R^(S|~P))+D[15]+4264355552&4294967295,k=S+(N<<10&4294967295|N>>>22),N=P+(S^(k|~R))+D[6]+2734768916&4294967295,P=k+(N<<15&4294967295|N>>>17),N=R+(k^(P|~S))+D[13]+1309151649&4294967295,R=P+(N<<21&4294967295|N>>>11),N=S+(P^(R|~k))+D[4]+4149444226&4294967295,S=R+(N<<6&4294967295|N>>>26),N=k+(R^(S|~P))+D[11]+3174756917&4294967295,k=S+(N<<10&4294967295|N>>>22),N=P+(S^(k|~R))+D[2]+718787259&4294967295,P=k+(N<<15&4294967295|N>>>17),N=R+(k^(P|~S))+D[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(P+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+k&4294967295}a.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var R=S-this.blockSize,D=this.B,P=this.h,k=0;k<S;){if(P==0)for(;k<=R;)o(this,C,k),k+=this.blockSize;if(typeof C=="string"){for(;k<S;)if(D[P++]=C.charCodeAt(k++),P==this.blockSize){o(this,D),P=0;break}}else for(;k<S;)if(D[P++]=C[k++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=S},a.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var R=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=R&255,R/=256;for(this.u(C),C=Array(16),S=R=0;4>S;++S)for(var D=0;32>D;D+=8)C[R++]=this.g[S]>>>D&255;return C};function c(C,S){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=S(C)}function d(C,S){this.h=S;for(var R=[],D=!0,P=C.length-1;0<=P;P--){var k=C[P]|0;D&&k==S||(R[P]=k,D=!1)}this.g=R}var g={};function p(C){return-128<=C&&128>C?c(C,function(S){return new d([S|0],0>S?-1:0)}):new d([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return w;if(0>C)return K(y(-C));for(var S=[],R=1,D=0;C>=R;D++)S[D]=C/R|0,R*=4294967296;return new d(S,0)}function T(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return K(T(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),D=w,P=0;P<C.length;P+=8){var k=Math.min(8,C.length-P),N=parseInt(C.substring(P,P+k),S);8>k?(k=y(Math.pow(S,k)),D=D.j(k).add(y(N))):(D=D.j(R),D=D.add(y(N)))}return D}var w=p(0),A=p(1),j=p(16777216);r=d.prototype,r.m=function(){if(Q(this))return-K(this).m();for(var C=0,S=1,R=0;R<this.g.length;R++){var D=this.i(R);C+=(0<=D?D:4294967296+D)*S,S*=4294967296}return C},r.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(Q(this))return"-"+K(this).toString(C);for(var S=y(Math.pow(C,6)),R=this,D="";;){var P=ue(R,S).g;R=F(R,P.j(S));var k=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=P,V(R))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},r.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function Q(C){return C.h==-1}r.l=function(C){return C=F(this,C),Q(C)?-1:V(C)?0:1};function K(C){for(var S=C.g.length,R=[],D=0;D<S;D++)R[D]=~C.g[D];return new d(R,~C.h).add(A)}r.abs=function(){return Q(this)?K(this):this},r.add=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],D=0,P=0;P<=S;P++){var k=D+(this.i(P)&65535)+(C.i(P)&65535),N=(k>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);D=N>>>16,k&=65535,N&=65535,R[P]=N<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function F(C,S){return C.add(K(S))}r.j=function(C){if(V(this)||V(C))return w;if(Q(this))return Q(C)?K(this).j(K(C)):K(K(this).j(C));if(Q(C))return K(this.j(K(C)));if(0>this.l(j)&&0>C.l(j))return y(this.m()*C.m());for(var S=this.g.length+C.g.length,R=[],D=0;D<2*S;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<C.g.length;P++){var k=this.i(D)>>>16,N=this.i(D)&65535,Nt=C.i(P)>>>16,nt=C.i(P)&65535;R[2*D+2*P]+=N*nt,J(R,2*D+2*P),R[2*D+2*P+1]+=k*nt,J(R,2*D+2*P+1),R[2*D+2*P+1]+=N*Nt,J(R,2*D+2*P+1),R[2*D+2*P+2]+=k*Nt,J(R,2*D+2*P+2)}for(D=0;D<S;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=S;D<2*S;D++)R[D]=0;return new d(R,0)};function J(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ne(C,S){this.g=C,this.h=S}function ue(C,S){if(V(S))throw Error("division by zero");if(V(C))return new ne(w,w);if(Q(C))return S=ue(K(C),S),new ne(K(S.g),K(S.h));if(Q(S))return S=ue(C,K(S)),new ne(K(S.g),S.h);if(30<C.g.length){if(Q(C)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,D=S;0>=D.l(C);)R=ae(R),D=ae(D);var P=de(R,1),k=de(D,1);for(D=de(D,2),R=de(R,2);!V(D);){var N=k.add(D);0>=N.l(C)&&(P=P.add(R),k=N),D=de(D,1),R=de(R,1)}return S=F(C,P.j(S)),new ne(P,S)}for(P=w;0<=C.l(S);){for(R=Math.max(1,Math.floor(C.m()/S.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=y(R),N=k.j(S);Q(N)||0<N.l(C);)R-=D,k=y(R),N=k.j(S);V(k)&&(k=A),P=P.add(k),C=F(C,N)}return new ne(P,C)}r.A=function(C){return ue(this,C).h},r.and=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)&C.i(D);return new d(R,this.h&C.h)},r.or=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)|C.i(D);return new d(R,this.h|C.h)},r.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),R=[],D=0;D<S;D++)R[D]=this.i(D)^C.i(D);return new d(R,this.h^C.h)};function ae(C){for(var S=C.g.length+1,R=[],D=0;D<S;D++)R[D]=C.i(D)<<1|C.i(D-1)>>>31;return new d(R,C.h)}function de(C,S){var R=S>>5;S%=32;for(var D=C.g.length-R,P=[],k=0;k<D;k++)P[k]=0<S?C.i(k+R)>>>S|C.i(k+R+1)<<32-S:C.i(k+R);return new d(P,C.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Rm=d}).apply(typeof Jv<"u"?Jv:typeof self<"u"?self:typeof window<"u"?window:{});var dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X_,oo,$_,Sc,Fd,Z_,J_,W_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof dc=="object"&&dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break e;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,b=!1,L={next:function(){if(!b&&v<u.length){var Y=v++;return{value:m(Y,u[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,v){return u.call.apply(u.bind,arguments)}function w(u,m,v){if(!u)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function A(u,m,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,A.apply(null,arguments)}function j(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function V(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(b,L,Y){for(var se=Array(arguments.length-2),De=2;De<arguments.length;De++)se[De-2]=arguments[De];return m.prototype[L].apply(b,se)}}function Q(u){const m=u.length;if(0<m){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function K(u,m){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const L=u.length||0,Y=b.length||0;u.length=L+Y;for(let se=0;se<Y;se++)u[L+se]=b[se]}else u.push(b)}}class F{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function ue(u){return ue[" "](u),u}ue[" "]=function(){};var ae=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function de(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function C(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let Y=0;Y<R.length;Y++)v=R[Y],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function P(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function k(u){g.setTimeout(()=>{throw u},0)}function N(){var u=ke;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Nt{constructor(){this.h=this.g=null}add(m,v){const b=nt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var nt=new F(()=>new X,u=>u.reset());class X{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,me=!1,ke=new Nt,O=()=>{const u=g.Promise.resolve(void 0);le=()=>{u.then(te)}};var te=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){k(v)}var m=nt;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function we(u,m){if(re.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ae){e:{try{ue(m.nodeName);var L=!0;break e}catch{}L=!1}L||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Ee[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&we.aa.h.call(this)}}V(we,re);var Ee={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function zn(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++Ke,this.da=this.fa=!1}function Qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,v,b,L){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var se=kr(u,m,b,L);return-1<se?(m=u[se],v||(m.fa=!1)):(m=new zn(m,this.src,Y,!!b,L),m.fa=v,u.push(m)),m};function Ur(u,m){var v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),Y;(Y=0<=L)&&Array.prototype.splice.call(b,L,1),Y&&(Qi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function kr(u,m,v,b){for(var L=0;L<u.length;++L){var Y=u[L];if(!Y.da&&Y.listener==m&&Y.capture==!!v&&Y.ha==b)return L}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),Xa={};function Bo(u,m,v,b,L){if(Array.isArray(m)){for(var Y=0;Y<m.length;Y++)Bo(u,m[Y],v,b,L);return null}return v=Ho(v),u&&u[Tt]?u.K(m,v,y(b)?!!b.capture:!1,L):dn(u,m,v,!1,b,L)}function dn(u,m,v,b,L,Y){if(!m)throw Error("Invalid event type");var se=y(L)?!!L.capture:!!L,De=ks(u);if(De||(u[Lr]=De=new ui(u)),v=De.add(m,v,b,se,Y),v.proxy)return v;if(b=dh(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)ge||(L=se),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(jr(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function dh(){function u(v){return m.call(u.src,u.listener,v)}const m=mh;return u}function $a(u,m,v,b,L){if(Array.isArray(m))for(var Y=0;Y<m.length;Y++)$a(u,m[Y],v,b,L);else b=y(b)?!!b.capture:!!b,v=Ho(v),u&&u[Tt]?(u=u.i,m=String(m).toString(),m in u.g&&(Y=u.g[m],v=kr(Y,v,b,L),-1<v&&(Qi(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete u.g[m],u.h--)))):u&&(u=ks(u))&&(m=u.g[m.toString()],u=-1,m&&(u=kr(m,v,b,L)),(v=-1<u?m[u]:null)&&Us(v))}function Us(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Tt])Ur(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(jr(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=ks(m))?(Ur(v,u),v.h==0&&(v.src=null,m[Lr]=null)):Qi(u)}}}function jr(u){return u in Xa?Xa[u]:Xa[u]="on"+u}function mh(u,m){if(u.da)u=!0;else{m=new we(m,this);var v=u.listener,b=u.ha||u.src;u.fa&&Us(u),u=v.call(b,m)}return u}function ks(u){return u=u[Lr],u instanceof ui?u:null}var Za="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ho(u){return typeof u=="function"?u:(u[Za]||(u[Za]=function(m){return u.handleEvent(m)}),u[Za])}function it(){oe.call(this),this.i=new ui(this),this.M=this,this.F=null}V(it,oe),it.prototype[Tt]=!0,it.prototype.removeEventListener=function(u,m,v,b){$a(this,u,m,v,b)};function ze(u,m){var v,b=u.F;if(b)for(v=[];b;b=b.F)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new re(m,u);else if(m instanceof re)m.target=m.target||u;else{var L=m;m=new re(b,u),D(m,L)}if(L=!0,v)for(var Y=v.length-1;0<=Y;Y--){var se=m.g=v[Y];L=rn(se,b,!0,m)&&L}if(se=m.g=u,L=rn(se,b,!0,m)&&L,L=rn(se,b,!1,m)&&L,v)for(Y=0;Y<v.length;Y++)se=m.g=v[Y],L=rn(se,b,!1,m)&&L}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],b=0;b<v.length;b++)Qi(v[b]);delete u.g[m],u.h--}}this.F=null},it.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},it.prototype.L=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function rn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,Y=0;Y<m.length;++Y){var se=m[Y];if(se&&!se.da&&se.capture==v){var De=se.listener,yt=se.ha||se.src;se.fa&&Ur(u.i,se),L=De.call(yt,b)!==!1&&L}}return L&&!b.defaultPrevented}function zt(u,m,v){if(typeof u=="function")v&&(u=A(u,v));else if(u&&typeof u.handleEvent=="function")u=A(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Go(u){u.g=zt(()=>{u.g=null,u.i&&(u.i=!1,Go(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class gh extends oe{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Go(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(u){oe.call(this),this.h=u,this.g={}}V(zr,oe);var Br=[];function Hr(u){de(u.g,function(m,v){this.g.hasOwnProperty(v)&&Us(m)},u),u.g={}}zr.prototype.N=function(){zr.aa.N.call(this),Hr(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=g.JSON.stringify,Ls=g.JSON.parse,Gr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ja(){}Ja.prototype.h=null;function Wa(u){return u.h||(u.h=u.i())}function el(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){re.call(this,"d")}V(hi,re);function tl(){re.call(this,"c")}V(tl,re);var Bn={},nl=null;function Ki(){return nl=nl||new it}Bn.La="serverreachability";function js(u){re.call(this,Bn.La,u)}V(js,re);function Xi(u){const m=Ki();ze(m,new js(m))}Bn.STAT_EVENT="statevent";function qo(u,m){re.call(this,Bn.STAT_EVENT,u),this.stat=m}V(qo,re);function Ze(u){const m=Ki();ze(m,new qo(m,u))}Bn.Ma="timingevent";function pt(u,m){re.call(this,Bn.Ma,u),this.size=m}V(pt,re);function ct(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function mn(){this.g=!0}mn.prototype.xa=function(){this.g=!1};function il(u,m,v,b,L,Y){u.info(function(){if(u.g)if(Y)for(var se="",De=Y.split("&"),yt=0;yt<De.length;yt++){var Oe=De[yt].split("=");if(1<Oe.length){var At=Oe[0];Oe=Oe[1];var vt=At.split("_");se=2<=vt.length&&vt[1]=="type"?se+(At+"="+Oe+"&"):se+(At+"=redacted&")}}else se=null;else se=Y;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+se})}function ph(u,m,v,b,L,Y,se){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+Y+" "+se})}function $i(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qr(u,v)+(b?" "+b:"")})}function Fo(u,m){u.info(function(){return"TIMEOUT: "+m})}mn.prototype.info=function(){};function qr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var b=v[u];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var Y=L[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var se=1;se<L.length;se++)L[se]=""}}}}return Cn(v)}catch{return m}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}V(Gn,Ja),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Qt(u,m,v,b){this.j=u,this.i=m,this.l=v,this.R=b||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lt}function lt(){this.i=null,this.g="",this.h=!1}var rl={},zs={};function In(u,m,v){u.L=1,u.v=Xr(sn(m)),u.m=v,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Fr(u),u.A=sn(u.v);var v=u.A,b=u.R;Array.isArray(b)||(b=[String(b)]),cl(v.i,"t",b),u.C=0,v=u.j.J,u.h=new lt,u.g=lu(u.j,v?m:null,!u.m),0<u.O&&(u.M=new gh(A(u.Y,u,u.g),u.O)),m=u.U,v=u.g,b=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Br[0]=L.toString()),L=Br);for(var Y=0;Y<L.length;Y++){var se=Bo(v,L[Y],b||m.handleEvent,!1,m.h||m);if(!se)break;m.g[se.key]=se}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Xi(),il(u.i,u.u,u.A,u.l,u.R,u.m)}Qt.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Qt.prototype.Y=function(u){try{if(u==this.g)e:{const vt=vn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Wo(this.g)))){this.J||vt!=4||m==7||(m==8||0>=Ti?Xi(3):Xi(2)),Ji(this);var v=this.g.Z();this.X=v;t:if(Yo(this)){var b=Wo(this.g);u="";var L=b.length,Y=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dt(this),qn(this);var se="";break t}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(b[m],{stream:!(Y&&m==L-1)});b.length=0,this.h.g+=u,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,ph(this.i,this.u,this.A,this.l,this.R,vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var De,yt=this.g;if((De=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(De)){var Oe=De;break t}}Oe=null}if(v=Oe)$i(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yr(this,v);else{this.o=!1,this.s=3,Ze(12),Dt(this),qn(this);break e}}if(this.P){v=!0;let Ot;for(;!this.J&&this.C<se.length;)if(Ot=Qo(this,se),Ot==zs){vt==4&&(this.s=4,Ze(14),v=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==rl){this.s=4,Ze(15),$i(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else $i(this.i,this.l,Ot,null),Yr(this,Ot);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||se.length!=0||this.h.h||(this.s=1,Ze(16),v=!1),this.o=this.o&&v,!v)$i(this.i,this.l,se,"[Invalid Chunked Response]"),Dt(this),qn(this);else if(0<se.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),is(At),At.M=!0,Ze(11))}}else $i(this.i,this.l,se,null),Yr(this,se);vt==4&&Dt(this),this.o&&!this.J&&(vt==4?ru(this.j,this):(this.o=!1,Fr(this)))}else Th(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Dt(this),qn(this)}}}catch{}finally{}};function Yo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qo(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?zs:(v=Number(m.substring(v,b)),isNaN(v)?rl:(b+=1,b+v>m.length?zs:(m=m.slice(b,b+v),u.C=b+v,m)))}Qt.prototype.cancel=function(){this.J=!0,Dt(this)};function Fr(u){u.S=Date.now()+u.I,Ko(u,u.I)}function Ko(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ct(A(u.ba,u),m)}function Ji(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Fo(this.i,this.A),this.L!=2&&(Xi(),Ze(17)),Dt(this),this.s=2,qn(this)):Ko(this,this.S-u)};function qn(u){u.j.G==0||u.J||ru(u.j,u)}function Dt(u){Ji(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Hr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Yr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||sl(v.h,u))){if(!u.K&&sl(v.h,u)&&v.G==3){try{var b=v.Da.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Js(v),$s(v);else break e;gl(v),Ze(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=ct(A(v.Za,v),6e3));if(1>=Hs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ei(v,11)}else if((u.K||v.g==u)&&Js(v),!J(m))for(L=v.Da.g.parse(m),m=0;m<L.length;m++){let Oe=L[m];if(v.T=Oe[0],Oe=Oe[1],v.G==2)if(Oe[0]=="c"){v.K=Oe[1],v.ia=Oe[2];const At=Oe[3];At!=null&&(v.la=At,v.j.info("VER="+v.la));const vt=Oe[4];vt!=null&&(v.Aa=vt,v.j.info("SVER="+v.Aa));const Ti=Oe[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(b=1.5*Ti,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const Ot=u.g;if(Ot){const Zn=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var Y=b.h;Y.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Gs(Y,Y.h),Y.h=null))}if(b.D){const yl=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(b.ya=yl,Ge(b.I,b.D,yl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var se=u;if(b.qa=au(b,b.J?b.ia:null,b.W),se.K){Kt(b.h,se);var De=se,yt=b.L;yt&&(De.I=yt),De.B&&(Ji(De),Fr(De)),b.g=se}else nu(b);0<v.i.length&&Zs(v)}else Oe[0]!="stop"&&Oe[0]!="close"||Ei(v,7);else v.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Ei(v,7):dl(v):Oe[0]!="noop"&&v.l&&v.l.ta(Oe),v.v=0)}}Xi(4)}catch{}}var Xo=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Hs(u){return u.h?1:u.g?u.g.size:0}function sl(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Gs(u,m){u.g?u.g.add(m):u.h=m}function Kt(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function al(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return Q(u.i)}function yh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,b=0;b<v;b++)m.push(u[b]);return m}m=[],v=0;for(b in u)m[v++]=u[b];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const b in u)m[v++]=b;return m}}}function ll(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=qs(u),b=yh(u),L=b.length,Y=0;Y<L;Y++)m.call(void 0,b[Y],v&&v[Y],u)}var Qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var b=u[v].indexOf("="),L=null;if(0<=b){var Y=u[v].substring(0,b);L=u[v].substring(b+1)}else Y=u[v];m(Y,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ht(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ht){this.h=u.h,Kr(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,v=new pi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),gi(this,v),this.m=u.m}else u&&(m=String(u).match(Qr))?(this.h=!1,Kr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),Wi(this,m[4]),this.l=gn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}ht.prototype.toString=function(){var u=[],m=this.j;m&&u.push($r(m,ol,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push($r(m,ol,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push($r(v,v.charAt(0)=="/"?_h:ul,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",$r(v,Fs)),u.join("")};function sn(u){return new ht(u)}function Kr(u,m,v){u.j=v?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,v){m instanceof pi?(u.i=m,Zo(u.i,u.h)):(v||(m=$r(m,Eh)),u.i=new pi(m,u.h))}function Ge(u,m,v){u.i.set(m,v)}function Xr(u){return Ge(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function $r(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,$o),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $o(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ol=/[#\/\?@]/g,ul=/[#\?:]/g,_h=/[#\?]/g,Eh=/[#\?@]/g,Fs=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&vh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=pi.prototype,r.add=function(u,m){pn(this),this.i=null,u=Fn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function yi(u,m){pn(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function vi(u,m){return pn(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)},r.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let b=0;b<m.length;b++){const L=u[b];for(let Y=0;Y<L.length;Y++)v.push(m[b])}return v},r.V=function(u){pn(this);let m=[];if(typeof u=="string")vi(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return pn(this),this.i=null,u=Fn(this,u),vi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function cl(u,m,v){yi(u,m),0<v.length&&(u.i=null,u.g.set(Fn(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var b=m[v];const Y=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var L=Y;se[b]!==""&&(L+="="+encodeURIComponent(String(se[b]))),u.push(L)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zo(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,b){var L=b.toLowerCase();b!=L&&(yi(this,b),cl(this,L,v))},u)),u.j=m}function Zr(u,m){const v=new mn;if(g.Image){const b=new Image;b.onload=j(yn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=j(yn,v,"TestLoadImage: error",!1,m,b),b.onabort=j(yn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=j(yn,v,"TestLoadImage: timeout",!1,m,b),g.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Nn(u,m){const v=new mn,b=new AbortController,L=setTimeout(()=>{b.abort(),yn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(Y=>{clearTimeout(L),Y.ok?yn(v,"TestPingServer: ok",!0,m):yn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(v,"TestPingServer: error",!1,m)})}function yn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function Jr(){this.g=new Gr}function Yn(u,m,v){const b=v||"";try{ll(u,function(L,Y){let se=L;y(L)&&(se=Cn(L)),m.push(b+Y+"="+encodeURIComponent(se))})}catch(L){throw m.push(b+"type="+encodeURIComponent("_badmap")),L}}function er(u){this.l=u.Ub||null,this.j=u.eb||!1}V(er,Ja),er.prototype.g=function(){return new _i(this.l,this.j)},er.prototype.i=function(u){return function(){return u}}({});function _i(u,m){it.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(_i,it),r=_i.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Kn(this),this.readyState==3&&hl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fl(u){let m="";return de(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function bt(u,m,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=fl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ge(u,m,v))}function je(u){it.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(je,it);var Ys=/^https?$/i,Wr=["POST","PUT"];r=je.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?Wa(this.o):Wa(Hn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Y){Jo(this,Y);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())v.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Wr,m,void 0))||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,se]of v)this.g.setRequestHeader(Y,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{es(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){Jo(this,Y)}};function Jo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Qs(u),Xn(u)}function Qs(u){u.A||(u.A=!0,ze(u,"complete"),ze(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,ze(this,"complete"),ze(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),je.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ks(this):this.bb())},r.bb=function(){Ks(this)};function Ks(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)zt(u.Ea,0,u);else if(ze(u,"readystatechange"),vn(u)==4){u.h=!1;try{const se=u.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var b;if(b=se===0){var L=String(u.D).match(Qr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),b=!Ys.test(L?L.toLowerCase():"")}v=b}if(v)ze(u,"complete"),ze(u,"success");else{u.m=6;try{var Y=2<vn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",Qs(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){es(u);const v=u.g,b=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||ze(u,"ready");try{v.onreadystatechange=b}catch{}}}function es(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ls(m)}};function Wo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Th(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(J(u[b]))continue;var v=P(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=m[L]||[];m[L]=Y,Y.push(v)}C(m,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ts(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Xs(u){this.Aa=0,this.i=[],this.j=new mn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ts("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ts("baseRetryDelayMs",5e3,u),this.cb=ts("retryDelaySeedMs",1e4,u),this.Wa=ts("forwardChannelMaxRetries",2,u),this.wa=ts("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Jr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Xs.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,b){Ze(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=au(this,null,this.W),Zs(this)};function dl(u){if(eu(u),u.G==3){var m=u.U++,v=sn(u.I);if(Ge(v,"SID",u.K),Ge(v,"RID",m),Ge(v,"TYPE","terminate"),ns(u,v),m=new Qt(u,u.j,m),m.L=2,m.v=Xr(sn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=lu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fr(m)}su(u)}function $s(u){u.g&&(is(u),u.g.cancel(),u.g=null)}function eu(u){$s(u),u.u&&(g.clearTimeout(u.u),u.u=null),Js(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Zs(u){if(!Bs(u.h)&&!u.s){u.s=!0;var m=u.Ga;le||O(),me||(le(),me=!0),ke.add(m,u),u.B=0}}function bh(u,m){return Hs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ct(A(u.Ga,u,m),pl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Qt(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=S(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(L.H=Y,Y=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=tu(this,L,m),v=sn(this.I),Ge(v,"RID",u),Ge(v,"CVER",22),this.D&&Ge(v,"X-HTTP-Session-Id",this.D),ns(this,v),Y&&(this.O?m="headers="+encodeURIComponent(String(fl(Y)))+"&"+m:this.m&&bt(v,this.m,Y)),Gs(this.h,L),this.Ua&&Ge(v,"TYPE","init"),this.P?(Ge(v,"$req",m),Ge(v,"SID","null"),L.T=!0,In(L,v,null)):In(L,v,m),this.G=2}}else this.G==3&&(u?ml(this,u):this.i.length==0||Bs(this.h)||ml(this))};function ml(u,m){var v;m?v=m.l:v=u.U++;const b=sn(u.I);Ge(b,"SID",u.K),Ge(b,"RID",v),Ge(b,"AID",u.T),ns(u,b),u.m&&u.o&&bt(b,u.m,u.o),v=new Qt(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=tu(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gs(u.h,v),In(v,b,m)}function ns(u,m){u.H&&de(u.H,function(v,b){Ge(m,b,v)}),u.l&&ll({},function(v,b){Ge(m,b,v)})}function tu(u,m,v){v=Math.min(u.i.length,v);var b=u.l?A(u.l.Na,u.l,u):null;e:{var L=u.i;let Y=-1;for(;;){const se=["count="+v];Y==-1?0<v?(Y=L[0].g,se.push("ofs="+Y)):Y=0:se.push("ofs="+Y);let De=!0;for(let yt=0;yt<v;yt++){let Oe=L[yt].g;const At=L[yt].map;if(Oe-=Y,0>Oe)Y=Math.max(0,L[yt].g-100),De=!1;else try{Yn(At,se,"req"+Oe+"_")}catch{b&&b(At)}}if(De){b=se.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,b}function nu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;le||O(),me||(le(),me=!0),ke.add(m,u),u.v=0}}function gl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ct(A(u.Fa,u),pl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ct(A(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),$s(this),iu(this))};function is(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function iu(u){u.g=new Qt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ge(m,"RID","rpc"),Ge(m,"SID",u.K),Ge(m,"AID",u.T),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ge(m,"TO",u.ja),Ge(m,"TYPE","xmlhttp"),ns(u,m),u.m&&u.o&&bt(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Xr(sn(m)),v.m=null,v.P=!0,di(v,u)}r.Za=function(){this.C!=null&&(this.C=null,$s(this),gl(this),Ze(19))};function Js(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function ru(u,m){var v=null;if(u.g==m){Js(u),is(u),u.g=null;var b=2}else if(sl(u.h,m))v=m.D,Kt(u.h,m),b=1;else return;if(u.G!=0){if(m.o)if(b==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;b=Ki(),ze(b,new pt(b,v)),Zs(u)}else nu(u);else if(L=m.s,L==3||L==0&&0<m.X||!(b==1&&bh(u,m)||b==2&&gl(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function pl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var v=A(u.fb,u),b=u.Xa;const L=!b;b=new ht(b||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Kr(b,"https"),Xr(b),L?Zr(b.toString(),v):Nn(b.toString(),v)}else Ze(2);u.G=0,u.l&&u.l.sa(m),su(u),eu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function su(u){if(u.G=0,u.ka=[],u.l){const m=al(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function au(u,m,v){var b=v instanceof ht?sn(v):new ht(v);if(b.g!="")m&&(b.g=m+"."+b.g),Wi(b,b.s);else{var L=g.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var Y=new ht(null);b&&Kr(Y,b),m&&(Y.g=m),L&&Wi(Y,L),v&&(Y.l=v),b=Y}return v=u.D,m=u.ya,v&&m&&Ge(b,v,m),Ge(b,"VER",u.la),ns(u,b),b}function lu(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new je(new er({eb:v})):new je(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}r=ou.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ws(){}Ws.prototype.g=function(u,m){return new Xt(u,m)};function Xt(u,m){it.call(this),this.g=new Xs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!J(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!J(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}V(Xt,it),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){dl(this.g)},Xt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Cn(u),u=v);m.i.push(new Xo(m.Ya++,u)),m.G==3&&Zs(m)},Xt.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Xt.aa.N.call(this)};function uu(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}V(uu,hi);function cu(){tl.call(this),this.status=1}V(cu,tl);function $n(u){this.g=u}V($n,ou),$n.prototype.ua=function(){ze(this.g,"a")},$n.prototype.ta=function(u){ze(this.g,new uu(u))},$n.prototype.sa=function(u){ze(this.g,new cu)},$n.prototype.ra=function(){ze(this.g,"b")},Ws.prototype.createWebChannel=Ws.prototype.g,Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,W_=function(){return new Ws},J_=function(){return Ki()},Z_=Bn,Fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Sc=Zi,fi.COMPLETE="complete",$_=fi,el.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",it.prototype.listen=it.prototype.K,oo=el,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,X_=je}).apply(typeof dc<"u"?dc:typeof self<"u"?self:typeof window<"u"?window:{});const Wv="@firebase/firestore",e0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new fm("@firebase/firestore");function Ia(){return Cs.logLevel}function he(r,...e){if(Cs.logLevel<=Ne.DEBUG){const i=e.map(xm);Cs.debug(`Firestore (${Qa}): ${r}`,...i)}}function Is(r,...e){if(Cs.logLevel<=Ne.ERROR){const i=e.map(xm);Cs.error(`Firestore (${Qa}): ${r}`,...i)}}function th(r,...e){if(Cs.logLevel<=Ne.WARN){const i=e.map(xm);Cs.warn(`Firestore (${Qa}): ${r}`,...i)}}function xm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,eE(r,a,i)}function eE(r,e,i){let a=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Is(a),new Error(a)}function at(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||eE(e,o,a)}function $e(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Yi{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(qt.UNAUTHENTICATED))}shutdown(){}}class rR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class sR{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){at(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let c=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ss,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ss)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(at(typeof a.accessToken=="string",31837,{l:a}),new tE(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class aR{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lR{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new aR(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){at(this.o===void 0,3512);const a=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>a(c))};const o=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new t0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(at(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new t0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=uR(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=e.charAt(o[c]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function Yd(r,e){let i=0;for(;i<r.length&&i<e.length;){const a=r.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return Pe(a,o);{const c=cR(),d=hR(c.encode(n0(r,i)),c.encode(n0(e,i)));return d!==0?d:Pe(a,o)}}i+=a>65535?2:1}return Pe(r.length,e.length)}function n0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function hR(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Pe(r[i],e[i]);return Pe(r.length,e.length)}function ka(r,e,i){return r.length===e.length&&r.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=-62135596800,r0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*r0);return new It(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<i0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new It(0,0))}static max(){return new We(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class ii{constructor(e,i,a){i===void 0?i=0:i>e.length&&xe(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&xe(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const c=ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Pe(e.length,i.length)}static compareSegments(e,i){const a=ii.isNumericId(e),o=ii.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Yd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rm.fromString(e.substring(4,e.length-2))}}class gt extends ii{construct(e,i,a){return new gt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new gt(i)}static emptyPath(){return new gt([])}}const fR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends ii{construct(e,i,a){return new Lt(e,i,a)}static isValidIdentifier(e){return fR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new Lt([s0])}static fromServerFormat(e){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(i)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(gt.fromString(e))}static fromName(e){return new Se(gt.fromString(e).popFirst(5))}static empty(){return new Se(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return gt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=-1;function dR(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=We.fromTimestamp(a===1e9?new It(i+1,0):new It(i,a));return new Dr(o,Se.empty(),e)}function mR(r){return new Dr(r.readTime,r.key,Eo)}class Dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Dr(We.min(),Se.empty(),Eo)}static max(){return new Dr(We.max(),Se.empty(),Eo)}}function gR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Se.comparator(r.documentKey,e.documentKey),i!==0?i:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cm(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==pR)throw r;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new ee((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof ee?i:ee.resolve(i)}catch(i){return ee.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):ee.reject(i)}static resolve(e){return new ee((i,a)=>{i(e)})}static reject(e){return new ee((i,a)=>{a(e)})}static waitFor(e){return new ee((i,a)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>a(p))}),d=!0,c===o&&i()})}static or(e){let i=ee.resolve(!1);for(const a of e)i=i.next(o=>o?ee.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,c)=>{a.push(i.call(this,o,c))}),this.waitFor(a)}static mapArray(e,i){return new ee((a,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(T=>{d[y]=T,++g,g===c&&a(d)},T=>o(T))}})}static doWhile(e,i){return new ee((a,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):a()};c()})}}function vR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>i.writeSequenceNumber(a))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Im.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm=-1;function Dm(r){return r==null}function kc(r){return r===0&&1/r==-1/0}function _R(r){return typeof r=="number"&&Number.isInteger(r)&&!kc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="";function ER(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=a0(e)),e=TR(r.get(i),e);return a0(e)}function TR(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case iE:i+="";break;default:i+=c}}return i}function a0(r){return r+iE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ms(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function rE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,i){this.comparator=e,this.root=i||Ut.EMPTY}insert(e,i){return new nn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ut{constructor(e,i,a,o,c){this.key=e,this.value=i,this.color=a??Ut.RED,this.left=o??Ut.EMPTY,this.right=c??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,c){return new Ut(e??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const c=a(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ut.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,i,a,o,c){return this}insert(e,i,a){return new Ut(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new o0(this.data.getIterator())}getIteratorFrom(e){return new o0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new jt(this.comparator);return i.data=e,i}}class o0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new kn([])}unionWith(e){let i=new jt(Lt.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bR("Invalid base64 string: "+c):c}}(e);return new ai(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new ai(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ai.EMPTY_BYTE_STRING=new ai("");const AR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(r){if(at(!!r,39018),typeof r=="string"){let e=0;const i=AR.exec(r);if(at(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function La(r){return typeof r=="string"?ai.fromBase64String(r):ai.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="server_timestamp",aE="__type__",lE="__previous_value__",oE="__local_write_time__";function Om(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aE])===null||i===void 0?void 0:i.stringValue)===sE}function Mm(r){const e=r.mapValue.fields[lE];return Om(e)?Mm(e):e}function Lc(r){const e=Ns(r.mapValue.fields[oE].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,i,a,o,c,d,g,p,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const jc="(default)";class zc{constructor(e,i){this.projectId=e,this.database=i||jc}static empty(){return new zc("","")}get isDefaultDatabase(){return this.database===jc}isEqual(e){return e instanceof zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",wR="__max__",gc={mapValue:{}},cE="__vector__",Qd="value";function Ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:xR(r)?9007199254740991:RR(r)?10:11:xe(28295,{value:r})}function li(r,e){if(r===e)return!0;const i=Ds(r);if(i!==Ds(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Lc(r).isEqual(Lc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ns(o.timestampValue),g=Ns(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return La(o.bytesValue).isEqual(La(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return kt(o.geoPointValue.latitude)===kt(c.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return kt(o.integerValue)===kt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=kt(o.doubleValue),g=kt(c.doubleValue);return d===g?kc(d)===kc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return ka(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(l0(d)!==l0(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!li(d[p],g[p])))return!1;return!0}(r,e);default:return xe(52216,{left:r})}}function To(r,e){return(r.values||[]).find(i=>li(i,e))!==void 0}function ja(r,e){if(r===e)return 0;const i=Ds(r),a=Ds(e);if(i!==a)return Pe(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=kt(c.integerValue||c.doubleValue),p=kt(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return u0(r.timestampValue,e.timestampValue);case 4:return u0(Lc(r),Lc(e));case 5:return Yd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=La(c),p=La(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Pe(g[y],p[y]);if(T!==0)return T}return Pe(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Pe(kt(c.latitude),kt(d.latitude));return g!==0?g:Pe(kt(c.longitude),kt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return c0(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,T;const w=c.fields||{},A=d.fields||{},j=(g=w[Qd])===null||g===void 0?void 0:g.arrayValue,V=(p=A[Qd])===null||p===void 0?void 0:p.arrayValue,Q=Pe(((y=j==null?void 0:j.values)===null||y===void 0?void 0:y.length)||0,((T=V==null?void 0:V.values)===null||T===void 0?void 0:T.length)||0);return Q!==0?Q:c0(j,V)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===gc.mapValue&&d===gc.mapValue)return 0;if(c===gc.mapValue)return 1;if(d===gc.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let w=0;w<p.length&&w<T.length;++w){const A=Yd(p[w],T[w]);if(A!==0)return A;const j=ja(g[p[w]],y[T[w]]);if(j!==0)return j}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw xe(23264,{Pe:i})}}function u0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const i=Ns(r),a=Ns(e),o=Pe(i.seconds,a.seconds);return o!==0?o:Pe(i.nanos,a.nanos)}function c0(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ja(i[o],a[o]);if(c)return c}return Pe(i.length,a.length)}function za(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const a=Ns(i);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return La(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Se.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Kd(c);return a+"]"}(r.arrayValue):"mapValue"in r?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Kd(i.fields[d])}`;return o+"}"}(r.mapValue):xe(61005,{value:r})}function wc(r){switch(Ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mm(r);return e?16+wc(e):16;case 5:return 2*r.stringValue.length;case 6:return La(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,c)=>o+wc(c),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Ms(a.fields,(c,d)=>{o+=c.length+wc(d)}),o}(r.mapValue);default:throw xe(13486,{value:r})}}function Xd(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function Rc(r){return!!r&&"mapValue"in r}function RR(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[uE])===null||i===void 0?void 0:i.stringValue)===cE}function ho(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,(i,a)=>e.mapValue.fields[i]=ho(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=ho(r.arrayValue.values[i]);return e}return Object.assign({},r)}function xR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===wR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Rc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=ho(i)}setAll(e){let i=Lt.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=ho(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(e){const i=this.field(e.popLast());Rc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Rc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ms(i,(o,c)=>e[o]=c);for(const o of a)delete e[o]}clone(){return new Rn(ho(this.value))}}function hE(r){const e=[];return Ms(r.fields,(i,a)=>{const o=new Lt([i]);if(Rc(a)){const c=hE(a.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,i,a,o,c,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Vn(e,0,We.min(),We.min(),We.min(),Rn.empty(),0)}static newFoundDocument(e,i,a,o){return new Vn(e,1,i,We.min(),a,o,0)}static newNoDocument(e,i){return new Vn(e,2,i,We.min(),We.min(),Rn.empty(),0)}static newUnknownDocument(e,i){return new Vn(e,3,i,We.min(),We.min(),Rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,i){this.position=e,this.inclusive=i}}function h0(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?a=Se.comparator(Se.fromName(d.referenceValue),i.key):a=ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function f0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!li(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i="asc"){this.field=e,this.dir=i}}function CR(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class Ct extends fE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new NR(e,i,a):i==="array-contains"?new MR(e,a):i==="in"?new VR(e,a):i==="not-in"?new PR(e,a):i==="array-contains-any"?new UR(e,a):new Ct(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new DR(e,a):new OR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ja(i,this.value)):i!==null&&Ds(this.value)===Ds(i)&&this.matchesComparison(ja(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Or extends fE{constructor(e,i){super(),this.filters=e,this.op=i,this.Te=null}static create(e,i){return new Or(e,i)}matches(e){return dE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function dE(r){return r.op==="and"}function mE(r){return IR(r)&&dE(r)}function IR(r){for(const e of r.filters)if(e instanceof Or)return!1;return!0}function $d(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+za(r.value);if(mE(r))return r.filters.map(e=>$d(e)).join(",");{const e=r.filters.map(i=>$d(i)).join(",");return`${r.op}(${e})`}}function gE(r,e){return r instanceof Ct?function(a,o){return o instanceof Ct&&a.op===o.op&&a.field.isEqual(o.field)&&li(a.value,o.value)}(r,e):r instanceof Or?function(a,o){return o instanceof Or&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((c,d,g)=>c&&gE(d,o.filters[g]),!0):!1}(r,e):void xe(19439)}function pE(r){return r instanceof Ct?function(i){return`${i.field.canonicalString()} ${i.op} ${za(i.value)}`}(r):r instanceof Or?function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"}(r):"Filter"}class NR extends Ct{constructor(e,i,a){super(e,i,a),this.key=Se.fromName(a.referenceValue)}matches(e){const i=Se.comparator(e.key,this.key);return this.matchesComparison(i)}}class DR extends Ct{constructor(e,i){super(e,"in",i),this.keys=yE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class OR extends Ct{constructor(e,i){super(e,"not-in",i),this.keys=yE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function yE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>Se.fromName(a.referenceValue))}class MR extends Ct{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Vm(i)&&To(i.arrayValue,this.value)}}class VR extends Ct{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&To(this.value.arrayValue,i)}}class PR extends Ct{constructor(e,i){super(e,"not-in",i)}matches(e){if(To(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!To(this.value.arrayValue,i)}}class UR extends Ct{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>To(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e,i=null,a=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Ie=null}}function d0(r,e=null,i=[],a=[],o=null,c=null,d=null){return new kR(r,e,i,a,o,c,d)}function Pm(r){const e=$e(r);if(e.Ie===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>$d(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(c){return c.field.canonicalString()+c.dir}(a)).join(","),Dm(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>za(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>za(a)).join(",")),e.Ie=i}return e.Ie}function Um(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!CR(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!f0(r.startAt,e.startAt)&&f0(r.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,i=null,a=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function LR(r,e,i,a,o,c,d,g){return new nh(r,e,i,a,o,c,d,g)}function jR(r){return new nh(r)}function m0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zR(r){return r.collectionGroup!==null}function fo(r){const e=$e(r);if(e.Ee===null){e.Ee=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ee.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new jt(Lt.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ee.push(new Hc(c,a))}),i.has(Lt.keyField().canonicalString())||e.Ee.push(new Hc(Lt.keyField(),a))}return e.Ee}function ws(r){const e=$e(r);return e.de||(e.de=BR(e,fo(r))),e.de}function BR(r,e){if(r.limitType==="F")return d0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Hc(o.field,c)});const i=r.endAt?new Bc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Bc(r.startAt.position,r.startAt.inclusive):null;return d0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function Zd(r,e,i){return new nh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function vE(r,e){return Um(ws(r),ws(e))&&r.limitType===e.limitType}function _E(r){return`${Pm(ws(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>pE(o)).join(", ")}]`),Dm(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>za(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>za(o)).join(",")),`Target(${a})`}(ws(r))}; limitType=${r.limitType})`}function km(r,e){return e.isFoundDocument()&&function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Se.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)}(r,e)&&function(a,o){for(const c of fo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(d,g,p){const y=h0(d,g,p);return d.inclusive?y<=0:y<0}(a.startAt,fo(a),o)||a.endAt&&!function(d,g,p){const y=h0(d,g,p);return d.inclusive?y>=0:y>0}(a.endAt,fo(a),o))}(r,e)}function HR(r){return(e,i)=>{let a=!1;for(const o of fo(r)){const c=GR(o,e,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function GR(r,e,i){const a=r.field.isKeyField()?Se.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?ja(p,y):xe(42886)}(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return xe(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,(i,a)=>{for(const[o,c]of a)e(o,c)})}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new nn(Se.comparator);function Gc(){return qR}const EE=new nn(Se.comparator);function pc(...r){let e=EE;for(const i of r)e=e.insert(i.key,i);return e}function TE(r){let e=EE;return r.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function bs(){return mo()}function bE(){return mo()}function mo(){return new Vs(r=>r.toString(),(r,e)=>r.isEqual(e))}const FR=new nn(Se.comparator),YR=new jt(Se.comparator);function Ft(...r){let e=YR;for(const i of r)e=e.add(i);return e}const QR=new jt(Pe);function KR(){return QR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kc(e)?"-0":e}}function AE(r){return{integerValue:""+r}}function SE(r,e){return _R(e)?AE(e):Lm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(){this._=void 0}}function XR(r,e,i){return r instanceof qc?function(o,c){const d={fields:{[aE]:{stringValue:sE},[oE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Om(c)&&(c=Mm(c)),c&&(d.fields[lE]=c),{mapValue:d}}(i,e):r instanceof Ba?RE(r,e):r instanceof bo?xE(r,e):function(o,c){const d=wE(o,c),g=g0(d)+g0(o.Re);return Xd(d)&&Xd(o.Re)?AE(g):Lm(o.serializer,g)}(r,e)}function $R(r,e,i){return r instanceof Ba?RE(r,e):r instanceof bo?xE(r,e):i}function wE(r,e){return r instanceof Ao?function(a){return Xd(a)||function(c){return!!c&&"doubleValue"in c}(a)}(e)?e:{integerValue:0}:null}class qc extends ih{}class Ba extends ih{constructor(e){super(),this.elements=e}}function RE(r,e){const i=CE(e);for(const a of r.elements)i.some(o=>li(o,a))||i.push(a);return{arrayValue:{values:i}}}class bo extends ih{constructor(e){super(),this.elements=e}}function xE(r,e){let i=CE(e);for(const a of r.elements)i=i.filter(o=>!li(o,a));return{arrayValue:{values:i}}}class Ao extends ih{constructor(e,i){super(),this.serializer=e,this.Re=i}}function g0(r){return kt(r.integerValue||r.doubleValue)}function CE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,i){this.field=e,this.transform=i}}function ZR(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Ba&&o instanceof Ba||a instanceof bo&&o instanceof bo?ka(a.elements,o.elements,li):a instanceof Ao&&o instanceof Ao?li(a.Re,o.Re):a instanceof qc&&o instanceof qc}(r.transform,e.transform)}class JR{constructor(e,i){this.version=e,this.transformResults=i}}class ji{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ji}static exists(e){return new ji(void 0,e)}static updateTime(e){return new ji(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rh{}function NE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new OE(r.key,ji.none()):new sh(r.key,r.data,ji.none());{const i=r.data,a=Rn.empty();let o=new jt(Lt.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Ps(r.key,a,new kn(o.toArray()),ji.none())}}function WR(r,e,i){r instanceof sh?function(o,c,d){const g=o.value.clone(),p=y0(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Ps?function(o,c,d){if(!xc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=y0(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(DE(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function go(r,e,i,a){return r instanceof sh?function(c,d,g,p){if(!xc(c.precondition,d))return g;const y=c.value.clone(),T=v0(c.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,a):r instanceof Ps?function(c,d,g,p){if(!xc(c.precondition,d))return g;const y=v0(c.fieldTransforms,p,d),T=d.data;return T.setAll(DE(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(w=>w.field))}(r,e,i,a):function(c,d,g){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function ex(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),c=wE(a.transform,o||null);c!=null&&(i===null&&(i=Rn.empty()),i.set(a.field,c))}return i||null}function p0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ka(a,o,(c,d)=>ZR(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class sh extends rh{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ps extends rh{constructor(e,i,a,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}}),e}function y0(r,e,i){const a=new Map;at(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);a.set(c.field,$R(d,g,i[o]))}return a}function v0(r,e,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,XR(c,d,e))}return a}class OE extends rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tx extends rh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&WR(c,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=go(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=go(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=bE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=NE(d,g);p!==null&&a.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(We.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ft())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(i,a)=>p0(i,a))&&ka(this.baseMutations,e.baseMutations,(i,a)=>p0(i,a))}}class jm{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){at(e.mutations.length===a.length,58842,{fe:e.mutations.length,ge:a.length});let o=function(){return FR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new jm(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Ve;function rx(r){switch(r){case ie.OK:return xe(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return xe(15467,{code:r})}}function sx(r){if(r===void 0)return Is("GRPC error has no .code"),ie.UNKNOWN;switch(r){case mt.OK:return ie.OK;case mt.CANCELLED:return ie.CANCELLED;case mt.UNKNOWN:return ie.UNKNOWN;case mt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case mt.INTERNAL:return ie.INTERNAL;case mt.UNAVAILABLE:return ie.UNAVAILABLE;case mt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case mt.NOT_FOUND:return ie.NOT_FOUND;case mt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case mt.ABORTED:return ie.ABORTED;case mt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case mt.DATA_LOSS:return ie.DATA_LOSS;default:return xe(39323,{code:r})}}(Ve=mt||(mt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rm([4294967295,4294967295],0);class ax{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Jd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function ox(r,e){return Jd(r,e.toTimestamp())}function Va(r){return at(!!r,49232),We.fromTimestamp(function(i){const a=Ns(i);return new It(a.seconds,a.nanos)}(r))}function ME(r,e){return Wd(r,e).canonicalString()}function Wd(r,e){const i=function(o){return new gt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function ux(r){const e=gt.fromString(r);return at(yx(e),10190,{key:e.toString()}),e}function em(r,e){return ME(r.databaseId,e.path)}function cx(r){const e=ux(r);return e.length===4?gt.emptyPath():fx(e)}function hx(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function fx(r){return at(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function _0(r,e,i){return{name:em(r,e),fields:i.value.mapValue.fields}}function dx(r,e){let i;if(e instanceof sh)i={update:_0(r,e.key,e.value)};else if(e instanceof OE)i={delete:em(r,e.key)};else if(e instanceof Ps)i={update:_0(r,e.key,e.data),updateMask:px(e.fieldMask)};else{if(!(e instanceof tx))return xe(16599,{ft:e.type});i={verify:em(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(c,d){const g=d.transform;if(g instanceof qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ba)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ao)return{fieldPath:d.field.canonicalString(),increment:g.Re};throw xe(20930,{transform:d.transform})}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:ox(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:xe(27497)}(r,e.precondition)),i}function mx(r,e){return r&&r.length>0?(at(e!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?Va(o.updateTime):Va(c);return d.isEqual(We.min())&&(d=Va(c)),new JR(d,o.transformResults||[])}(i,e))):[]}function gx(r){let e=cx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){at(a===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];i.where&&(c=function(w){const A=VE(w);return A instanceof Or&&mE(A)?A.getFilters():[A]}(i.where));let d=[];i.orderBy&&(d=function(w){return w.map(A=>function(V){return new Hc(Na(V.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(A))}(i.orderBy));let g=null;i.limit&&(g=function(w){let A;return A=typeof w=="object"?w.value:w,Dm(A)?null:A}(i.limit));let p=null;i.startAt&&(p=function(w){const A=!!w.before,j=w.values||[];return new Bc(j,A)}(i.startAt));let y=null;return i.endAt&&(y=function(w){const A=!w.before,j=w.values||[];return new Bc(j,A)}(i.endAt)),LR(e,o,d,c,g,"F",p,y)}function VE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Na(i.unaryFilter.field);return Ct.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Na(i.unaryFilter.field);return Ct.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Na(i.unaryFilter.field);return Ct.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Na(i.unaryFilter.field);return Ct.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ct.create(Na(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Or.create(i.compositeFilter.filters.map(a=>VE(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}}(i.compositeFilter.op))}(r):xe(30097,{filter:r})}function Na(r){return Lt.fromServerFormat(r.fieldPath)}function px(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function yx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.wt=e}}function _x(r){const e=gx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.Cn=new Tx}addToCollectionParentIndex(e,i){return this.Cn.add(i),ee.resolve()}getCollectionParents(e,i){return ee.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return ee.resolve()}deleteFieldIndex(e,i){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,i){return ee.resolve()}getDocumentsMatchingTarget(e,i){return ee.resolve(null)}getIndexType(e,i){return ee.resolve(0)}getFieldIndexes(e,i){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,i){return ee.resolve(Dr.min())}getMinOffsetFromCollectionGroup(e,i){return ee.resolve(Dr.min())}updateCollectionGroup(e,i,a){return ee.resolve()}updateIndexEntries(e,i){return ee.resolve()}}class Tx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new jt(gt.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new jt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PE=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(PE,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ha(0)}static lr(){return new Ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="LruGarbageCollector",bx=1048576;function b0([r,e],[i,a]){const o=Pe(r,i);return o===0?Pe(e,a):o}class Ax{constructor(e){this.Er=e,this.buffer=new jt(b0),this.dr=0}Ar(){return++this.dr}Rr(e){const i=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();b0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Sx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){he(T0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Po(i)?he(T0,"Ignoring IndexedDB error during garbage collection: ",i):await Cm(i)}await this.mr(3e5)})}}class wx{constructor(e,i){this.gr=e,this.params=i}calculateTargetCount(e,i){return this.gr.pr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return ee.resolve(Im.le);const a=new Ax(i);return this.gr.forEachTarget(e,o=>a.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>a.Rr(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.gr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.gr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(E0)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E0):this.wr(e,i))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,i){let a,o,c,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,g=Date.now(),this.removeTargets(e,a,i))).next(w=>(c=w,p=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(y=Date.now(),Ia()<=Ne.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${w} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w})))}}function Rx(r,e){return new wx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(){this.changes=new Vs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?ee.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&go(a.mutation,o,kn.empty(),It.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ft()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ft()){const o=bs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(c=>{let d=pc();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=bs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ft()))}populateOverlays(e,i,a){const o=[];return a.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let c=Gc();const d=mo(),g=function(){return mo()}();return i.forEach((p,y)=>{const T=a.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Ps)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),go(T.mutation,y,T.mutation.getFieldMask(),It.now())):d.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,T)=>d.set(y,T)),i.forEach((y,T)=>{var w;return g.set(y,new Cx(T,(w=d.get(y))!==null&&w!==void 0?w:null))}),g))}recalculateAndSaveOverlays(e,i){const a=mo();let o=new nn((d,g)=>d-g),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let T=a.get(p)||kn.empty();T=g.applyToLocalView(y,T),a.set(p,T);const w=(o.get(g.batchId)||Ft()).add(p);o=o.insert(g.batchId,w)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,w=bE();T.forEach(A=>{if(!c.has(A)){const j=NE(i.get(A),a.get(A));j!==null&&w.set(A,j),c=c.add(A)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ee.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return Se.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):zR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-c.size):ee.resolve(bs());let g=Eo,p=c;return d.next(y=>ee.forEach(y,(T,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(A=>{p=p.insert(T,A)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Ft())).next(T=>({batchId:g,changes:TE(T)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Se(i)).next(a=>{let o=pc();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const c=i.collectionGroup;let d=pc();return this.indexManager.getCollectionParents(e,c).next(g=>ee.forEach(g,p=>{const y=function(w,A){return new nh(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(T=>{T.forEach((w,A)=>{d=d.insert(w,A)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,o))).next(d=>{c.forEach((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Vn.newInvalidDocument(T)))});let g=pc();return d.forEach((p,y)=>{const T=c.get(p);T!==void 0&&go(T.mutation,y,kn.empty(),It.now()),km(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,i){return ee.resolve(this.kr.get(i))}saveBundleMetadata(e,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Va(o.createTime)}}(i)),ee.resolve()}getNamedQuery(e,i){return ee.resolve(this.qr.get(i))}saveNamedQuery(e,i){return this.qr.set(i.name,function(o){return{name:o.name,query:_x(o.bundledQuery),readTime:Va(o.readTime)}}(i)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(){this.overlays=new nn(Se.comparator),this.Qr=new Map}getOverlay(e,i){return ee.resolve(this.overlays.get(i))}getOverlays(e,i){const a=bs();return ee.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&a.set(o,c)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,c)=>{this.bt(e,i,c)}),ee.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Qr.get(a);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(a)),ee.resolve()}getOverlaysForCollection(e,i,a){const o=bs(),c=i.length+1,d=new Se(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>a&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let c=new nn((y,T)=>y-T);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=bs(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=bs(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=o)););return ee.resolve(g)}bt(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(a.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new ix(i,a));let c=this.Qr.get(i);c===void 0&&(c=Ft(),this.Qr.set(i,c)),this.Qr.set(i,c.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.sessionToken=ai.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.$r=new jt(xt.Ur),this.Kr=new jt(xt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,i){const a=new xt(e,i);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.zr(new xt(e,i))}jr(e,i){e.forEach(a=>this.removeReference(a,i))}Hr(e){const i=new Se(new gt([])),a=new xt(i,e),o=new xt(i,e+1),c=[];return this.Kr.forEachInRange([a,o],d=>{this.zr(d),c.push(d.key)}),c}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const i=new Se(new gt([])),a=new xt(i,e),o=new xt(i,e+1);let c=Ft();return this.Kr.forEachInRange([a,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xt(e,0),a=this.$r.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class xt{constructor(e,i){this.key=e,this.Zr=i}static Ur(e,i){return Se.comparator(e.key,i.key)||Pe(e.Zr,i.Zr)}static Wr(e,i){return Pe(e.Zr,i.Zr)||Se.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new jt(xt.Ur)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new nx(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Xr=this.Xr.add(new xt(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ee.resolve(d)}lookupMutationBatch(e,i){return ee.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ti(a),c=o<0?0:o;return ee.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Nm:this.nr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([a,o],d=>{const g=this.ei(d.Zr);c.push(g)}),ee.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new jt(Pe);return i.forEach(o=>{const c=new xt(o,0),d=new xt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,d],g=>{a=a.add(g.Zr)})}),ee.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let c=a;Se.isDocumentKey(c)||(c=c.child(""));const d=new xt(new Se(c),0);let g=new jt(Pe);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Zr)),!0)},d),ee.resolve(this.ni(g))}ni(e){const i=[];return e.forEach(a=>{const o=this.ei(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){at(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ee.forEach(i.mutations,o=>{const c=new xt(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=a})}sr(e){}containsKey(e,i){const a=new xt(i,0),o=this.Xr.firstAfterOrEqual(a);return ee.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ri(e,i){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const i=this.ti(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this.ii=e,this.docs=function(){return new nn(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ii(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return ee.resolve(a?a.document.mutableCopy():Vn.newInvalidDocument(i))}getEntries(e,i){let a=Gc();return i.forEach(o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Vn.newInvalidDocument(o))}),ee.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let c=Gc();const d=i.path,g=new Se(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||gR(mR(T),a)<=0||(o.has(T.key)||km(i,T))&&(c=c.insert(T.key,T.mutableCopy()))}return ee.resolve(c)}getAllFromCollectionGroup(e,i,a,o){xe(9500)}si(e,i){return ee.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new Px(this)}getSize(e){return ee.resolve(this.size)}}class Px extends xx{constructor(e){super(),this.Br=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(e,o)):this.Br.removeEntry(a)}),ee.waitFor(i)}getFromCache(e,i){return this.Br.getEntry(e,i)}getAllFromCache(e,i){return this.Br.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.persistence=e,this.oi=new Vs(i=>Pm(i),Um),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this._i=0,this.ai=new zm,this.targetCount=0,this.ui=Ha.cr()}forEachTarget(e,i){return this.oi.forEach((a,o)=>i(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this._i&&(this._i=i),ee.resolve()}Tr(e){this.oi.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ui=new Ha(i),this.highestTargetId=i),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,i){return this.Tr(i),this.targetCount+=1,ee.resolve()}updateTargetData(e,i){return this.Tr(i),ee.resolve()}removeTargetData(e,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,i,a){let o=0;const c=[];return this.oi.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.oi.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),ee.waitFor(c).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,i){const a=this.oi.get(i)||null;return ee.resolve(a)}addMatchingKeys(e,i,a){return this.ai.Gr(i,a),ee.resolve()}removeMatchingKeys(e,i,a){this.ai.jr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),ee.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.ai.Hr(i),ee.resolve()}getMatchingKeysForTargetId(e,i){const a=this.ai.Yr(i);return ee.resolve(a)}containsKey(e,i){return ee.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e,i){this.ci={},this.overlays={},this.li=new Im(0),this.hi=!1,this.hi=!0,this.Pi=new Ox,this.referenceDelegate=e(this),this.Ti=new Ux(this),this.indexManager=new Ex,this.remoteDocumentCache=function(o){return new Vx(o)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new vx(i),this.Ei=new Nx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Dx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ci[e.toKey()];return a||(a=new Mx(i,this.referenceDelegate),this.ci[e.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const o=new kx(this.li.next());return this.referenceDelegate.di(),a(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(e,i){return ee.or(Object.values(this.ci).map(a=>()=>a.containsKey(e,i)))}}class kx extends yR{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Vi=new zm,this.mi=null}static fi(e){return new Bm(e)}get gi(){if(this.mi)return this.mi;throw xe(60996)}addReference(e,i,a){return this.Vi.addReference(a,i),this.gi.delete(a.toString()),ee.resolve()}removeReference(e,i,a){return this.Vi.removeReference(a,i),this.gi.add(a.toString()),ee.resolve()}markPotentiallyOrphaned(e,i){return this.gi.add(i.toString()),ee.resolve()}removeTarget(e,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>a.removeTargetData(e,i))}di(){this.mi=new Set}Ai(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.gi,a=>{const o=Se.fromPath(a);return this.pi(e,o).next(c=>{c||i.removeEntry(o,We.min())})}).next(()=>(this.mi=null,i.apply(e)))}updateLimboDocument(e,i){return this.pi(e,i).next(a=>{a?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(e){return 0}pi(e,i){return ee.or([()=>ee.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ri(e,i)])}}class Fc{constructor(e,i){this.persistence=e,this.yi=new Vs(a=>ER(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=Rx(this,i)}static fi(e,i){return new Fc(e,i)}di(){}Ai(e){return ee.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}pr(e){const i=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}Sr(e){let i=0;return this.yr(e,a=>{i++}).next(()=>i)}yr(e,i){return ee.forEach(this.yi,(a,o)=>this.Dr(e,a,o).next(c=>c?ee.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,i).next(g=>{g||(a++,c.removeEntry(d,We.min()))})).next(()=>c.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}removeReference(e,i,a){return this.yi.set(a,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,i){return this.yi.set(i,e.currentSequenceNumber),ee.resolve()}Ii(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=wc(e.data.value)),i}Dr(e,i,a){return ee.or([()=>this.persistence.Ri(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.yi.get(i);return ee.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.ds=a,this.As=o}static Rs(e,i){let a=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Hm(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return UA()?8:vR(Yt())>0?6:4}()}initialize(e,i){this.ys=e,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(e,i,a,o){const c={result:null};return this.ws(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Ss(e,i,o,a).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Lx;return this.bs(e,i,d).next(g=>{if(c.result=g,this.fs)return this.Ds(e,i,d,g.size)})}).next(()=>c.result)}Ds(e,i,a,o){return a.documentReadCount<this.gs?(Ia()<=Ne.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",lo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ee.resolve()):(Ia()<=Ne.DEBUG&&he("QueryEngine","Query:",lo(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ps*o?(Ia()<=Ne.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",lo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(i))):ee.resolve())}ws(e,i){if(m0(i))return ee.resolve(null);let a=ws(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Zd(i,null,"F"),a=ws(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(c=>{const d=Ft(...c);return this.ys.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(p=>{const y=this.vs(i,g);return this.Cs(i,y,d,p.readTime)?this.ws(e,Zd(i,null,"F")):this.Fs(e,y,i,p)}))})))}Ss(e,i,a,o){return m0(i)||o.isEqual(We.min())?ee.resolve(null):this.ys.getDocuments(e,a).next(c=>{const d=this.vs(i,c);return this.Cs(i,d,a,o)?ee.resolve(null):(Ia()<=Ne.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(i)),this.Fs(e,d,i,dR(o,Eo)).next(g=>g))})}vs(e,i){let a=new jt(HR(e));return i.forEach((o,c)=>{km(e,c)&&(a=a.add(c))}),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}bs(e,i,a){return Ia()<=Ne.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",lo(i)),this.ys.getDocumentsMatchingQuery(e,i,Dr.min(),a)}Fs(e,i,a,o){return this.ys.getDocumentsMatchingQuery(e,a,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="LocalStore";class Bx{constructor(e,i,a,o){this.persistence=e,this.Ms=i,this.serializer=o,this.xs=new nn(Pe),this.Os=new Vs(c=>Pm(c),Um),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(a)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ix(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.xs))}}function Hx(r,e,i,a){return new Bx(r,e,i,a)}async function kE(r,e){const i=$e(r);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(c=>(o=c,i.Ls(e),i.mutationQueue.getAllMutationBatches(a))).next(c=>{const d=[],g=[];let p=Ft();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(a,p).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:g}))})})}function Gx(r,e){const i=$e(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),c=i.Bs.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const w=y.batch,A=w.keys();let j=ee.resolve();return A.forEach(V=>{j=j.next(()=>T.getEntry(p,V)).next(Q=>{const K=y.docVersions.get(V);at(K!==null,48541),Q.version.compareTo(K)<0&&(w.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),T.addEntry(Q)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(p,w))}(i,a,e,c).next(()=>c.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let p=Ft();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function qx(r){const e=$e(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Ti.getLastRemoteSnapshotVersion(i))}function Fx(r,e){const i=$e(r);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=Nm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class A0{constructor(){this.activeTargetIds=KR()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Yx{constructor(){this.xo=new A0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,i,a){this.Oo[e]=i}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new A0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="ConnectivityMonitor";class w0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){he(S0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){he(S0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yc=null;function tm(){return yc===null?yc=function(){return 268435456+Math.round(2147483648*Math.random())}():yc++,"0x"+yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RestConnection",Kx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xx{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+e.host,this.Wo=`projects/${a}/databases/${o}`,this.Go=this.databaseId.database===jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}zo(e,i,a,o,c){const d=tm(),g=this.jo(e,i.toUriEncodedString());he(Id,`Sending RPC '${e}' ${d}:`,g,a);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,c);const{host:y}=new URL(g),T=Io(y);return this.Jo(e,g,p,a,T).then(w=>(he(Id,`Received RPC '${e}' ${d}: `,w),w),w=>{throw th(Id,`RPC '${e}' ${d} failed with error: `,w,"url: ",g,"request:",a),w})}Yo(e,i,a,o,c,d){return this.zo(e,i,a,o,c)}Ho(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),a&&a.headers.forEach((o,c)=>e[c]=o)}jo(e,i){const a=Kx[e];return`${this.Ko}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class Zx extends Xx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,c){const d=tm();return new Promise((g,p)=>{const y=new X_;y.setWithCredentials(!0),y.listenOnce($_.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Sc.NO_ERROR:const w=y.getResponseJson();he(Gt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),g(w);break;case Sc.TIMEOUT:he(Gt,`RPC '${e}' ${d} timed out`),p(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Sc.HTTP_ERROR:const A=y.getStatus();if(he(Gt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const V=j==null?void 0:j.error;if(V&&V.status&&V.message){const Q=function(F){const J=F.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(J)>=0?J:ie.UNKNOWN}(V.status);p(new Te(Q,V.message))}else p(new Te(ie.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{he(Gt,`RPC '${e}' ${d} completed.`)}});const T=JSON.stringify(o);he(Gt,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,a,15)})}T_(e,i,a){const o=tm(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=W_(),g=J_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const T=c.join("");he(Gt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const w=d.createWebChannel(T,p);let A=!1,j=!1;const V=new $x({Zo:K=>{j?he(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(A||(he(Gt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),he(Gt,`RPC '${e}' stream ${o} sending:`,K),w.send(K))},Xo:()=>w.close()}),Q=(K,F,J)=>{K.listen(F,ne=>{try{J(ne)}catch(ue){setTimeout(()=>{throw ue},0)}})};return Q(w,oo.EventType.OPEN,()=>{j||(he(Gt,`RPC '${e}' stream ${o} transport opened.`),V.__())}),Q(w,oo.EventType.CLOSE,()=>{j||(j=!0,he(Gt,`RPC '${e}' stream ${o} transport closed`),V.u_())}),Q(w,oo.EventType.ERROR,K=>{j||(j=!0,th(Gt,`RPC '${e}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),V.u_(new Te(ie.UNAVAILABLE,"The operation could not be completed")))}),Q(w,oo.EventType.MESSAGE,K=>{var F;if(!j){const J=K.data[0];at(!!J,16349);const ne=J,ue=(ne==null?void 0:ne.error)||((F=ne[0])===null||F===void 0?void 0:F.error);if(ue){he(Gt,`RPC '${e}' stream ${o} received error:`,ue);const ae=ue.status;let de=function(R){const D=mt[R];if(D!==void 0)return sx(D)}(ae),C=ue.message;de===void 0&&(de=ie.INTERNAL,C="Unknown error status: "+ae+" with message "+ue.message),j=!0,V.u_(new Te(de,C)),w.close()}else he(Gt,`RPC '${e}' stream ${o} received:`,J),V.c_(J)}}),Q(g,Z_.STAT_EVENT,K=>{K.stat===Fd.PROXY?he(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===Fd.NOPROXY&&he(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return new ax(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,i,a=1e3,o=1.5,c=6e4){this.xi=e,this.timerId=i,this.I_=a,this.E_=o,this.d_=c,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const i=Math.floor(this.A_+this.g_()),a=Math.max(0,Date.now()-this.V_),o=Math.max(0,i-a);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="PersistentStream";class Jx{constructor(e,i,a,o,c,d,g,p){this.xi=e,this.y_=a,this.w_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new LE(e,i)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,i){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():i&&i.code===ie.RESOURCE_EXHAUSTED?(Is(i.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):i&&i.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(i)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),i=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.S_===i&&this.K_(a,o)},a=>{e(()=>{const o=new Te(ie.UNKNOWN,"Fetching auth token failed: "+a.message);return this.W_(o)})})}K_(e,i){const a=this.U_(this.S_);this.stream=this.G_(e,i),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{a(()=>this.W_(o))}),this.stream.onMessage(o=>{a(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return he(R0,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return i=>{this.xi.enqueueAndForget(()=>this.S_===e?i():(he(R0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wx extends Jx{constructor(e,i,a,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,i){return this.connection.T_("Write",e,i)}z_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const i=mx(e.writeResults,e.commitTime),a=Va(e.commitTime);return this.listener.ea(a,i)}ta(){const e={};e.database=hx(this.serializer),this.L_(e)}Z_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>dx(this.serializer,a))};this.L_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{}class tC extends eC{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.na=!1}ra(){if(this.na)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,i,a,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.zo(e,Wd(i,a),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Te(ie.UNKNOWN,c.toString())})}Yo(e,i,a,o,c){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Yo(e,Wd(i,a),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Te(ie.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class nC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Is(i),this.oa=!1):he("OnlineStateTracker",i)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="RemoteStore";class iC{constructor(e,i,a,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=c,this.Ea.No(d=>{a.enqueueAndForget(async()=>{Lo(this)&&(he(Uo,"Restarting streams for network reachability change."),await async function(p){const y=$e(p);y.Ta.add(4),await ko(y),y.da.set("Unknown"),y.Ta.delete(4),await lh(y)}(this))})}),this.da=new nC(a,o)}}async function lh(r){if(Lo(r))for(const e of r.Ia)await e(!0)}async function ko(r){for(const e of r.Ia)await e(!1)}function Lo(r){return $e(r).Ta.size===0}async function jE(r,e,i){if(!Po(e))throw e;r.Ta.add(1),await ko(r),r.da.set("Offline"),i||(i=()=>qx(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{he(Uo,"Retrying IndexedDB access"),await i(),r.Ta.delete(1),await lh(r)})}function zE(r,e){return e().catch(i=>jE(r,i,e))}async function oh(r){const e=$e(r),i=Mr(e);let a=e.ha.length>0?e.ha[e.ha.length-1].batchId:Nm;for(;rC(e);)try{const o=await Fx(e.localStore,a);if(o===null){e.ha.length===0&&i.N_();break}a=o.batchId,sC(e,o)}catch(o){await jE(e,o)}BE(e)&&HE(e)}function rC(r){return Lo(r)&&r.ha.length<10}function sC(r,e){r.ha.push(e);const i=Mr(r);i.M_()&&i.Y_&&i.Z_(e.mutations)}function BE(r){return Lo(r)&&!Mr(r).F_()&&r.ha.length>0}function HE(r){Mr(r).start()}async function aC(r){Mr(r).ta()}async function lC(r){const e=Mr(r);for(const i of r.ha)e.Z_(i.mutations)}async function oC(r,e,i){const a=r.ha.shift(),o=jm.from(a,e,i);await zE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await oh(r)}async function uC(r,e){e&&Mr(r).Y_&&await async function(a,o){if(function(d){return rx(d)&&d!==ie.ABORTED}(o.code)){const c=a.ha.shift();Mr(a).O_(),await zE(a,()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o)),await oh(a)}}(r,e),BE(r)&&HE(r)}async function x0(r,e){const i=$e(r);i.asyncQueue.verifyOperationInProgress(),he(Uo,"RemoteStore received new credentials");const a=Lo(i);i.Ta.add(3),await ko(i),a&&i.da.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ta.delete(3),await lh(i)}async function cC(r,e){const i=$e(r);e?(i.Ta.delete(2),await lh(i)):e||(i.Ta.add(2),await ko(i),i.da.set("Unknown"))}function Mr(r){return r.Va||(r.Va=function(i,a,o){const c=$e(i);return c.ra(),new Wx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:aC.bind(null,r),i_:uC.bind(null,r),X_:lC.bind(null,r),ea:oC.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await oh(r)):(await r.Va.stop(),r.ha.length>0&&(he(Uo,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,i,a,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,c){const d=Date.now()+a,g=new Gm(e,i,d,o,c);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function GE(r,e){if(Is("AsyncQueue",`${e}: ${r}`),Po(r))return new Te(ie.UNAVAILABLE,`${e}: ${r}`);throw r}class hC{constructor(){this.queries=C0(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(i,a){const o=$e(i),c=o.queries;o.queries=C0(),c.forEach((d,g)=>{for(const p of g.ya)p.onError(a)})})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function C0(){return new Vs(r=>_E(r),vE)}function fC(r){r.ba.forEach(e=>{e.next()})}var I0,N0;(N0=I0||(I0={})).Ca="default",N0.Cache="cache";const dC="SyncEngine";class mC{constructor(e,i,a,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new Vs(g=>_E(g),vE),this.cu=new Map,this.lu=new Set,this.hu=new nn(Se.comparator),this.Pu=new Map,this.Tu=new zm,this.Iu={},this.Eu=new Map,this.du=Ha.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function gC(r,e,i){const a=_C(r);try{const o=await function(d,g){const p=$e(d),y=It.now(),T=g.reduce((j,V)=>j.add(V.key),Ft());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",j=>{let V=Gc(),Q=Ft();return p.Bs.getEntries(j,T).next(K=>{V=K,V.forEach((F,J)=>{J.isValidDocument()||(Q=Q.add(F))})}).next(()=>p.localDocuments.getOverlayedDocuments(j,V)).next(K=>{w=K;const F=[];for(const J of g){const ne=ex(J,w.get(J.key).overlayedDocument);ne!=null&&F.push(new Ps(J.key,ne,hE(ne.value.mapValue),ji.exists(!0)))}return p.mutationQueue.addMutationBatch(j,y,F,g)}).next(K=>{A=K;const F=K.applyToLocalDocumentSet(w,Q);return p.documentOverlayCache.saveOverlays(j,K.batchId,F)})}).then(()=>({batchId:A.batchId,changes:TE(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Iu[d.currentUser.toKey()];y||(y=new nn(Pe)),y=y.insert(g,p),d.Iu[d.currentUser.toKey()]=y}(a,o.batchId,i),await uh(a,o.changes),await oh(a.remoteStore)}catch(o){const c=GE(o,"Failed to persist write");i.reject(c)}}function D0(r,e,i){const a=$e(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.uu.forEach((c,d)=>{const g=d.view.Da(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=$e(d);p.onlineState=g;let y=!1;p.queries.forEach((T,w)=>{for(const A of w.ya)A.Da(g)&&(y=!0)}),y&&fC(p)}(a.eventManager,e),o.length&&a.au.j_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function pC(r,e){const i=$e(r),a=e.batch.batchId;try{const o=await Gx(i.localStore,e);FE(i,a,null),qE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await uh(i,o)}catch(o){await Cm(o)}}async function yC(r,e,i){const a=$e(r);try{const o=await function(d,g){const p=$e(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(w=>(at(w!==null,37113),T=w.keys(),p.mutationQueue.removeMutationBatch(y,w))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(a.localStore,e);FE(a,e,i),qE(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await uh(a,o)}catch(o){await Cm(o)}}function qE(r,e){(r.Eu.get(e)||[]).forEach(i=>{i.resolve()}),r.Eu.delete(e)}function FE(r,e,i){const a=$e(r);let o=a.Iu[a.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),a.Iu[a.currentUser.toKey()]=o}}async function uh(r,e,i){const a=$e(r),o=[],c=[],d=[];a.uu.isEmpty()||(a.uu.forEach((g,p)=>{d.push(a.Ru(p,e,i).then(y=>{var T;if((y||i)&&a.isPrimaryClient){const w=y?!y.fromCache:(T=void 0)===null||T===void 0?void 0:T.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Hm.Rs(p.targetId,y);c.push(w)}}))}),await Promise.all(d),a.au.j_(o),await async function(p,y){const T=$e(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(y,A=>ee.forEach(A.ds,j=>T.persistence.referenceDelegate.addReference(w,A.targetId,j)).next(()=>ee.forEach(A.As,j=>T.persistence.referenceDelegate.removeReference(w,A.targetId,j)))))}catch(w){if(!Po(w))throw w;he(zx,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const j=T.xs.get(A),V=j.snapshotVersion,Q=j.withLastLimboFreeSnapshotVersion(V);T.xs=T.xs.insert(A,Q)}}}(a.localStore,c))}async function vC(r,e){const i=$e(r);if(!i.currentUser.isEqual(e)){he(dC,"User change. New user:",e.toKey());const a=await kE(i.localStore,e);i.currentUser=e,function(c,d){c.Eu.forEach(g=>{g.forEach(p=>{p.reject(new Te(ie.CANCELLED,d))})}),c.Eu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await uh(i,a.ks)}}function _C(r){const e=$e(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yC.bind(null,e),e}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,i){return null}bu(e,i){return null}wu(e){return Hx(this.persistence,new jx,e.initialUser,this.serializer)}yu(e){return new UE(Bm.fi,this.serializer)}pu(e){return new Yx}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class EC extends Yc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,i){at(this.persistence.referenceDelegate instanceof Fc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Sx(a,e.asyncQueue,i)}yu(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new UE(a=>Fc.fi(a,i),this.serializer)}}class nm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>D0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vC.bind(null,this.syncEngine),await cC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hC}()}createDatastore(e){const i=ah(e.databaseInfo.databaseId),a=function(c){return new Zx(c)}(e.databaseInfo);return function(c,d,g,p){return new tC(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,c,d,g){return new iC(a,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>D0(this.syncEngine,i,0),function(){return w0.C()?new w0:new Qx}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,T){const w=new mC(o,c,d,g,p,y);return T&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=$e(o);he(Uo,"RemoteStore shutting down."),c.Ta.add(5),await ko(c),c.Ea.shutdown(),c.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class TC{constructor(e,i,a,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=qt.UNAUTHENTICATED,this.clientId=nE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,async d=>{he(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(he(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=GE(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Dd(r,e){r.asyncQueue.verifyOperationInProgress(),he(Vr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await kE(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function O0(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bC(r);he(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(a=>x0(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>x0(e.remoteStore,o)),r._onlineComponents=e}async function bC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(Vr,"Using user provided OfflineComponentProvider");try{await Dd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;th("Error using user provided cache. Falling back to memory cache: "+i),await Dd(r,new Yc)}}else he(Vr,"Using default OfflineComponentProvider"),await Dd(r,new EC(void 0));return r._offlineComponents}async function AC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(Vr,"Using user provided OnlineComponentProvider"),await O0(r,r._uninitializedComponentsProvider._online)):(he(Vr,"Using default OnlineComponentProvider"),await O0(r,new nm))),r._onlineComponents}function SC(r){return AC(r).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r,e,i){if(!i)throw new Te(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function RC(r,e,i,a){if(e===!0&&a===!0)throw new Te(ie.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function V0(r){if(!Se.isDocumentKey(r))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function qm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe(12329,{type:typeof r})}function im(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(r);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",P0=!0;class U0{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=P0}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:P0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bx)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YE((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fm{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new iR;switch(a.type){case"firstParty":return new lR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=M0.get(i);a&&(he("ComponentProvider","Removing Datastore"),M0.delete(i),a.terminate())}(this),Promise.resolve()}}function xC(r,e,i,a={}){var o;r=im(r,Fm);const c=Io(e),d=r._getSettings(),g=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${i}`;c&&(h_(`https://${p}`),f_("Firestore",!0)),d.host!==QE&&d.host!==p&&th("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:p,ssl:c,emulatorOptions:a});if(!Nr(y,g)&&(r._setSettings(y),a.mockUserToken)){let T,w;if(typeof a.mockUserToken=="string")T=a.mockUserToken,w=qt.MOCK_USER;else{T=xA(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new Te(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new qt(A)}r._authCredentials=new rR(new tE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ym(this.firestore,e,this._query)}}class zi{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}}class So extends Ym{constructor(e,i,a){super(e,i,jR(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new Se(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function CC(r,e,...i){if(r=Zt(r),arguments.length===1&&(e=nE.newId()),wC("doc","path",e),r instanceof Fm){const a=gt.fromString(e,...i);return V0(a),new zi(r,null,new Se(a))}{if(!(r instanceof zi||r instanceof So))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(gt.fromString(e,...i));return V0(a),new zi(r.firestore,r instanceof So?r.converter:null,new Se(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="AsyncQueue";class L0{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new LE(this,"async_queue_retry"),this.ec=()=>{const a=Nd();a&&he(k0,"Visibility state changed to "+a.visibilityState),this.C_.p_()},this.tc=e;const i=Nd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const i=Nd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const i=new Ss;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Po(e))throw e;he(k0,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const i=this.tc.then(()=>(this.Yu=!0,e().catch(a=>{throw this.Ju=a,this.Yu=!1,Is("INTERNAL UNHANDLED ERROR: ",j0(a)),a}).then(a=>(this.Yu=!1,a))));return this.tc=i,i}enqueueAfterDelay(e,i,a){this.nc(),this.Xu.indexOf(e)>-1&&(i=0);const o=Gm.createAndSchedule(this,e,i,a,c=>this.oc(c));return this.Hu.push(o),o}nc(){this.Ju&&xe(47125,{_c:j0(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const i of this.Hu)if(i.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Hu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const i=this.Hu.indexOf(e);this.Hu.splice(i,1)}}function j0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class KE extends Fm{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new L0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new L0(e),this._firestoreClient=void 0,await e}}}function IC(r,e){const i=typeof r=="object"?r:p_(),a=typeof r=="string"?r:jc,o=mm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=wA("firestore");c&&xC(o,...c)}return o}function NC(r){if(r._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DC(r),r._firestoreClient}function DC(r){var e,i,a;const o=r._freezeSettings(),c=function(g,p,y,T){return new SR(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,YE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new TC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wo(ai.fromBase64String(e))}catch(i){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new wo(ai.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=/^__.*__$/;class ZE{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ps(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function JE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{hc:r})}}class ch{constructor(e,i,a,o,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Pc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new ch(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:a,Ec:!1});return o.dc(e),o}Ac(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.Tc({path:a,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Qc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(JE(this.hc)&&OC.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class MC{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ah(e)}gc(e,i,a,o=!1){return new ch({hc:e,methodName:i,fc:a,path:Lt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VC(r){const e=r._freezeSettings(),i=ah(r._databaseId);return new MC(r._databaseId,!!e.ignoreUndefinedProperties,i)}class hh extends jo{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function PC(r,e,i){return new ch({hc:3,fc:e.settings.fc,methodName:r._methodName,Ec:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Km extends jo{constructor(e,i){super(e),this.yc=i}_toFieldTransform(e){const i=PC(this,e,!0),a=this.yc.map(c=>zo(c,i)),o=new Ba(a);return new IE(e.path,o)}isEqual(e){return e instanceof Km&&Nr(this.yc,e.yc)}}class Xm extends jo{constructor(e,i){super(e),this.wc=i}_toFieldTransform(e){const i=new Ao(e.serializer,SE(e.serializer,this.wc));return new IE(e.path,i)}isEqual(e){return e instanceof Xm&&this.wc===e.wc}}function UC(r,e,i,a){const o=r.gc(1,e,i);e1("Data must be an object, but it was:",o,a);const c=[],d=Rn.empty();Ms(a,(p,y)=>{const T=t1(e,p,i);y=Zt(y);const w=o.Ac(T);if(y instanceof hh)c.push(T);else{const A=zo(y,w);A!=null&&(c.push(T),d.set(T,A))}});const g=new kn(c);return new ZE(d,g,o.fieldTransforms)}function kC(r,e,i,a,o,c){const d=r.gc(1,e,i),g=[z0(e,a,i)],p=[o];if(c.length%2!=0)throw new Te(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<c.length;A+=2)g.push(z0(e,c[A])),p.push(c[A+1]);const y=[],T=Rn.empty();for(let A=g.length-1;A>=0;--A)if(!zC(y,g[A])){const j=g[A];let V=p[A];V=Zt(V);const Q=d.Ac(j);if(V instanceof hh)y.push(j);else{const K=zo(V,Q);K!=null&&(y.push(j),T.set(j,K))}}const w=new kn(y);return new ZE(T,w,d.fieldTransforms)}function zo(r,e){if(WE(r=Zt(r)))return e1("Unsupported field value:",e,r),LC(r,e);if(r instanceof jo)return function(a,o){if(!JE(o.hc))throw o.Vc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(a,o){const c=[];let d=0;for(const g of a){let p=zo(g,o.Rc(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return SE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=It.fromDate(a);return{timestampValue:Jd(o.serializer,c)}}if(a instanceof It){const c=new It(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jd(o.serializer,c)}}if(a instanceof XE)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof wo)return{bytesValue:lx(o.serializer,a._byteString)};if(a instanceof zi){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:ME(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof $E)return function(d,g){return{mapValue:{fields:{[uE]:{stringValue:cE},[Qd]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Vc("VectorValues must only contain numeric values.");return Lm(g.serializer,y)})}}}}}}(a,o);throw o.Vc(`Unsupported field value: ${qm(a)}`)}(r,e)}function LC(r,e){const i={};return rE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,(a,o)=>{const c=zo(o,e.Ic(a));c!=null&&(i[a]=c)}),{mapValue:{fields:i}}}function WE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof XE||r instanceof wo||r instanceof zi||r instanceof jo||r instanceof $E)}function e1(r,e,i){if(!WE(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=qm(i);throw a==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+a)}}function z0(r,e,i){if((e=Zt(e))instanceof Qm)return e._internalPath;if(typeof e=="string")return t1(r,e);throw Qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const jC=new RegExp("[~\\*/\\[\\]]");function t1(r,e,i){if(e.search(jC)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Qm(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Qc(r,e,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${a}`),d&&(p+=` in document ${o}`),p+=")"),new Te(ie.INVALID_ARGUMENT,g+r+p)}function zC(r,e){return r.some(i=>i.isEqual(e))}function BC(r,e,i,...a){r=im(r,zi);const o=im(r.firestore,KE),c=VC(o);let d;return d=typeof(e=Zt(e))=="string"||e instanceof Qm?kC(c,"updateDoc",r._key,e,i,a):UC(c,"updateDoc",r._key,e),HC(o,[d.toMutation(r._key,ji.exists(!0))])}function HC(r,e){return function(a,o){const c=new Ss;return a.asyncQueue.enqueueAndForget(async()=>gC(await SC(a),o,c)),c.promise}(NC(r),e)}function GC(...r){return new Km("arrayUnion",r)}function B0(r){return new Xm("increment",r)}(function(e,i=!0){(function(o){Qa=o})(Fa),Pa(new Rs("firestore",(a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new KE(new sR(a.getProvider("auth-internal")),new oR(d,a.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zc(y.options.projectId,T)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ir(Wv,e0,e),Ir(Wv,e0,"esm2017")})();const qC={apiKey:"AIzaSyBOmKLaniKArqHiB6dv02XOb6S5VEnjhyk",authDomain:"gage-96fd8.firebaseapp.com",projectId:"gage-96fd8",storageBucket:"gage-96fd8.appspot.com",messagingSenderId:"845376705617",appId:"1:845376705617:web:44e4cbf480665af3769470",measurementId:"G-RHX0ZQXBYV"},n1=g_(qC),Od=tR(n1),FC=new Pi,YC=IC(n1),qi=({size:r="md",color:e="text-[#ff1818]",className:i=""})=>{let a="h-8 w-8";return r==="sm"&&(a="h-5 w-5"),r==="lg"&&(a="h-12 w-12"),x.jsxs("svg",{className:`animate-spin ${a} ${e} ${i}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",role:"status","aria-label":"Loading",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},i1=B.createContext(void 0),QC=({children:r})=>{const[e,i]=B.useState(null),[a,o]=B.useState(!0);B.useEffect(()=>Gw(Od,p=>{i(p),o(!1)}),[]);const c=async()=>{o(!0);try{const g=await c2(Od,FC);return i(g.user),o(!1),g.user}catch(g){return console.error("Google Sign-In Error:",g),o(!1),null}},d=async()=>{o(!0);try{await qw(Od),i(null)}catch(g){console.error("Sign Out Error:",g)}finally{o(!1)}};return a?x.jsxs("div",{className:"flex items-center justify-center min-h-screen bg-[#F0E1D1]",children:[x.jsx(qi,{size:"lg"}),x.jsx("p",{className:"ml-3 text-slate-700",children:"Authenticating..."})]}):x.jsx(i1.Provider,{value:{currentUser:e,isLoading:a,signInWithGoogle:c,signOut:d},children:r})},Ro=()=>{const r=B.useContext(i1);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},po="gageUserProfile_firebase_uid_v1_",_s="activeGageUserFirebaseUid_v1";function $m(r){if(!r)return 0;const e=new Date(r),i=new Date;let a=i.getFullYear()-e.getFullYear();const o=i.getMonth()-e.getMonth();return(o<0||o===0&&i.getDate()<e.getDate())&&a--,a}function KC(r){const e=[];if(typeof window>"u"||!window.localStorage)return e;for(let i=0;i<localStorage.length;i++){const a=localStorage.key(i);if(a&&a.startsWith(po)){if(a.substring(po.length)===r)continue;try{const c=localStorage.getItem(a);if(c){const d=JSON.parse(c);d&&d.id&&d.dob&&d.photoBase64&&e.push({id:d.id,actualAge:$m(d.dob),photoBase64:d.photoBase64,name:d.name||"Gage User"})}}catch(c){console.warn(`Failed to parse profile from localStorage key ${a}:`,c)}}}return e}async function XC(r){try{const e=await fetch(r);if(!e.ok)return console.error(`Failed to fetch image: ${e.status} ${e.statusText}`),null;const i=await e.blob();return new Promise((a,o)=>{const c=new FileReader;c.onloadend=()=>{a(c.result)},c.onerror=o,c.readAsDataURL(i)})}catch(e){return console.error("Error converting URL to base64:",e),null}}function $C(){const{currentUser:r,isLoading:e}=Ro(),[i,a]=B.useState(null),[o,c]=B.useState(!0);B.useEffect(()=>{if(e){c(!0);return}(async()=>{if(c(!0),r&&r.uid)try{const w=localStorage.getItem(po+r.uid);if(w){const A=JSON.parse(w);A.email=r.email||A.email,A.hasProvidedDob=!!A.dob,A.photoFromGoogle=typeof A.photoFromGoogle=="boolean"?A.photoFromGoogle:!1,A.communityAverageGuess=A.communityAverageGuess!==void 0?A.communityAverageGuess:null,A.numberOfCommunityGuesses=A.numberOfCommunityGuesses||0,A.myTotalGuessingPoints=A.myTotalGuessingPoints||0,A.myNumberOfGuessesMade=A.myNumberOfGuessesMade||0,A.lastThreeGuesses=A.lastThreeGuesses||[],a(A),localStorage.setItem(_s,r.uid)}else{let A=null,j=!1;r.photoURL&&(A=await XC(r.photoURL),A&&(j=!0));const V={id:r.uid,email:r.email||"",name:r.displayName||"Gage User",dob:"",photoBase64:A,photoFromGoogle:j,hasProvidedDob:!1,communityAverageGuess:null,numberOfCommunityGuesses:0,myTotalGuessingPoints:0,myNumberOfGuessesMade:0,lastThreeGuesses:[]};a(V),localStorage.setItem(po+r.uid,JSON.stringify(V)),localStorage.setItem(_s,r.uid)}}catch(w){console.error("Failed to load or create profile from localStorage:",w),a(null)}else a(null),localStorage.getItem(_s)&&localStorage.removeItem(_s);c(!1)})()},[r,e]),B.useEffect(()=>{if(!(o||e))try{if(i&&i.id)localStorage.setItem(po+i.id,JSON.stringify(i)),localStorage.setItem(_s,i.id);else if(!i){const T=localStorage.getItem(_s);localStorage.removeItem(_s)}}catch(T){console.error("Failed to update profile in localStorage:",T)}},[i,o,e]);const d=B.useCallback(async T=>{a(w=>{if(!w||!r||w.id!==r.uid)return console.error("Profile update error: No previous profile or ID mismatch."),w;const A={...w};return T.name!==void 0&&(A.name=T.name),T.dob!==void 0&&(A.dob=T.dob,A.hasProvidedDob=!!T.dob),T.photoBase64!==void 0&&(A.photoBase64=T.photoBase64,A.photoFromGoogle=T.photoFromGoogle!==void 0?T.photoFromGoogle:!1),T.hasProvidedDob!==void 0&&(A.hasProvidedDob=T.hasProvidedDob),A})},[r]),g=B.useCallback((T,w,A)=>{a(j=>{if(!j)return null;const Q=[{guessedUserId:w.id,guessedUserName:w.name,guessedUserPhotoBase64:w.photoBase64,theirActualAge:w.actualAge,yourGuess:A,pointsEarned:T},...j.lastThreeGuesses].slice(0,3);return{...j,myTotalGuessingPoints:j.myTotalGuessingPoints+T,myNumberOfGuessesMade:j.myNumberOfGuessesMade+1,lastThreeGuesses:Q}})},[]),p=B.useCallback(()=>{a(null)},[]);return{profile:B.useMemo(()=>{if(!i)return null;const T=!!i.dob&&!!i.photoBase64;return{...i,actualAge:$m(i.dob),isProfileComplete:T}},[i]),setProfileData:d,updateUserGuessingStats:g,clearProfile:p,isLoading:o}}const r1=B.createContext(void 0),ZC=({children:r})=>{const e=$C();return x.jsx(r1.Provider,{value:e,children:r})},Ka=()=>{const r=B.useContext(r1);if(r===void 0)throw new Error("useProfile must be used within a ProfileProvider");return r},JC=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),Zm=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),fh=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L16.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 13.75M17 8.25L18.25 7M13.75 17L12 18.25M8.25 17L7 18.25m0-13.5L8.25 7M7 5.25L5.25 7M12 5.25L13.75 7M18.25 7L17 5.25"})}),s1=r=>x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:[x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),a1=r=>x.jsxs("svg",{viewBox:"0 0 180 50",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Gage Logo",...r,children:[x.jsx("title",{children:"Gage Logo"}),x.jsx("text",{x:"50%",y:"50%",dominantBaseline:"central",textAnchor:"middle",fontSize:"40",fontFamily:"sans-serif",fontWeight:"bold",fill:"#ff1818",letterSpacing:"0.5",children:"GAGE"})]}),l1=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.355a7.5 7.5 0 01-3 0m3 0a7.5 7.5 0 00-3 0m.375 0a9.753 9.753 0 01-4.125 0M12 3c-2.219 0-4.209.861-5.657 2.343S3.343 9.781 3.343 12c0 2.033.644 3.932 1.757 5.448M20.657 12c0-2.219-.861-4.209-2.343-5.657S14.219 3.343 12 3.343m5.657 3.657A8.25 8.25 0 0012 3.343m0 16.314a8.25 8.25 0 005.657-2.343m0 0a8.23 8.23 0 002.343-5.657m-2.343 5.657V12"})}),Kc=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),o1=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),WC=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15.75 0a7.462 7.462 0 002.096 5.033L4.5 18.75m0-13.5l1.846-1.231A7.463 7.463 0 017.442 3.75m11.154 0a7.463 7.463 0 011.096 1.269L19.5 5.25m0 13.5l-1.846 1.231a7.462 7.462 0 01-2.096-5.033L19.5 12M4.5 12a7.5 7.5 0 007.5 7.5m7.5-7.5a7.5 7.5 0 01-7.5 7.5m7.5-7.5c0 .963-.184 1.892-.522 2.733m-13.956 0A7.463 7.463 0 019.522 9.267m0 5.466a7.5 7.5 0 007.5-7.5M12 12V4.5"})}),eI=r=>x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...r,children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})}),tI=()=>{const[r,e]=B.useState(null),{signInWithGoogle:i,isLoading:a}=Ro(),o=async()=>{e(null);try{await i()}catch(c){e("Failed to sign in with Google. Please try again."),console.error("Google Sign-In error in LoginScreen:",c)}};return x.jsx("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md space-y-8",children:[x.jsxs("div",{className:"text-center",children:[x.jsx(a1,{className:"h-16 w-auto text-[#ff1818] mx-auto mb-4"}),x.jsx("h2",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#ff4545] to-[#ff1818]",children:"Welcome to GAGE"}),x.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sign in with Google to start guessing ages!"})]}),x.jsxs("div",{className:"mt-8 bg-white p-6 sm:p-8 rounded-xl shadow-2xl transform hover:scale-[1.01] transition-transform duration-300",children:[r&&x.jsx("p",{className:"text-sm text-red-600 text-center mb-4",role:"alert",children:r}),x.jsxs("button",{type:"button",onClick:o,disabled:a,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-[#ff1818] hover:bg-[#e00000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-all duration-150 ease-in-out transform hover:scale-105 disabled:opacity-70",children:[x.jsx(fh,{className:"w-5 h-5 mr-2"}),a?"Signing In...":"Sign In with Google"]})]})]})})},Md=512,Vd=512,nI=.8,u1=({onImageUpload:r,currentImagePreview:e,label:i,aspectRatio:a="square",idSuffix:o="default"})=>{const[c,d]=B.useState(!1),[g,p]=B.useState(null),y=B.useRef(null),T=B.useCallback(F=>{const J=F.target.files;J&&J[0]&&w(J[0]),F.target&&(F.target.value="")},[r]),w=B.useCallback(F=>{if(p(null),!F.type.startsWith("image/")){p("Invalid file type. Please upload an image (JPEG, PNG, GIF, WebP).");return}if(F.size>10*1024*1024){p("File is too large. Maximum original size is 10MB.");return}const J=new FileReader;J.onload=ne=>{var de;const ue=(de=ne.target)==null?void 0:de.result;if(!ue){p("Failed to read file. Please try again.");return}const ae=new Image;ae.onload=()=>{const C=document.createElement("canvas");let{width:S,height:R}=ae;S>R?S>Md&&(R=Math.round(R*(Md/S)),S=Md):R>Vd&&(S=Math.round(S*(Vd/R)),R=Vd),C.width=S,C.height=R;const D=C.getContext("2d");if(!D){p("Could not process image. Canvas context unavailable."),r(ue,F);return}D.drawImage(ae,0,0,S,R);const P=C.toDataURL("image/jpeg",nI);P.length<ue.length||F.type!=="image/jpeg"?r(P,F):r(ue,F)},ae.onerror=()=>{p("Failed to load image for processing. Please try a different image.")},ae.src=ue},J.onerror=()=>{p("Failed to read file. Please try again.")},J.readAsDataURL(F)},[r]),A=B.useCallback(F=>{F.preventDefault(),F.stopPropagation(),d(!1),F.dataTransfer.files&&F.dataTransfer.files[0]&&w(F.dataTransfer.files[0])},[w]),j=B.useCallback(F=>{F.preventDefault(),F.stopPropagation(),d(!0)},[]),V=B.useCallback(F=>{F.preventDefault(),F.stopPropagation(),d(!1)},[]),Q=()=>{var F;(F=y.current)==null||F.click()};let K="aspect-square";return a==="portrait"?K="aspect-[3/4]":a==="landscape"&&(K="aspect-video"),x.jsxs("div",{className:"w-full",children:[x.jsxs("label",{htmlFor:`file-upload-${o}`,onDrop:A,onDragOver:j,onDragLeave:V,className:`mt-1 flex justify-center items-center px-6 pt-5 pb-6 border-2 border-dashed rounded-xl cursor-pointer group
                    transition-colors duration-200 ease-in-out
                    ${c?"border-[#ff1818] bg-gray-100":"border-gray-300 hover:border-gray-400 bg-white"}
                    ${e?`p-0 overflow-hidden ${K}`:`flex-col ${K}`}`,"aria-label":i,children:[e?x.jsx("img",{src:e,alt:"Preview",className:"object-cover w-full h-full rounded-xl group-hover:opacity-75 transition-opacity"}):x.jsxs("div",{className:"space-y-1 text-center p-4",children:[x.jsx(s1,{className:"mx-auto h-12 w-12 text-gray-400 group-hover:text-[#ff1818] transition-colors","aria-hidden":"true"}),x.jsxs("div",{className:"flex text-sm text-gray-500 group-hover:text-gray-600 transition-colors",children:[x.jsx("span",{className:"font-medium text-[#ff1818] group-hover:text-[#ff4545]",children:"Upload a file"}),x.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),x.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, WebP. Max 10MB original."}),x.jsx("p",{className:"text-xs text-gray-500",children:"(Will be resized & compressed)"})]}),x.jsx("input",{id:`file-upload-${o}`,name:`file-upload-${o}`,type:"file",className:"sr-only",accept:"image/png, image/jpeg, image/gif, image/webp",onChange:T,ref:y})]}),e&&x.jsxs("button",{type:"button",onClick:Q,className:"mt-3 w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-[#ff1818] hover:bg-[#e00000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-colors",children:[x.jsx(JC,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Change ",i]}),g&&x.jsx("p",{className:"mt-2 text-sm text-red-600",role:"alert",children:g})]})},iI=()=>{const{profile:r,setProfileData:e,isLoading:i}=Ka(),a=Pr(),[o,c]=B.useState(""),[d,g]=B.useState(""),[p,y]=B.useState(null),[T,w]=B.useState(null),[A,j]=B.useState(null);B.useEffect(()=>{!i&&!r?a("/login",{replace:!0}):r&&(c(r.name),g(r.dob),y(r.photoBase64),w(r.actualAge))},[r,i,a]);const V=C=>{y(C),j(null)},Q=C=>{const S=C.target.value;g(S),w(S?$m(S):null)},K=()=>{const C=new Date,S=new Date(C.getFullYear()-100,C.getMonth(),C.getDate()),R=new Date(C.getFullYear()-16,C.getMonth(),C.getDate());return{min:S.toISOString().split("T")[0],max:R.toISOString().split("T")[0]}},{min:F,max:J}=K(),ne=C=>{if(C.preventDefault(),j(null),!r){j("Profile not loaded. Please try again.");return}if(!o.trim()||!d){j("Name and Date of Birth are required.");return}if(!p){j("Please upload or keep a profile picture.");return}const S=new Date(d),R=new Date,D=new Date(R.getFullYear()-100,R.getMonth(),R.getDate()),P=new Date(R.getFullYear()-16,R.getMonth(),R.getDate());if(S>P){j("You must be at least 16 years old.");return}if(S<D){j("Please enter a valid date of birth (max 100 years old).");return}e({name:o,dob:d,photoBase64:p}),alert("Profile updated successfully!")};if(i)return x.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:x.jsx(qi,{size:"lg"})});if(!r)return x.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:x.jsx("p",{children:"Redirecting to login..."})});const ue=()=>{if(!r||r.myNumberOfGuessesMade===0)return"N/A";const C=r.myNumberOfGuessesMade*10;if(C===0)return"0%";const S=r.myTotalGuessingPoints/C*100;return`${Math.round(S)}%`},ae=C=>{const S=Math.abs(C.theirActualAge-C.yourGuess);return S===0?x.jsx("span",{title:"Spot on!",children:x.jsx(Kc,{className:"w-5 h-5 text-green-500 ml-2"})}):S<=2?x.jsx("span",{title:`Close (within ${S} years)`,children:x.jsx(Kc,{className:"w-5 h-5 text-yellow-500 ml-2"})}):S<=5?x.jsx("span",{title:`Fair (within ${S} years)`,children:x.jsx(l1,{className:"w-5 h-5 text-orange-500 ml-2"})}):x.jsx("span",{title:`Off by ${S} years`,children:x.jsx(o1,{className:"w-5 h-5 text-red-500 ml-2"})})},de=({title:C,value:S,children:R})=>x.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow",children:[x.jsx("h3",{className:"text-sm font-medium text-gray-500",children:C}),x.jsx("p",{className:"mt-1 text-2xl font-semibold text-[#ff1818]",children:S}),R]});return x.jsxs("div",{className:"max-w-2xl mx-auto space-y-8",children:[x.jsxs("div",{className:"bg-white p-6 sm:p-8 rounded-xl shadow-2xl mt-8 transform hover:scale-[1.01] transition-transform duration-300",children:[x.jsxs("div",{className:"flex items-center justify-center mb-6",children:[x.jsx(Zm,{className:"w-10 h-10 text-[#ff1818]"}),x.jsx("h2",{className:"ml-3 text-3xl sm:text-4xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-[#ff4545] to-[#ff1818]",children:"Your Account"})]}),x.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 text-center",children:"Your Profile Picture"}),x.jsx(u1,{onImageUpload:V,currentImagePreview:p,label:"Profile Picture",aspectRatio:"square",idSuffix:"profile"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email (cannot be changed)"}),x.jsx("input",{type:"email",id:"email",value:r.email,readOnly:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm bg-gray-100 text-gray-700 cursor-not-allowed sm:text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),x.jsx("input",{type:"text",id:"name",value:o,onChange:C=>c(C.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#ff1818] focus:border-[#ff1818] focus:ring-offset-1 sm:text-sm"})]}),x.jsxs("div",{children:[x.jsxs("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date of Birth ",x.jsxs("span",{className:"font-normal text-gray-500 text-xs",children:["(Current Age: ",T!==null?T:"N/A",")"]})]}),x.jsx("input",{type:"date",id:"dob",value:d,onChange:Q,required:!0,min:F,max:J,className:"mt-1 block w-full px-3 py-2 border border-gray-400 rounded-md shadow-sm text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-[#ff1818] focus:border-[#ff1818] focus:ring-offset-1 sm:text-sm"}),x.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"You must be between 16 and 100 years old."})]}),A&&x.jsx("p",{className:"text-sm text-red-600 text-center",role:"alert",children:A}),x.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center px-6 py-3 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-[#ff1818] hover:bg-[#e00000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-all duration-150 ease-in-out transform hover:scale-105",children:[x.jsx(fh,{className:"w-5 h-5 mr-2"}),"Update Profile"]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl",children:[x.jsx("h2",{className:"text-2xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-[#ff4545] to-[#ff1818] mb-6",children:"Your GAGE Stats"}),x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[x.jsx(de,{title:"Your GAGE",value:r.communityAverageGuess!==null?r.communityAverageGuess.toFixed(1):"N/A",children:x.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Avg. age others guess for you (coming soon!)."})}),x.jsx(de,{title:"Your Guessing Accuracy",value:ue(),children:x.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[r.myNumberOfGuessesMade," guesses made."]})})]}),r.lastThreeGuesses&&r.lastThreeGuesses.length>0&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-3",children:"Your Recent Gages:"}),x.jsx("div",{className:"space-y-4",children:r.lastThreeGuesses.map((C,S)=>x.jsxs("div",{className:"flex items-center bg-white p-3 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow",children:[x.jsx("img",{src:C.guessedUserPhotoBase64,alt:C.guessedUserName||"Guessed user",className:"w-16 h-20 object-cover rounded-md mr-4 border border-gray-100"}),x.jsxs("div",{className:"flex-grow",children:[x.jsx("p",{className:"font-semibold text-gray-800",children:C.guessedUserName||"A User"}),x.jsxs("p",{className:"text-sm text-gray-600",children:["Actual Age: ",x.jsx("span",{className:"font-bold",children:C.theirActualAge})]}),x.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:["Your Guess: ",x.jsx("span",{className:"font-bold",children:C.yourGuess}),ae(C)]}),x.jsxs("p",{className:"text-xs text-gray-500",children:["Points: ",C.pointsEarned]})]})]},C.guessedUserId+S+C.theirActualAge))})]}),r.lastThreeGuesses&&r.lastThreeGuesses.length===0&&r.myNumberOfGuessesMade>0&&x.jsx("p",{className:"text-center text-gray-500 text-sm mt-4",children:"You've made guesses, but recent history isn't available. This might be due to an older profile version."}),r.myNumberOfGuessesMade===0&&x.jsx("p",{className:"text-center text-gray-500 text-sm mt-4",children:"Start playing to see your recent gages here!"})]})]})},rI=()=>{const{profile:r,setProfileData:e,isLoading:i}=Ka(),a=Pr(),[o,c]=B.useState(null),[d,g]=B.useState(null),[p,y]=B.useState(null),[T,w]=B.useState(!1);B.useEffect(()=>{i||r||a("/login",{replace:!0})},[r,i,a]),B.useEffect(()=>{r!=null&&r.photoBase64&&!o&&c(r.photoBase64)},[r,o]);const A=(V,Q)=>{c(V),g(Q),y(null)},j=async V=>{if(V.preventDefault(),!o){y("Please upload a profile picture to continue.");return}if(!r){y("Profile not found. Please try logging in again.");return}y(null),w(!0);try{await e({photoBase64:o,photoFromGoogle:!1})}catch(Q){console.error("Error saving photo:",Q),y("Failed to save photo. Please try again."),w(!1)}};return i||!r&&!i?x.jsxs("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:[x.jsx(qi,{size:"lg"}),x.jsx("p",{className:"ml-3 text-slate-600",children:"Loading your profile..."})]}):r?x.jsx("div",{className:"min-h-[calc(100vh-200px)] flex flex-col items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md space-y-6",children:[x.jsxs("div",{className:"text-center",children:[x.jsx(s1,{className:"h-12 w-auto text-[#ff1818] mx-auto mb-3"}),x.jsxs("h2",{className:"text-2xl sm:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#ff4545] to-[#ff1818]",children:["Hi, ",r.name,"!"]}),x.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"One last step: let's add your profile picture."})]}),x.jsxs("form",{onSubmit:j,className:"mt-6 space-y-6 bg-white p-6 sm:p-8 rounded-xl shadow-2xl transform hover:scale-[1.01] transition-transform duration-300",children:[x.jsx(u1,{onImageUpload:A,currentImagePreview:o,label:"Profile Picture",aspectRatio:"square",idSuffix:"initial-photo"}),p&&x.jsx("p",{className:"text-sm text-red-600 text-center",role:"alert",children:p}),x.jsxs("button",{type:"submit",disabled:T||!o,className:"w-full flex items-center justify-center px-6 py-3 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-[#ff1818] hover:bg-[#e00000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-all duration-150 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:[T?x.jsx(qi,{size:"sm",color:"text-white",className:"mr-2"}):x.jsx(fh,{className:"w-5 h-5 mr-2"}),"Set Picture & Start Playing"]})]})]})}):x.jsx("div",{className:"text-center p-4",children:"Redirecting to login..."})},sI=()=>{const r=Pr(),{profile:e,updateUserGuessingStats:i,isLoading:a}=Ka(),[o,c]=B.useState(null),[d,g]=B.useState(30),[p,y]=B.useState([]),[T,w]=B.useState(0),[A,j]=B.useState(null),[V,Q]=B.useState("idle"),[K,F]=B.useState(null),J=B.useRef(!1);return B.useEffect(()=>{!a&&!e&&r("/login",{replace:!0})},[a,e,r]),B.useEffect(()=>{if(e&&e.id){const ne=KC(e.id);ne.length===0?(F("Come back soon to gauge more ages"),y([])):(F(null),y([...ne].sort(()=>Math.random()-.5))),w(0),Q("idle")}},[e==null?void 0:e.id,a]),B.useEffect(()=>{if(V==="idle"&&p.length>0&&e){const ne=T%p.length;c(p[ne]),g(30)}else V==="idle"&&p.length===0&&e&&!a&&c(null)},[p,T,e,V,a]),B.useEffect(()=>{let ne;return V==="fadingOutProfile"?ne=window.setTimeout(()=>Q("showingGage"),300):V==="showingGage"?ne=window.setTimeout(()=>Q("showingGaged"),700):V==="showingGaged"?ne=window.setTimeout(()=>Q("gagedComplete"),1500):V==="gagedComplete"&&(Q("idle"),w(ue=>ue+1),J.current=!1),()=>window.clearTimeout(ne)},[V]),B.useCallback(async()=>{if(J.current||!o||!e||V!=="idle")return;J.current=!0;const ne=d,ue=o.actualAge,ae=Math.abs(ne-ue);let de=0;ae===0?de=10:ae===1?de=9:ae===2?de=7:ae===3?de=5:ae===4?de=3:ae===5?de=2:ae>=6&&ae<=7?de=1:de=0,i(de,o,ne);try{const C=CC(YC,"users",o.id);await BC(C,{communityAverageGuessTotal:B0(ne),numberOfCommunityGuesses:B0(1),guessHistory:GC({guesserId:e.id,guessValue:ne})})}catch(C){console.error("Error updating Firestore for guess:",C)}ae>=1&&ae<=3?(j({text:ae.toString(),colorClass:"text-[#ff1818]",key:Date.now()}),setTimeout(()=>{j(null),w(C=>C+1),J.current=!1},1500)):ae===0?Q("fadingOutProfile"):setTimeout(()=>{w(C=>C+1),J.current=!1},500)},[o,e,d,i,V]),a?x.jsx(qi,{size:"lg"}):e?K&&V==="idle"?x.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-xl max-w-md mx-auto",children:[x.jsx("h3",{className:"text-2xl font-semibold text-[#ff1818] mb-4",children:"No Gages Available"}),x.jsx("p",{className:"text-slate-600 mb-6",children:K}),x.jsx("button",{onClick:()=>r("/statistics"),className:"px-6 py-3 bg-[#ff1818] text-white font-semibold rounded-lg shadow-md hover:bg-[#e00000]",children:"Go to Your Profile & Stats"})]}):x.jsx("div",{}):x.jsx(qi,{size:"lg"})},H0=({title:r,value:e,children:i,icon:a})=>x.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300",children:[x.jsxs("div",{className:"flex items-center text-gray-500 mb-1",children:[a&&x.jsx("span",{className:"mr-2",children:a}),x.jsx("h3",{className:"text-sm font-medium uppercase tracking-wider",children:r})]}),x.jsx("p",{className:"mt-1 text-3xl font-semibold text-[#ff1818]",children:e}),i&&x.jsx("div",{className:"mt-2 text-xs text-gray-500",children:i})]}),aI=r=>{const e=Math.abs(r.theirActualAge-r.yourGuess);let i="",a=null;return e===0?(i="Spot on!",a=x.jsx(Kc,{className:"w-5 h-5 text-green-500 ml-2"})):e<=2?(i=`Very Close! Off by ${e} year${e===1?"":"s"}`,a=x.jsx(Kc,{className:"w-5 h-5 text-yellow-500 ml-2"})):e<=5?(i=`Close! Off by ${e} years`,a=x.jsx(l1,{className:"w-5 h-5 text-orange-500 ml-2"})):(i=`Off by ${e} years`,a=x.jsx(o1,{className:"w-5 h-5 text-red-500 ml-2"})),x.jsxs("span",{title:i,className:"flex items-center",children:[a," ",x.jsx("span",{className:"sr-only",children:i})]})},lI=()=>{const{profile:r,isLoading:e}=Ka(),i=Pr();if(B.useEffect(()=>{!e&&!r&&i("/login",{replace:!0})},[e,r,i]),e)return x.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-300px)]",children:x.jsx(qi,{size:"lg"})});if(!r)return x.jsxs("div",{className:"flex items-center justify-center min-h-[calc(100vh-300px)]",children:[x.jsx(qi,{size:"lg"}),x.jsx("p",{className:"ml-4 text-slate-700",children:"Redirecting to login..."})]});const o=(()=>{if(r.myNumberOfGuessesMade===0)return"N/A";const d=r.myNumberOfGuessesMade*10;if(d===0)return"0%";const g=r.myTotalGuessingPoints/d*100;return`${Math.round(g)}%`})(),c=r.numberOfCommunityGuesses>0&&r.communityAverageGuess!==null?Math.round(r.communityAverageGuess):"N/A";return x.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[x.jsxs("div",{className:"flex flex-col items-center space-y-4 pt-4 sm:pt-0",children:[r.photoBase64?x.jsx("img",{src:r.photoBase64,alt:"Your profile",className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full object-cover shadow-xl border-4 border-white transform hover:scale-105 transition-transform"}):x.jsx(Zm,{className:"w-32 h-32 sm:w-40 sm:h-40 text-gray-300 bg-gray-100 p-4 rounded-full shadow-xl border-4 border-white"}),x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-[#ff4545] to-[#ff1818]",children:r.name}),x.jsxs("p",{className:"text-gray-600 text-lg",children:["Age: ",r.actualAge]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs(H0,{title:"Your GAGE",value:c,children:[x.jsx("p",{children:"Avg. age others guess for you."}),x.jsxs("p",{children:["Based on ",r.numberOfCommunityGuesses," community guess",r.numberOfCommunityGuesses===1?"":"es","."]})]}),x.jsxs(H0,{title:"GAGER Score",value:o,children:[x.jsx("p",{children:"Your accuracy in guessing others' ages."}),x.jsxs("p",{children:["Based on ",r.myNumberOfGuessesMade," guess",r.myNumberOfGuessesMade===1?"":"es"," you've made."]})]})]}),x.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-xl",children:[x.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Your Last 3 Gages"}),r.lastThreeGuesses&&r.lastThreeGuesses.length>0?x.jsx("div",{className:"space-y-4",children:r.lastThreeGuesses.map((d,g)=>x.jsxs("div",{className:"flex flex-col sm:flex-row items-center bg-gray-50 p-4 rounded-lg shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-300",children:[x.jsx("img",{src:d.guessedUserPhotoBase64,alt:d.guessedUserName||"Guessed user",className:"w-20 h-24 sm:w-24 sm:h-28 object-cover rounded-md mr-0 sm:mr-4 mb-3 sm:mb-0 border border-gray-100"}),x.jsxs("div",{className:"flex-grow text-center sm:text-left",children:[x.jsx("p",{className:"font-semibold text-gray-800 text-lg",children:d.guessedUserName||"A User"}),x.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1 text-sm mt-1",children:[x.jsx("span",{className:"text-gray-600",children:"Actual Age:"})," ",x.jsx("span",{className:"font-bold",children:d.theirActualAge}),x.jsx("span",{className:"text-gray-600",children:"Your Guess:"}),x.jsxs("span",{className:"font-bold flex items-center justify-center sm:justify-start",children:[d.yourGuess," ",aI(d)]})]}),x.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Points Earned: ",d.pointsEarned]}),x.jsxs("p",{className:"text-xs text-gray-500",children:["Difference: ",Math.abs(d.theirActualAge-d.yourGuess)," year",Math.abs(d.theirActualAge-d.yourGuess)===1?"":"s"]})]})]},d.guessedUserId+g+d.yourGuess))}):x.jsx("p",{className:"text-center text-gray-500 py-4",children:"You haven't made any guesses yet. Play the game to see your history here!"})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4 pt-4 pb-8",children:[x.jsxs("button",{onClick:()=>i("/game"),className:"w-full sm:w-auto flex items-center justify-center px-8 py-3 border border-transparent rounded-lg shadow-md text-base font-medium text-white bg-[#ff1818] hover:bg-[#e00000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-all duration-150 ease-in-out transform hover:scale-105",children:[x.jsx(fh,{className:"w-5 h-5 mr-2"}),"Play GAGE"]}),x.jsxs("button",{onClick:()=>i("/account"),className:"w-full sm:w-auto flex items-center justify-center px-8 py-3 border border-gray-300 rounded-lg shadow-md text-base font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818] transition-all duration-150 ease-in-out transform hover:scale-105",children:[x.jsx(WC,{className:"w-5 h-5 mr-2"}),"Manage Account"]})]})]})},oI=()=>x.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-10 text-slate-800 bg-white rounded-md shadow-md mt-10",children:[x.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Privacy Policy"}),x.jsx("p",{className:"mb-4",children:'This Privacy Policy explains how Gage ("we", "us", or "our") collects, uses, shares, and protects the personal information of users who use our application.'}),x.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Information We Collect"}),x.jsxs("ul",{className:"list-disc list-inside mb-4",children:[x.jsx("li",{children:"Email address (via Google sign-in)"}),x.jsx("li",{children:"Date of birth (used to calculate your age)"}),x.jsx("li",{children:"Your GAGE score (your guessing game performance)"})]}),x.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"How We Use Your Information"}),x.jsx("p",{className:"mb-4",children:"We use your information to operate and improve the Gage experience, including:"}),x.jsxs("ul",{className:"list-disc list-inside mb-4",children:[x.jsx("li",{children:"Personalizing gameplay and tracking your progress"}),x.jsx("li",{children:"Improving our product based on usage insights"}),x.jsx("li",{children:"Potentially contacting you with product updates or relevant marketing (you may opt out)"})]}),x.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Data Sharing"}),x.jsx("p",{className:"mb-4",children:"We may share anonymized and aggregated data publicly or with partners. Personally identifiable information (like email or exact age) will only be shared with your consent or when legally required."}),x.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Your Rights"}),x.jsx("p",{className:"mb-4",children:"You can request to view, modify, or delete your data at any time by contacting us."}),x.jsx("h2",{className:"text-xl font-semibold mt-6 mb-2",children:"Contact"}),x.jsxs("p",{children:["For any privacy-related questions, reach out to us at: ",x.jsx("strong",{children:"hello@gagetheage.com"})]})]}),uI=()=>{const{currentUser:r,isLoading:e}=Ro(),{profile:i,isLoading:a}=Ka(),o=Pr(),c=Fi(),d=r&&(i==null?void 0:i.hasProvidedDob)&&(i==null?void 0:i.photoBase64);return B.useEffect(()=>{if(!(e||a))if(r){if(!i)return;const g=["/","/login"].includes(c.pathname);["/game","/statistics"].includes(c.pathname),!i.hasProvidedDob&&c.pathname!=="/account"?o("/account",{replace:!0}):!i.photoBase64&&c.pathname!=="/upload-photo"?o("/upload-photo",{replace:!0}):g&&d&&o("/game",{replace:!0})}else c.pathname!=="/login"&&o("/login",{replace:!0})},[r,i,e,a,c.pathname,o,d]),e||r&&a?x.jsxs("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)]",children:[x.jsx(qi,{size:"lg"}),x.jsx("p",{className:"ml-3 text-slate-700",children:e?"Authenticating...":"Loading profile..."})]}):x.jsxs(kb,{children:[x.jsx(Ar,{path:"/login",element:r?x.jsx(Ca,{to:d?"/game":i!=null&&i.hasProvidedDob?"/upload-photo":"/account",replace:!0}):x.jsx(tI,{})}),x.jsx(Ar,{path:"/account",element:r?x.jsx(iI,{}):x.jsx(Ca,{to:"/login",replace:!0})}),x.jsx(Ar,{path:"/upload-photo",element:r&&(i!=null&&i.hasProvidedDob)?x.jsx(rI,{}):x.jsx(Ca,{to:r?"/account":"/login",replace:!0})}),x.jsx(Ar,{path:"/game",element:d?x.jsx(sI,{}):x.jsx(Ca,{to:r?i!=null&&i.hasProvidedDob?"/upload-photo":"/account":"/login",replace:!0})}),x.jsx(Ar,{path:"/statistics",element:d?x.jsx(lI,{}):x.jsx(Ca,{to:"/login",replace:!0})}),x.jsx(Ar,{path:"/privacy-policy",element:x.jsx(oI,{})}),x.jsx(Ar,{path:"*",element:x.jsx(Ca,{to:"/login",replace:!0})})]})},cI=()=>{const{currentUser:r}=Ro(),{profile:e}=Ka(),{signOut:i}=Ro(),a=Pr(),o=r&&(e==null?void 0:e.hasProvidedDob)&&(e==null?void 0:e.photoBase64),c=async()=>{await i(),a("/login",{replace:!0})};return x.jsxs("div",{className:"min-h-screen bg-[#F0E1D1] text-slate-800 flex flex-col",children:[x.jsx("header",{className:"sticky top-0 z-50 bg-white/80 backdrop-blur-md shadow-lg",children:x.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:x.jsxs("div",{className:"flex items-center h-20",children:[x.jsx("div",{className:"w-1/3 flex justify-start",children:r&&x.jsx("button",{onClick:()=>{o?a("/statistics"):e!=null&&e.hasProvidedDob?e!=null&&e.photoBase64||a("/upload-photo"):a("/account")},className:"p-1 rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-[#ff1818]",children:e!=null&&e.photoBase64?x.jsx("img",{src:e.photoBase64,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-2 border-gray-300"}):x.jsx(Zm,{className:"w-10 h-10 text-gray-500"})})}),x.jsx("div",{className:"w-1/3 flex justify-center",children:x.jsx("button",{onClick:()=>a(o?"/game":"/login"),className:"text-[#ff1818]",children:x.jsx(a1,{className:"h-10 sm:h-12 w-auto"})})}),x.jsx("div",{className:"w-1/3 flex justify-end",children:r&&x.jsx("button",{onClick:c,className:"p-2 text-gray-500 hover:text-[#ff1818]",children:x.jsx(eI,{className:"w-6 h-6"})})})]})})}),x.jsx("main",{className:"flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12",children:x.jsx(uI,{})}),x.jsx("footer",{className:"bg-white/50 py-6 text-center",children:x.jsxs("p",{className:"text-sm text-gray-600",children:["© ",new Date().getFullYear()," Gage. For entertainment purposes only."," ",x.jsx("a",{href:"/privacy-policy.html",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:"Privacy Policy"})]})})]})},hI=()=>x.jsx(QC,{children:x.jsx(ZC,{children:x.jsx(lA,{children:x.jsx(cI,{})})})}),c1=document.getElementById("root");if(!c1)throw new Error("Could not find root element to mount to");const fI=YT.createRoot(c1);fI.render(x.jsx(LT.StrictMode,{children:x.jsx(hI,{})}));
